<!DOCTYPE html>
<html>
<head>
  <meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.6.0">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Guessing attacks</title>
  <link rel="stylesheet" type="text/css" href="../../style.css">
  <link rel="alternate" type="application/atom+xml" href="https://blog.rfox.eu/atom_cz.xml">
  <link rel="shortcut icon" href="/favicon.ico">
  <style>
  pre { line-height: 125%; }
  td.linenos pre { color: #000000; background-color: #f0f0f0; padding-left: 5px; padding-right: 5px; }
  span.linenos { color: #000000; background-color: #f0f0f0; padding-left: 5px; padding-right: 5px; }
  td.linenos pre.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
  span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
  .hll { background-color: #ffffcc }
  .c { color: #408080; font-style: italic } /* Comment */
  .err { border: 1px solid #FF0000 } /* Error */
  .k { color: #008000; font-weight: bold } /* Keyword */
  .o { color: #666666 } /* Operator */
  .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
  .cm { color: #408080; font-style: italic } /* Comment.Multiline */
  .cp { color: #BC7A00 } /* Comment.Preproc */
  .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
  .c1 { color: #408080; font-style: italic } /* Comment.Single */
  .cs { color: #408080; font-style: italic } /* Comment.Special */
  .gd { color: #A00000 } /* Generic.Deleted */
  .ge { font-style: italic } /* Generic.Emph */
  .gr { color: #FF0000 } /* Generic.Error */
  .gh { color: #000080; font-weight: bold } /* Generic.Heading */
  .gi { color: #00A000 } /* Generic.Inserted */
  .go { color: #888888 } /* Generic.Output */
  .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
  .gs { font-weight: bold } /* Generic.Strong */
  .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
  .gt { color: #0044DD } /* Generic.Traceback */
  .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
  .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
  .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
  .kp { color: #008000 } /* Keyword.Pseudo */
  .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
  .kt { color: #B00040 } /* Keyword.Type */
  .m { color: #666666 } /* Literal.Number */
  .s { color: #BA2121 } /* Literal.String */
  .na { color: #7D9029 } /* Name.Attribute */
  .nb { color: #008000 } /* Name.Builtin */
  .nc { color: #0000FF; font-weight: bold } /* Name.Class */
  .no { color: #880000 } /* Name.Constant */
  .nd { color: #AA22FF } /* Name.Decorator */
  .ni { color: #999999; font-weight: bold } /* Name.Entity */
  .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
  .nf { color: #0000FF } /* Name.Function */
  .nl { color: #A0A000 } /* Name.Label */
  .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
  .nt { color: #008000; font-weight: bold } /* Name.Tag */
  .nv { color: #19177C } /* Name.Variable */
  .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
  .w { color: #bbbbbb } /* Text.Whitespace */
  .mb { color: #666666 } /* Literal.Number.Bin */
  .mf { color: #666666 } /* Literal.Number.Float */
  .mh { color: #666666 } /* Literal.Number.Hex */
  .mi { color: #666666 } /* Literal.Number.Integer */
  .mo { color: #666666 } /* Literal.Number.Oct */
  .sa { color: #BA2121 } /* Literal.String.Affix */
  .sb { color: #BA2121 } /* Literal.String.Backtick */
  .sc { color: #BA2121 } /* Literal.String.Char */
  .dl { color: #BA2121 } /* Literal.String.Delimiter */
  .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
  .s2 { color: #BA2121 } /* Literal.String.Double */
  .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
  .sh { color: #BA2121 } /* Literal.String.Heredoc */
  .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
  .sx { color: #008000 } /* Literal.String.Other */
  .sr { color: #BB6688 } /* Literal.String.Regex */
  .s1 { color: #BA2121 } /* Literal.String.Single */
  .ss { color: #19177C } /* Literal.String.Symbol */
  .bp { color: #008000 } /* Name.Builtin.Pseudo */
  .fm { color: #0000FF } /* Name.Function.Magic */
  .vc { color: #19177C } /* Name.Variable.Class */
  .vg { color: #19177C } /* Name.Variable.Global */
  .vi { color: #19177C } /* Name.Variable.Instance */
  .vm { color: #19177C } /* Name.Variable.Magic */
  .il { color: #666666 } /* Literal.Number.Integer.Long */
  </style>
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@Bystroushaak">
  <meta name="twitter:title" content="Guessing attacks">
  <meta name="twitter:description" content="ÄŒlÃ¡nek o crackovÃ¡nÃ­ hesel, rÅ¯znÃ½ch pÅ™Ã­stupech a k tomu jedna malÃ¡ challenge.">
  <script src="../../scripts.js"></script>
  <meta name="description" content="ÄŒlÃ¡nek o crackovÃ¡nÃ­ hesel, rÅ¯znÃ½ch pÅ™Ã­stupech a k tomu jedna malÃ¡ challenge.">
  <meta name="keywords" content="cracking,programovani,python,m0wFG3PRCoJVTs7JcgBwsOXb3U7yPxBB"><!-- Global site tag (gtag.js) - Google Analytics -->

  <script src="https://www.googletagmanager.com/gtag/js?id=UA-142545439-1"></script>
  <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'UA-142545439-1');
  </script>
</head>
<body onload="on_body_load();">
  <div id="sidebar_top">
    <span><a href="https://blog.rfox.eu/atom_cz.xml"><img style="width: 3em;" src="../../rss_icon.png"></a> &nbsp; &nbsp; <a href="https://twitter.com/Bystroushaak"><img style="width: 3em;" src="../../twitter_icon.png"></a></span>
    <div id="last_five_top">
      <h3>New posts</h3>
      <ul>
        <li>
          <a href="../Povidky/Software.html" title="Software">Software</a>
        </li>
        <li>
          <a href="../Ostatni/Paromobilita_je_budoucnost.html" title="Paromobilita je budoucnost">Paromobilita je budoucnost</a>
        </li>
        <li>
          <a href="../Ostatni/Algoritmus_hledani_programatorske_prace_2021-4.html" title="Algoritmus hledÃ¡nÃ­ programÃ¡torskÃ© prÃ¡ce 2021/4">Algoritmus hledÃ¡nÃ­ programÃ¡torskÃ© prÃ¡ce 2021/4</a>
        </li>
        <li>
          <a href="../3D_tisk/Nastaveni_Blenderu_pro_3D_tisk.html" title="NastavenÃ­ Blenderu pro 3D tisk">NastavenÃ­ Blenderu pro 3D tisk</a>
        </li>
        <li>
          <a href="../3D_modelovani/Geometricky_stred_Prahy.html" title="GeometrickÃ½ stÅ™ed Prahy">GeometrickÃ½ stÅ™ed Prahy</a>
        </li>
        <li>
          <a href="../../Utrzky/Posta_poezie.html" title="PoÅ¡ta (poezie)"><span class="icon">ğŸ—’ï¸</span>PoÅ¡ta (poezie)</a>
        </li>
        <li>
          <a href="../Ostatni/Statni_zklamani.html" title="StÃ¡tnÃ­ zklamÃ¡nÃ­">StÃ¡tnÃ­ zklamÃ¡nÃ­</a>
        </li>
        <li>
          <a href="../3D_tisk/3D_TODO_list_1_Drzak_na_sluchatka.html" title="3D TODO list 1; DrÅ¾Ã¡k na sluchÃ¡tka">3D TODO list 1; DrÅ¾Ã¡k na sluchÃ¡tka</a>
        </li>
        <li>
          <a href="../Ostatni/Dva_podvodnici.html" title="Dva podvodnÃ­ci">Dva podvodnÃ­ci</a>
        </li>
        <li>
          <a href="../3D_tisk/3D_tiskarna_Prusa_MK3S_sestaveni_a_prvni_tisk.html" title="3D tiskÃ¡rna PrÅ¯Å¡a MK3S+; sestavenÃ­ a prvnÃ­ tisk">3D tiskÃ¡rna PrÅ¯Å¡a MK3S+; sestavenÃ­ a prvnÃ­ tisk</a>
        </li>
      </ul>& <a href="../../Zmeny.html" title="ZmÄ›ny">more</a>
    </div>
    <div>
      <h3>Tagy</h3>
      <p><a href="../../Tagy/cracking.html" title="cracking">cracking</a>, <a href="../../Tagy/programovani.html" title="programovani">programovani</a>, <a href="../../Tagy/python.html" title="python">python</a></p>
    </div>
    <div>
      <h3>Blog categories</h3>
      <ul class="no_icon">
        <li>
          <a href="../Povidky.html" title="PovÃ­dky">ğŸ“‚ PovÃ­dky</a>
        </li>
        <li>
          <a href="../3D_modelovani.html" title="3D modelovÃ¡nÃ­">ğŸ“‚ 3D modelovÃ¡nÃ­</a>
        </li>
        <li>
          <a href="../3D_tisk.html" title="3D tisk">ğŸ“‚ 3D tisk</a>
        </li>
        <li>
          <a href="../Programovani.html" title="ProgramovÃ¡nÃ­">ğŸ“‚ ProgramovÃ¡nÃ­</a>
        </li>
        <li>
          <a href="../Crypto.html" title="Crypto">ğŸ“‚ Crypto</a>
        </li>
        <li>
          <a href="../Ostatni.html" title="OstatnÃ­">ğŸ“‚ OstatnÃ­</a>
        </li>
        <li>
          <a href="../Knihy.html" title="Knihy">ğŸ“‚ Knihy</a>
        </li>
        <li>
          <a href="../Predstaveni.html" title="PÅ™edstavenÃ­">ğŸ“‚ PÅ™edstavenÃ­</a>
        </li>
        <li>
          <a href="../Abclinuxu.html" title="Abclinuxu">ğŸ“‚ Abclinuxu</a>
        </li>
        <li>
          <a href="../Hardware.html" title="Hardware">ğŸ“‚ Hardware</a>
        </li>
        <li>
          <a href="../Hrbitov.html" title="HÅ™bitov">ğŸ“‚ HÅ™bitov</a>
        </li>
        <li>
          <a href="../index.html" title="Czech section">ğŸ“‚ Czech section</a>
        </li>
      </ul>
    </div>
  </div><a class="breadcrumb" href="../../index.html" title="Bystroushaak's blog">Bystroushaak's blog</a> / <a class="breadcrumb" href="../index.html" title="Czech section">Czech section</a> / <a class="breadcrumb" href="index.html" title="ProgramovÃ¡nÃ­">ProgramovÃ¡nÃ­</a> / Guessing attacks
  <article id="303c30a2-fa2c-4bf5-8047-7dd343c2cab1" class="page sans">
    <header>
      <h1 class="page-title">Guessing attacks</h1>
    </header>
    <div class="page-body">
      <p id="fdec48f6-33f5-4f18-950c-e73cc6f0ff45" class=""><time>@2012/10/10</time></p>
      <p id="69254048-500a-4357-89ae-e5f3ac6a9b0a" class="">ÄŒlÃ¡nek je vÄ›novÃ¡n <a href="http://www.soom.cz/index.php?name=box&amp;box=user/profile/main&amp;who=nitrexx">nitrexxovi</a>, tÅ™eba mu to pomÅ¯Å¾e pÅ™ekousnout strach z kritiky a dojde mu, Å¾e tÃ­m lidÃ© neÃºtoÄÃ­ na jeho osobu, ale naopak, jde o snahu vylepÅ¡enÃ­ ÄlÃ¡nku.</p>
      <h2 id="c340441b-45b2-4de1-91ee-3fd8cbf83e93" class="">SituaÄnÃ­ nÃ¡kres</h2>
      <p id="90e96e26-d6b0-4ef7-8445-db8a6d3c988d" class="">Je rok 2015, nachÃ¡zÃ­te se pÅ™ed vaÅ¡Ã­m poÄÃ­taÄem, je noc a jste na poÄÃ¡tku tÃ½dennÃ­ch prÃ¡zdnin/dovolenÃ©. Tamtamy na IRC k vÃ¡m donesou informaci o neproniknutelnÃ©m stroji, do kterÃ©ho tvÅ¯rci uschovali neznÃ¡mÃ© tajemstvÃ­.</p>
      <p id="cd2e186d-db4f-4849-9c17-f03707ebf1d4" class="">Na stroji nebÄ›Å¾Ã­ Å¾Ã¡dnÃ¡ jinÃ¡ sluÅ¾ba kromÄ› telnetu na portu 2222, kterÃ½ zobrazÃ­ sporadickÃ©:</p>
      <pre id="b2260034-76e0-4efb-9c85-72578997fe1b" class="code code-wrap"><code>czCube password:</code></pre>
      <p id="188f83ea-1a9f-44e9-8b6b-2d1597d62bcf" class="">KrÃ¡tkÃ© googlenÃ­ vÃ¡m <a href="http://www.czcube.org/">prozradÃ­</a>, Å¾e k poÄÃ­taÄi nikdy nezÃ­skÃ¡te fyzickÃ½ pÅ™Ã­stup, protoÅ¾e se nachÃ¡zÃ­ v amatÃ©rskÃ©m satelitu na orbitÄ› a vy se k nÄ›mu pÅ™ipojujete pomocÃ­ IP2PacketRadio nodu.</p>
      <p id="0ff38b80-a85f-40b9-8088-92422c2c520f" class="">Co takhle sociotechnika, nebo vzdÃ¡lenÃ½ Ãºtok na samotnÃ© uÅ¾ivatele ala password sniffer?</p>
      <p id="87c10796-e994-48bb-a6b3-eb536cbf37e8" class="">BohuÅ¾el, dalÅ¡Ã­ googlenÃ­ prozrazuje, Å¾e team stojÃ­cÃ­ za czCube byl popraven za vlastnictvÃ­ 100W Å¾Ã¡rovky zabijÃ¡ky z evropskÃ© unie. Jejich tÄ›la a vÅ¡echno technickÃ© vybavenÃ­ bylo zabaveno a spÃ¡leno v ekoelektrÃ¡rnÄ› na biomasu, takÅ¾e tudy cesta nevede.</p>
      <p id="79864f93-0706-4864-be04-116ad57c4693" class="">ZkusÃ­te systÃ©mu poslat delÅ¡Ã­ string, ale krÃ¡tkÃ¡ odpovÄ›Ä vÃ¡m napovÃ­, Å¾e <a href="http://www.secit.sk/content/buffer-overflow-exploitace-od-uplneho-zacatku">buffer overflow</a> se nekonÃ¡, protoÅ¾e autoÅ™i vstup hned ze zaÄÃ¡tku oÅ™Ã­zli na 10 znakÅ¯:</p>
      <pre id="c7cc6c77-7d2d-43a4-b51e-60dfe209e5ae" class="code code-wrap"><code>czCube password: a
Wrong password *!
czCube password: aaa
Wrong password ***!
czCube password: aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
Wrong password **********!
czCube password:</code></pre>
      <p id="99f23d72-a1d0-463c-9b55-97bd3fbbeabd" class="">Na kariÃ©ru kosmonauta jste se vykaÅ¡lali uÅ¾ kdysi dÃ¡vno, v prvnÃ­ tÅ™Ã­dÄ› s prvnÃ­ pÄ›tkou, takÅ¾e spÃ­Å¡ neÅ¾ o letu do vesmÃ­ru zauvaÅ¾ujete o moÅ¾nosti postavit satelit-zabijÃ¡k, kterÃ½ by czCube vyhledal a snesl na zem, nebo se napojil na jejÃ­ internÃ­ sbÄ›rnice pÅ™Ã­mo ve vesmÃ­ru. KrÃ¡tkÃ½ prÅ¯zkum vÃ¡m prozradÃ­, Å¾e by se to krapÃ¡nek prodraÅ¾ilo a s cenou $40000 za vynesenÃ­ krychle o hranÄ› 10cm na to radÅ¡i rychle zapomenete a rozhodujete se, Å¾e se do systÃ©mu dostanete vzdÃ¡lenÄ›, aÅ¥ to stojÃ­ co to stojÃ­.</p>
      <p id="d5220088-fa7f-4855-a131-1a121a541a42" class="">Jak se tedy dostat do tohoto satelitu na obloze (soubor <code>czcube_server.py</code> v pÅ™Ã­loze)? Je jasnÃ©, Å¾e vÃ¡m nezbude nic jinÃ©ho, neÅ¾ heslo prostÄ› zkouÅ¡et tak dlouho, dokud se netrefÃ­te. NaÅ¾havÃ­te tedy konzoli a jdete na to..</p>
      <h2 id="20dc4599-4fce-4053-b624-df09bd03b4da" class="">Guessing attacks</h2>
      <p id="6d87f16f-bb44-4f71-9cda-fde41f2dd055" class="">HÃ¡dacÃ­ Ãºtoky si dovolÃ­m rozdÄ›lit na tÅ™i typy:</p>
      <ul id="a7591d50-c9ca-4337-92f6-5677bc292622" class="bulleted-list">
        <li style="list-style-type:disc">bruteforce</li>
      </ul>
      <ul id="006c94e6-7e82-46d0-a29a-c22887ddc2e0" class="bulleted-list">
        <li style="list-style-type:disc">dictionary</li>
      </ul>
      <ul id="d25bcb6a-6bb6-45b2-8991-d19721e36c2b" class="bulleted-list">
        <li style="list-style-type:disc">side-channel</li>
      </ul>
      <p id="d4dbf0f6-16f8-4ceb-8ac7-3ad4bb3deca8" class="">Je mi jasnÃ©, Å¾e vÄ›tÅ¡ina z vÃ¡s o tÄ›chto typech jiÅ¾ slyÅ¡ela, nÄ›kterÃ© moÅ¾nÃ¡ trochu pÅ™ekvapÃ­ tÅ™etÃ­ typ Ãºtoku, kterÃ©mu se budu v krÃ¡tkosti vÄ›novat na konec, protoÅ¾e nemÃ¡ smysl ho tu rozpitvÃ¡vat - zaslouÅ¾il by si samostatnou knihu a jsem pÅ™esvÄ›dÄenÃ½, Å¾e se jÃ­ dÅ™Ã­v nebo pozdÄ›ji doÄkÃ¡.</p>
      <h2 id="70026cac-1b14-458e-be72-8db59e2809d6" class="">Bruteforce</h2>
      <p id="091fcd1a-586e-40b0-bf4d-c6ddc2bca6d1" class="">Bruteforce je ze vÅ¡ech tÅ™ech ÃºtokÅ¯ nejprimitivnÄ›jÅ¡Ã­, trvÃ¡ nejvÃ­ce Äasu a vÄ›tÅ¡ina modernÃ­ch systÃ©mÅ¯ jejichÅ¾ sprÃ¡vci vÃ­ co dÄ›lajÃ­ vÃ¡s s nÃ­m <a href="http://en.wikipedia.org/wiki/Fail2ban">poÅ¡le do hÃ¡je</a>.</p>
      <p id="f6a9be83-34d4-43b0-acdd-cbee02a37851" class="">Ãštok spoÄÃ­vÃ¡ jednoduÅ¡e v tom, Å¾e budete postupnÄ› zkouÅ¡et vÅ¡echny moÅ¾nÃ© kombinace. PrvnÄ› zkusÃ­te heslo 'a', pak 'b', pak 'c', aÅ¾ dorazÃ­te k 'z'. Tehdy prostÄ› pÅ™idÃ¡te jedno pÃ­smenko a jedete odznovu: 'aa', 'ab' .. 'az', 'ba', 'bb' .. 'zz'. Pak pÅ™idÃ¡te dalÅ¡Ã­ pÃ­smeno a pokraÄujete dÃ¡l, dokud neuhodnete heslo.</p>
      <p id="00f4a6e9-2b02-49f8-a6e9-0325b8e89071" class="">ZkouÅ¡et nÄ›co podobnÃ©ho ruÄnÄ› by u hesel s vÃ­ce jak pÃ¡r znaky mohlo trvat opravdu dlouho, proto je vhodnÃ© Äinnost zautomatizovat, napÅ™Ã­klad scriptem v Pythonu 2.7, kterÃ½ je, buÄme realistÃ©, v roce 2015 stÃ¡le jeÅ¡tÄ› Å¡iroce vyuÅ¾Ã­vÃ¡n :)</p>
      <h2 id="385a5602-0f7b-4c62-9843-d113b44d3dad" class="">czcube_cracker.py</h2>
      <p id="14015ebc-9a37-4fb0-a5ad-0377dae8e8e4" class="">Jako kaÅ¾dÃ½ problÃ©m, i tento je moÅ¾nÃ© dekomponovat na jednoduÅ¡Å¡Ã­ Ãºlohy:</p>
      <ol type="1" id="87aae781-fb8e-47c6-a218-f4c0fefa759f" class="numbered-list" start="1">
        <li>komunikace s czCube</li>
      </ol>
      <ol type="1" id="fcc7c6a2-f2eb-4ffc-ad6c-6be8b69eb16f" class="numbered-list" start="2">
        <li>ovÄ›Å™ovÃ¡nÃ­ hesla - potÅ™ebujeme funkci, kterÃ¡ nÃ¡m Å™ekne jestli uÅ¾ tam jsme</li>
      </ol>
      <ol type="1" id="c9afb162-75d0-4e84-bc70-c1322e47a776" class="numbered-list" start="3">
        <li>generovÃ¡nÃ­ Å™etÄ›zce</li>
      </ol>
      <h3 id="db90bc92-67d9-4a5c-af20-de019abb1acc" class="">Komunikace</h3>
      <p id="f5f5f06a-c45e-42ca-b2b1-b2c7184ef920" class="">Komunikaci s czCube obstarÃ¡ <a href="http://docs.python.org/library/telnetlib.html">telnetlib</a>, kterÃ¡ se pÅ™ipojÃ­ na zadanou adresu a umoÅ¾nÃ­ nÃ¡m s nÃ­ komunikovat.</p>
      <pre class="code"><code><span class="kn">import</span> <span class="nn">telnetlib</span>
 
<span class="n">HOST</span>    <span class="o">=</span> <span class="s2">"localhost"</span>
<span class="n">PORT</span>    <span class="o">=</span> <span class="mi">2222</span>
<span class="n">TIMEOUT</span> <span class="o">=</span> <span class="mi">5</span>
 
<span class="n">tn</span> <span class="o">=</span> <span class="n">telnetlib</span><span class="o">.</span><span class="n">Telnet</span><span class="p">(</span><span class="n">HOST</span><span class="p">,</span> <span class="n">PORT</span><span class="p">,</span> <span class="n">TIMEOUT</span><span class="p">)</span>
</code></pre>
      <p id="9c74cdb9-8f64-4ccd-ba53-5e22cd21c976" class="">V tomto pÅ™Ã­padÄ› se pÅ™ipojÃ­me na localhost kvÅ¯li interaktivnÃ­ ukÃ¡zce, viz podkapitola UkÃ¡zka.</p>
      <h3 id="6b996344-0d80-4922-985a-f8e83b6e6923" class="">OvÄ›Å™ovÃ¡nÃ­</h3>
      <p id="f9161029-75f8-4fe9-ab47-210460e47b31" class="">JelikoÅ¾ vÃ­me co za <a href="http://cs.wikipedia.org/wiki/P%C5%99%C3%ADkazov%C3%BD_%C5%99%C3%A1dek#Prompt">prompt</a> mÅ¯Å¾eme oÄekÃ¡vat (vÃ½zvu k zadÃ¡nÃ­ hesla, nebo oznÃ¡menÃ­ o Å¡patnÃ©m hesle), pouÅ¾ijeme metodu <a href="http://docs.python.org/library/telnetlib.html#telnetlib.Telnet.expect">expect()</a> objektu Telnet, kterÃ¡ oÄekÃ¡vÃ¡ dva argumenty: <code>prompts</code> a nepovinnÃ½ <code>timeout</code>. Funguje tak, Å¾e zasekne bÄ›h programu do tÃ© doby, dokud server neodpovÃ­ jednÃ­m z Å™etÄ›zcÅ¯ pÅ™edanÃ½ch v poli <code>prompts</code>, nebo dokud nevyprÅ¡Ã­ <code>timeout</code>. OdesÃ­lÃ¡nÃ­ dat probÃ­hÃ¡ pomocÃ­ metody <a href="http://docs.python.org/library/telnetlib.html#telnetlib.Telnet.write">write()</a>.</p>
      <p id="dd6d010b-a56d-4c0f-ba7b-fbcaf7a42378" class="">KdyÅ¾ nynÃ­ vÃ­me vÅ¡e potÅ™ebnÃ© pro komunikaci, mÅ¯Å¾eme napsat funkci, kterÃ¡ zkusÃ­ zadat systÃ©mu heslo a vrÃ¡tÃ­ nÃ¡m odpovÄ›Ä.</p>
      <pre class="code"><code><span class="n">PROMPT</span>  <span class="o">=</span> <span class="s2">"czCube password: "</span>
<span class="n">ERROR</span>   <span class="o">=</span> <span class="s2">"Wrong password"</span>
 
<span class="k">def</span> <span class="nf">tryPassword</span><span class="p">(</span><span class="n">tn</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
  <span class="n">tn</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">password</span> <span class="o">+</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
   
  <span class="c1"># cekej na prompt</span>
  <span class="n">e</span> <span class="o">=</span> <span class="n">tn</span><span class="o">.</span><span class="n">expect</span><span class="p">([</span><span class="n">PROMPT</span><span class="p">],</span> <span class="n">TIMEOUT</span><span class="p">)</span>
   
  <span class="c1"># expect() vraci pole o trech prvcich:</span>
  <span class="c1"># [status kod, match object, precteny string]</span>
  <span class="c1"># -&gt; testujeme zda li je vraceny string neco jineho, nez</span>
  <span class="c1"># PROMPT/ERROR</span>
  <span class="k">return</span> <span class="ow">not</span> <span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">PROMPT</span><span class="p">)</span> <span class="ow">or</span> <span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">ERROR</span><span class="p">))</span>
</code></pre>
      <p id="bea8183c-edb1-4bc2-8ebd-dd25771fd632" class="">DÅ¯leÅ¾itÃ© je nezapomenout vybrat z bufferu pÅ™ed prvnÃ­m pouÅ¾itÃ­m funkce <code>tryPassword()</code> prompt, kterÃ½ na nÃ¡s ÄekÃ¡ hned po otevÅ™enÃ­ spojenÃ­:</p>
      <pre class="code"><code><span class="n">tn</span><span class="o">.</span><span class="n">expect</span><span class="p">([</span><span class="n">PROMPT</span><span class="p">],</span> <span class="n">TIMEOUT</span><span class="p">)</span>
</code></pre>
      <p id="befdb509-9767-461a-aae2-59902195cc5a" class="">NynÃ­ mÅ¯Å¾eme pouÅ¾Ã­vat naÅ¡Ã­ funkci pro ovÄ›Å™enÃ­ hesla, kterÃ¡ nÃ¡m vracÃ­ hodnoty True/False podle toho, jestli jsme pouÅ¾ili sprÃ¡vnÃ©, nebo Å¡patnÃ© heslo.</p>
      <h3 id="51bfb4d9-a7dd-4b67-ab75-9c8d021a75c4" class="">GenerÃ¡tor</h3>
      <p id="192ef7cb-1bb0-4cc1-8168-6a958f454880" class="">KomunikaÄnÃ­ strÃ¡nku celÃ© vÄ›ci mÃ¡me vyÅ™eÅ¡enou, nynÃ­ se tedy koneÄnÄ› mÅ¯Å¾eme vÄ›novat implementaci podprogramu, kterÃ½ pÅ™i kaÅ¾dÃ©m jeho zavolÃ¡nÃ­ vrÃ¡tÃ­ o trochu vÃ­ce rozvinutÃ½ string vyuÅ¾itelnÃ½ k lÃ¡mÃ¡nÃ­ hesla.</p>
      <p id="14c53cb0-375d-4e7c-b695-ed44a110c2fe" class="">NÄ›koho naivnÄ›jÅ¡Ã­ho by moÅ¾nÃ¡ napadlo si Å™etÄ›zce pÅ™ed-generovat do pamÄ›ti a pak je zkouÅ¡et. To by nebyl moc dobrÃ½ nÃ¡pad, protoÅ¾e vÅ¡echny kombinace zabÃ­rajÃ­ skuteÄnÄ› velmi velkÃ© mnoÅ¾stvÃ­ pamÄ›ti. My si na to napÃ­Å¡eme speciÃ¡lnÃ­ objekt, kterÃ½ nÃ¡m pÅ™i kaÅ¾dÃ©m zavolÃ¡nÃ­ pÅ™epoÄÃ­tÃ¡ string.</p>
      <p id="1bb86e9f-689b-477e-b782-9f8a67364813" class="">Tento typ objektu se nazÃ½vÃ¡ <a href="http://cs.wikipedia.org/wiki/Iterator">iterÃ¡tor</a> a umoÅ¾Åˆuje nÃ¡m prochÃ¡zet sekvence pomocÃ­ jednotnÃ©ho rozhranÃ­. Podpora pro iterÃ¡tory je pÅ™Ã­mo zabudovanÃ¡ do Pythonu, proto s nÃ­m potÃ© mÅ¯Å¾eme pracovat pomocÃ­ jednoduchÃ© for smyÄky.</p>
      <p id="a78369ea-5c89-4cea-b241-a24df27454d8" class="">Implementace iterÃ¡toru v Pythonu je dost jednoduchÃ¡ - staÄÃ­ ve vlastnÃ­ tÅ™Ã­dÄ› nadefinovat dvÄ› metody: <code>__iter__()</code> a <code>next()</code>. <code>__iter__()</code> musÃ­ vracet objekt iterÃ¡toru, v tomto pÅ™Ã­padÄ› tedy <code>self</code>, neboli sÃ¡m sebe. <code>next()</code> vracÃ­ vÅ¾dy dalÅ¡Ã­ prvek ze sekvence, nebo vyjÃ­mku <code>StopIteration</code>, pokud byl dosaÅ¾en konec sekvence.</p>
      <p id="8f9c2e20-c153-4e83-bce7-a430bdd030ac" class="">Zde je objekt, kterÃ½ pÅ™i kaÅ¾dÃ©m svÃ©m pouÅ¾itÃ­ updatuje string pÅ™esnÄ› tak jak potÅ™ebujeme pro naÅ¡e ÃºÄely:</p>
      <pre class="code"><code><span class="k">class</span> <span class="nc">Brute</span><span class="p">():</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length</span><span class="p">,</span> <span class="n">seed</span><span class="p">):</span>
    <span class="c1"># seed si ulozime jako pole znaku</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">seed</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">seed</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">seed</span>
 
    <span class="c1"># pospojujeme objekty v pameti</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">next_brute</span> <span class="o">=</span> <span class="n">Brute</span><span class="p">(</span><span class="n">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">seed</span><span class="p">)</span> <span class="k">if</span> <span class="n">length</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="kc">None</span>
 
    <span class="c1"># ukazatel na aktualni pismeno, na zacatku -1, aby se objekt</span>
    <span class="c1"># neukazoval ve vypisu, kdyz ho jeste nepouzivame</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">act</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
 
  <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># zvys hodnotu act o jedna</span>
    <span class="c1"># pokud act prekroci velikost pole self.seed, aktualizuj dalsi objekt</span>
    <span class="c1"># v rade</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">act</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">seed</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">act</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">act</span> <span class="o">=</span> <span class="mi">0</span>
 
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">next_brute</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">next_brute</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="k">raise</span> <span class="ne">StopIteration</span><span class="p">()</span>
 
  <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span>
 
  <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span> <span class="c1"># proved jeden krok</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>
 
  <span class="c1"># vrat textovou reprezentaci vsech objektu jdoucich v rade za sebou</span>
  <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># preskakuj zatim nepouzite objekty - jinak by misto B vypisoval</span>
    <span class="c1"># AAAAAAB</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">act</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">""</span>
 
    <span class="c1"># zjisti znak dalsiho objektu v rade</span>
    <span class="n">out</span> <span class="o">=</span> <span class="s2">""</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">next_brute</span><span class="p">:</span>
      <span class="n">out</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">next_brute</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>
 
    <span class="k">return</span> <span class="n">out</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">seed</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">act</span><span class="p">]</span>
</code></pre>
      <p id="d211373a-a94b-4cb6-9712-7e71b938fbbe" class="">NÄ›koho moÅ¾nÃ¡ zarazÃ­ pouÅ¾itÃ­ inline if. NedÄ›ste se, funguje to stejnÄ› jako klasickÃ¡ if podmÃ­nka, jen je to kompaktnÄ›jÅ¡Ã­ zÃ¡pis co se tÃ½Äe pÅ™iÅ™azovÃ¡nÃ­ promÄ›nnÃ½ch.</p>
      <pre class="code"><code><span class="k">if</span> <span class="n">podmÃ­nka</span><span class="p">:</span>
  <span class="n">prom</span> <span class="o">=</span> <span class="n">nÄ›co</span>
<span class="k">else</span><span class="p">:</span>
  <span class="n">prom</span> <span class="o">=</span> <span class="n">nÄ›co_jinÃ©ho</span>
</code></pre>
      <p id="3c5434a7-d77b-4a5d-9f35-c235a0b132b5" class="">lze pÅ™epsat na</p>
      <pre class="code"><code><span class="n">prom</span> <span class="o">=</span> <span class="n">nÄ›co</span> <span class="k">if</span> <span class="n">podmÃ­nka</span> <span class="k">else</span> <span class="n">nÄ›co_jinÃ©ho</span>
</code></pre>
      <p id="20436c2b-686f-46f2-ad7c-779bffc61297" class="">Objekt pÅ™i vytvoÅ™enÃ­ oÄekÃ¡vÃ¡ dva parametry - <code>length</code>, kterÃ½ udÃ¡vÃ¡ kolik pÃ­smen chceme nechat vygenerovat a <code>seed</code>, kterÃ½ pro zmÄ›nu urÄuje z Äeho se budou kombinace sklÃ¡dat. Jako <code>seed</code> je moÅ¾nÃ© pouÅ¾Ã­t jak string (v tom pÅ™Ã­padÄ› se pouÅ¾ijÃ­ jednotlivÃ© znaky), tak pole stringÅ¯, coÅ¾ se nÃ¡m bude hodit pozdÄ›ji.</p>
      <p id="19e6eff1-8d35-4afb-822a-6af149ace7f2" class="">PouÅ¾itÃ­ objektu je dÃ­ky vyuÅ¾itÃ­ iterÃ¡toru silnÄ› triviÃ¡lnÃ­:</p>
      <pre class="code"><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">Brute</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s2">"abc"</span><span class="p">):</span>
  <span class="nb">print</span> <span class="n">i</span>
</code></pre>
      <p id="6e9ea241-24d0-48d2-be59-9f255c35eace" class="">vypÃ­Å¡e:</p>
      <pre id="90480a7c-948d-41ca-a3c5-4b5a420bbe68" class="code code-wrap"><code>a
b
c
aa
ab
ac
ba
bb
bc
ca
cb
cc</code></pre>
      <p id="520f6b50-0983-40bc-ac8f-af79d5234d7c" class="">DoufÃ¡m Å¾e vÃ¡m nemusÃ­m sloÅ¾itÄ› vysvÄ›tlovat, Å¾e nynÃ­ staÄÃ­ mÃ­sto vypisovÃ¡nÃ­ stringu pouÅ¾Ã­t jiÅ¾ dÅ™Ã­ve nadefinovanou metodu <code>tryPassword()</code>, kterÃ© pÅ™edÃ¡me jako druhÃ½ argument vygenerovanÃ½ string a bruteforcer je na svÄ›tÄ›.</p>
      <h2 id="116fd511-53e2-4cca-a4ee-9a2003dd69ac" class="">UkÃ¡zka</h2>
      <p id="5483bd9c-475d-4b8e-9e93-2af7ad4b2e79" class="">V pÅ™Ã­loze najdete dva soubory; <code>czcube_bruteforcer.py</code> a <code>czcube_server.py</code>.</p>
      <p id="6df8e7d5-ab1c-439f-9faa-17fd8be7c606" class="">Jejich funkce by mÄ›la bÃ½t vÅ¡em jasnÃ¡ z jejich nÃ¡zvu, ale pro jistotu - server je jednoduchÃ½ server, kterÃ½ oÄekÃ¡vÃ¡ vaÅ¡e heslo na portu 2222, tak jak jsem psal v prvnÃ­ kapitole.</p>
      <p id="f8f1db07-fbad-4c02-a029-21595440ea3a" class=""><strong>Server heslo nevÃ­, je v nÄ›m uloÅ¾enÃ© jako osolenÃ½ hash. Jakmile mu dodÃ¡te sprÃ¡vnÃ© heslo, pouÅ¾ije ho pro rozbalenÃ­ zaÅ¡ifrovanÃ½ch dat, kterÃ© vÃ¡m vypÃ­Å¡e na vÃ½stup, takÅ¾e se mÃ¡te proÄ snaÅ¾it ;)</strong></p>
      <p id="7bc0c552-99b5-424a-adec-75fac382de9b" class="">Bruteforcer je pak implementace scriptu tak jak jsem o nÃ­ psal, s tÃ­m Å¾e se automaticky snaÅ¾Ã­ pÅ™ipojit k serveru, kterÃ½ je zapotÅ™ebÃ­ nejdÅ™Ã­ve spustit, jinak vÅ¡e skonÄÃ­ chybou.</p>
      <p id="5d08127f-ccd1-4840-9ca0-2d4fdb3a8b8d" class="">ProsÃ­m ty ÄtenÃ¡Å™e, kteÅ™Ã­ se do serveru dostanou, aby si obsah nechali pro sebe a nekazili challenge ostatnÃ­m.</p>
      <h2 id="8bf6ac5e-16e6-42ed-bfc9-4f82d371c324" class="">ProblÃ©my</h2>
      <p id="26b4bb59-d834-4cf2-9bdf-30843c8cdbe0" class="">Pokud jste zkouÅ¡eli pÅ™edchozÃ­ pÅ™Ã­klady, nejspÃ­Å¡e jste si vÅ¡imli jednoho zÅ™ejmÃ©ho problÃ©mu; rychlosti, nebo spÃ­Å¡ pomalosti.</p>
      <p id="d41e4ae4-de29-48ba-92d5-ff2164a3d388" class="">DÅ¯vodÅ¯ proÄ script bÄ›Å¾Ã­ tak pomalu je hned nÄ›kolik:</p>
      <p id="bf1e9907-c807-4929-9911-f734adc2b3c6" class="">1) Implementace generÃ¡toru stringÅ¯ pomocÃ­ iterÃ¡torÅ¯ nenÃ­ zrovna nejefektivnÄ›jÅ¡Ã­ co se tÃ½Äe volÃ¡nÃ­ funkcÃ­, ale poÅ™Ã¡d zvlÃ¡dÃ¡ generovat Å™Ã¡dovÄ› tisÃ­ce aÅ¾ deseti-tisÃ­ce poÅ¾adavkÅ¯ za vteÅ™inu, coÅ¾ je pÅ™Ã­pustnÃ© u sÃ­Å¥ovÃ½ch sluÅ¾eb, ale pro lÃ¡mÃ¡nÃ­ hesel zaÅ¡ifrovanÃ½ch souborÅ¯ by to chtÄ›lo nÄ›co efektivnÄ›jÅ¡Ã­ho, napÅ™Ã­klad vnoÅ™enÃ© for smyÄky, Äi implementaci v kompilovanÃ©m jazyce.</p>
      <p id="e60f4f50-5953-4b2c-a0d8-a28cd3ab3c3e" class="">2) ÄŒekÃ¡nÃ­ na odezvu od serveru po zadÃ¡nÃ­ kaÅ¾dÃ©ho hesla (<code>expect()</code> v <code>tryPassword()</code>) je neefektivnÃ­.</p>
      <p id="ce4c6f56-9c46-4d44-b883-e5bd5114ec32" class="">3) Paralelizace. U tohoto serveru to sice fungovat nebude, protoÅ¾e obsluhuje vÅ¾dy jen jednoho klienta, ale u FTP, HTTP, telnetu Äi SSH byste mohli spustit script vÃ­cekrÃ¡t, tÅ™eba stokrÃ¡t.</p>
      <h2 id="7f6d14b7-aff0-4dd7-a08b-de9dcf42aeac" class="">NÃ¡vrhy na vylepÅ¡enÃ­</h2>
      <p id="db8657bb-1c51-493d-9955-a80e194b5794" class="">Abych to tedy shrnul na jedno mÃ­sto:</p>
      <h3 id="709116aa-615b-4613-b3a2-2ca0c30a30c1" class="">HromadnÃ© posÃ­lÃ¡nÃ­ dat</h3>
      <p id="6520712e-1b68-424b-8db1-2ae1fb50d86b" class="">Zkuste data posÃ­lat hromadnÄ›, najednou tÅ™eba sto, tisÃ­c nebo deset tisÃ­c pokusÅ¯ bez ÄtenÃ­ odpovÄ›dÃ­. OdpovÄ›di pak pÅ™eÄtÄ›te a parsujte narÃ¡z, pokud natrefÃ­te na heslo, zjistÄ›te ho dÄ›lenÃ­m intervalÅ¯.</p>
      <h3 id="d9a12ec5-fd10-4de3-9592-5623dfb043b2" class="">UklÃ¡dÃ¡nÃ­ stavu</h3>
      <p id="7e4ef4c2-274c-4f4a-9272-bccb36a6ca51" class="">MÃ¡lokdy si mÅ¯Å¾ete dovolit luxus nepÅ™eruÅ¡enÃ©ho bÄ›hu, mÃ­t moÅ¾nost script spustit vÃ­cekrÃ¡t je takÃ© velkÃ© plus. Upravte iterÃ¡tor tak, aby se dalo zadat od jakÃ© hodnoty mÃ¡ zaÄÃ­nat. K tomu se takÃ© bude hodit dodÄ›lat do scriptu prÅ¯bÄ›Å¾nÃ½ vÃ½pis, abyste vÄ›dÄ›li, kde script pÅ™edtÃ­m skonÄil.</p>
      <h3 id="013664d6-59bc-49dd-a448-20a3bf405154" class="">Paralelizace</h3>
      <p id="f79856ec-370a-4750-ad34-1455dfb5351b" class="">Jakmile budete mÃ­t hotovÃ© uklÃ¡dÃ¡nÃ­ stavÅ¯, zkuste paralelizaci pomocÃ­ vÃ­cero vlÃ¡ken. VyzkouÅ¡ejte si jejich synchronizaci a ukonÄenÃ­ vÅ¡ech ostatnÃ­ch vlÃ¡ken ve chvÃ­li, kdy jedno z nich objevÃ­ heslo.</p>
      <p id="66974c52-fabc-4873-9e6c-2a3254bbc99c" class="">Hint: Data od serveru mÅ¯Å¾ete rozdÄ›lit na jednotlivÃ© Å™Ã¡dky, z nichÅ¾ mÅ¯Å¾ete pÅ™evodem na <code>set()</code> hromadnÄ› vyfiltrovat duplicitnÃ­ zÃ¡znamy a detekovat, jestli vÃ¡m vrÃ¡til nÄ›co neÄekanÃ©ho.</p>
      <h3 id="035a1948-133e-4161-b0fa-cca43d051419" class="">ZkouÅ¡enÃ­ hesel na pÅ™eskÃ¡Äku, pozpÃ¡tku</h3>
      <p id="f05181ad-293c-4af9-aaba-43ea76505804" class="">NezaÄÃ­nejte od zaÄÃ¡tku, ale tÅ™eba od pÅ¯lky, nebo od konce (vyÅ¾aduje reverzaci iterÃ¡toru). MÃ¡lokdo pouÅ¾Ã­vÃ¡ hesla jako aaaa, takÅ¾e se dÃ¡ Äekat, Å¾e prvnÃ­ Ätvrtina vÅ¡ech pokusÅ¯ bude zbyteÄnÃ¡.</p>
      <h3 id="87c840cf-25c8-4007-a7e6-dafc45eb6de9" class="">Randomizace</h3>
      <p id="53af07f1-f244-4fea-b463-0b7b96264546" class="">PovaÅ¾ujete se za Å¡Å¥astlivce? Zkuste minimÃ¡lnÄ› v jednom vlÃ¡knÄ› nÃ¡hodnÃ½ generÃ¡tor, existuje jistÃ¡ nenulovÃ¡ Å¡ance, Å¾e se trefÃ­ dÅ™Ã­v neÅ¾ vaÅ¡e spoÅ™Ã¡danÃ© pokusy :)</p>
      <h2 id="6c7d688a-c8dd-4f2e-9f55-02961a06e9bc" class="">PouÄenÃ­</h2>
      <p id="0b4f61b0-2cba-4595-88af-edd74aaa29fa" class="">Bruteforce je nejmÃ©nÄ› efektivnÃ­ ze vÅ¡ech moÅ¾nÃ½ch zpÅ¯sobÅ¯ hÃ¡dÃ¡nÃ­ hesel, protoÅ¾e musÃ­te otrocky vyzkouÅ¡et vÅ¡echny moÅ¾nÃ© kombinace, coÅ¾ u hesel s dÃ©lkou nad deset znakÅ¯ i v pÅ™Ã­padÄ› velmi vÃ½konnÃ½ch poÄÃ­taÄÅ¯ s tÃ©mÄ›Å™ nulovou latencÃ­ trvÃ¡ desÃ­tky aÅ¾ stovky let, kdyÅ¾ uÅ¾ivatel pouÅ¾ije pouze malÃ¡/velkÃ¡ pÃ­smena bez diakritiky a ÄÃ­sla.</p>
      <p id="f8c842ff-ab43-4c37-9458-502b7e437f2a" class="">Pokud uÅ¾ivatel pouÅ¾ije dostateÄnÄ› silnÃ© (sloÅ¾itÃ© a dlouhÃ©) heslo, mÅ¯Å¾e bÃ½t fyzikÃ¡lnÄ› nemoÅ¾nÃ© tento typ Ãºtoku provÃ©st i pokud vÃ¡m v tom nebrÃ¡nÃ­ faktory jako omezenÃ½ poÄet pokusÅ¯, rychlost linky Äi nutnost komunikace pouze v jednom threadu.</p>
      <p id="575cb8a9-a2f2-4026-9336-f496f25e2537" class="">V dobÄ› <a href="http://cs.wikipedia.org/wiki/UTF-8">UTF</a> se navÃ­c zkouÅ¡enÃ­ vÅ¡ech moÅ¾nÃ½ch hesel podstatnÄ› protahuje a pokud by uÅ¾ivatelÃ© serveru kam se snaÅ¾Ã­te vlÃ¡mat pouÅ¾ili vcelku krÃ¡tkÃ© heslo v ÄÃ­nÅ¡tinÄ›, asi byste byli bez Å¡ance, i kdybyste mÄ›li sebelepÅ¡Ã­ cracker.</p>
      <p id="0edaa892-7303-45d5-811f-c2a8a3cbace4" class="">Pokud by vÃ¡s zajÃ­malo kolik pokusÅ¯ je zapotÅ™ebÃ­ k vyzkouÅ¡enÃ­ vÅ¡ech kombinacÃ­ hesla, na internetu se dajÃ­ najÃ­t rÅ¯znÃ© <a href="http://www.soom.cz/index.php?name=box&amp;box=projects/bruteforce/main">kalkulaÄky</a>, nebo si to mÅ¯Å¾ete spoÄÃ­tat sami - jednÃ¡ se o jednoduchou <a href="http://www.matweb.cz/bezpecnost-hesla">Ãºlohu</a> na <a href="http://cs.wikipedia.org/wiki/Variace_%28kombinatorika%29">variace</a>.</p>
      <p id="b7931836-5319-43be-9bb3-f02c0be99527" class="">Pro ilustraci; Za pÅ™edpokladu, Å¾e dokÃ¡Å¾ete kaÅ¾dou vteÅ™inu vyzkouÅ¡et milion hesel <code>a-zA-Z0-9</code>, tak:</p>
      <ol type="1" id="e75a652a-6b89-4ebc-8ccf-4687c7604bc8" class="numbered-list" start="1">
        <li>znak zabere 1 vteÅ™inu</li>
      </ol>
      <ol type="1" id="a9524856-0252-4586-8863-9e7aa7b1f94f" class="numbered-list" start="2">
        <li>znaky zaberou 1 vteÅ™inu</li>
      </ol>
      <ol type="1" id="14af414d-6cb9-455d-bd58-45f84d20e603" class="numbered-list" start="3">
        <li>znaky zaberou 1 vteÅ™inu</li>
      </ol>
      <ol type="1" id="0f66d125-cfe7-437f-805a-d460246d2219" class="numbered-list" start="4">
        <li>znaky zaberou 15 vteÅ™in</li>
      </ol>
      <ol type="1" id="d70eef0d-4024-4efc-b1de-2e34cca9f22e" class="numbered-list" start="5">
        <li>znakÅ¯ zabere 15 minut, 31 vteÅ™in</li>
      </ol>
      <ol type="1" id="bc3dfd4a-ede5-4f09-b999-844c9b03b81c" class="numbered-list" start="6">
        <li>znakÅ¯ zabere 16 hodin, 2 minuty a 11 vteÅ™in</li>
      </ol>
      <ol type="1" id="4658801f-c843-4173-94d0-b4a623ecee12" class="numbered-list" start="7">
        <li>znakÅ¯ zabere 41 dnÃ­, 10 hodin, 15 minut a 46 vteÅ™in</li>
      </ol>
      <ol type="1" id="126e8633-07ba-4590-913a-3d2d065638fd" class="numbered-list" start="8">
        <li>znakÅ¯ zabere 7 let, 11 dnÃ­, 18 hodin, 17 minut a 32 vteÅ™in</li>
      </ol>
      <ol type="1" id="69fe45fd-7d51-41ec-a367-fb81a2bcc3df" class="numbered-list" start="9">
        <li>znakÅ¯ zabere 435 let, 364 dnÃ­, 6 minut, 38 vteÅ™in</li>
      </ol>
      <ol type="1" id="88bc0a8a-7cf2-470a-b465-8eb586814aa4" class="numbered-list" start="10">
        <li>znakÅ¯ zabere 27031 let, 288 dnÃ­, 51 minut, 6 vteÅ™in</li>
      </ol>
      <p id="3c9b9a2a-61a4-476a-b016-4c661b4f65bf" class="">Shrnuto: Bruteforce je nejtriviÃ¡lnÄ›jÅ¡Ã­ a nejmÃ©nÄ› efektivnÃ­ - dÃ¡ se pÅ™irovnat k slepÃ©mu mlÃ¡cenÃ­ sekerou do dveÅ™Ã­, coÅ¾ skvÄ›le funguje v pÅ™Ã­padÄ› dÅ™evÄ›nÃ½ch dveÅ™Ã­, ale aÅ¾ jednou narazÃ­te na Å¾eleznÃ©, tak spÃ­Å¡ umÅ™ete stÃ¡Å™Ã­m, neÅ¾ je prostou silou rozmlÃ¡tÃ­te.</p>
      <h2 id="1a947741-539a-41b7-b24e-8ad9f40f8a70" class="">Dictionary</h2>
      <p id="dfabd5f4-3440-40e2-897a-c5dcad534d59" class="">SlovnÃ­kovÃ½ Ãºtok je vylepÅ¡enÃ­m pÅ™edchozÃ­ho Ãºtoku, kdy mÃ­sto generovÃ¡nÃ­ textÅ¯ zkouÅ¡Ã­te pÅ™edem pÅ™ipravenÃ¡ slova z textovÃ©nho souboru, takzvanÃ©ho <em>wordlistu</em>.</p>
      <p id="925691c2-4aad-48e1-a6e0-df5cc71d0879" class="">Tento typ Ãºtoku stavÃ­ na pÅ™edpokladu, Å¾e vÄ›tÅ¡ina lidÃ­ na svÄ›tÄ› nemÃ¡ poruchu osobnosti, takÅ¾e jim dÄ›lÃ¡ problÃ©m si zapamatovat zcela nÃ¡hodnÃ½ string typu "<code>uF8x/q`abÂ§7dN</code>" a tak mÃ­sto toho pouÅ¾Ã­vajÃ­ rÅ¯znÃ¡ vÃ­ce/mÃ©nÄ› lehce uhÃ¡dnutelnÃ¡ hesla. Jeden mÅ¯j kolega z prÃ¡ce takhle vÅ¡ude pouÅ¾Ã­vÃ¡ heslo <code>supersuper</code> (to nenÃ­ tajemstvÃ­, vÃ­ to o nÄ›m celÃ© oddÄ›lenÃ­).</p>
      <p id="c2adca10-8596-42ac-97a1-192451179eb1" class="">Pokud se podÃ­vÃ¡te na <a href="http://www.security-portal.cz/clanky/50-nejpou%C5%BE%C3%ADvan%C4%9Bj%C5%A1%C3%ADch-hesel-pro-web-v-%C4%8Dr">tvrdÃ¡ data</a> zÃ­skanÃ¡ z uniklÃ© databÃ¡ze 37000 uÅ¾ivatelÅ¯, zjistÃ­te, Å¾e se najdou Å™Ã¡dovÄ› stovky lidÃ­, kteÅ™Ã­ pouÅ¾Ã­vajÃ­ stejnÃ¡ hesla. OblÃ­benÃ© je <code>123456</code>, <code>123456789</code>, <code>martin</code>, <code>milacek</code>, <code>maminka</code>. VÅ¡ak to znÃ¡te..</p>
      <p id="a2344eec-8144-4cbf-876e-ae052940e903" class="">Na internetu se povalujÃ­ rÅ¯znÄ› velkÃ© slovnÃ­ky, kterÃ© se snaÅ¾Ã­ obsÃ¡hnout seznamy tÄ›ch nepouÅ¾Ã­vanÄ›jÅ¡Ã­ch hesel a frÃ¡zÃ­ o obsahu milionÅ¯ poloÅ¾ek. I kdyÅ¾ se tento poÄet mÅ¯Å¾e zdÃ¡t vcelku velkÃ½, ve skuteÄnosti je stÃ¡le o celÃ© Å™Ã¡dy menÅ¡Ã­, neÅ¾ poÄet kombinacÃ­ hesla pÅ™i bruteforce (miliardy, triliardy, sextioliny a jÃ¡ nevÃ­m co jeÅ¡tÄ› :)).</p>
      <p id="c4b3fcb1-9d42-4b83-ba27-1566f13b3de7" class="">Ãšprava stÃ¡vajÃ­cÃ­ho scriptu tak, aby pouÅ¾Ã­val slovnÃ­k je tak triviÃ¡lnÃ­, Å¾e vÃ¡s s nÃ­ ani nebudu zatÄ›Å¾ovat. Najdete ho v pÅ™Ã­loze pod jmÃ©nem <code>czcube_dict.py</code>.</p>
      <h2 id="78d9d3ee-e55c-4a90-bd3f-ac81739dca42" class="">Kde vzÃ­t slovnÃ­k</h2>
      <p id="841cbce0-9375-48fe-bb9d-daf04e9aea0b" class="">ShÃ¡nÄ›nÃ­ dobrÃ©ho slovnÃ­ku je podstatnÄ› sloÅ¾itÄ›jÅ¡Ã­, neÅ¾ napsÃ¡nÃ­ scriptu, kterÃ½ bude hesla zkouÅ¡et. Na internetu se dajÃ­ relativnÄ› jednoduÅ¡e najÃ­t docela rozsÃ¡hlÃ© a dobrÃ© slovnÃ­ky. Pokud budete googlit, nehledejte <em>"slovnÃ­k"</em>, ale <em>"wordlist"</em>, nezapomeÅˆte takÃ© na to, Å¾e pro ÄŒechy bude vhodnÄ›jÅ¡Ã­ ÄeskÃ½.</p>
      <p id="4a67aea9-b63d-44e2-91a2-52cccc3b9637" class="">PÃ¡r odkazÅ¯:</p>
      <ul id="f345188e-1baf-4349-97e0-6191bfd5e68b" class="bulleted-list">
        <li style="list-style-type:disc">
          <a href="http://wordlist.ic.cz/">http://wordlist.ic.cz/</a>
        </li>
      </ul>
      <ul id="3ab635d4-2cbb-4c8e-8e6d-d642d015d97a" class="bulleted-list">
        <li style="list-style-type:disc">
          <a href="http://verifikace.sweb.cz/">http://verifikace.sweb.cz/</a>
        </li>
      </ul>
      <ul id="f40635b1-9be9-4492-8043-953997e55914" class="bulleted-list">
        <li style="list-style-type:disc">
          <a href="http://wiki.airdump.cz/Wordlist">http://wiki.airdump.cz/Wordlist</a>
        </li>
      </ul>
      <ul id="aa4aa85d-0fc2-44cb-843f-5d206c93133b" class="bulleted-list">
        <li style="list-style-type:disc">
          <a href="http://mozektevidi.cz/wordlist-download/">http://mozektevidi.cz/wordlist-download/</a>
        </li>
      </ul>
      <ul id="9d3c6241-bd22-4c64-824e-54a4123eb722" class="bulleted-list">
        <li style="list-style-type:disc">
          <a href="http://www.passwordy.net/index.php?category=2">http://www.passwordy.net/index.php?category=2</a>
        </li>
      </ul>
      <ul id="8f29872d-636b-480d-bca4-cd7c41506a00" class="bulleted-list">
        <li style="list-style-type:disc">
          <a href="http://www.soom.cz/index.php?name=download/kategorie&amp;sid=30">http://www.soom.cz/index.php?name=download/kategorie&amp;sid=30</a>
        </li>
      </ul>
      <ul id="ec6e0a9a-3058-463e-9789-61f23bed0942" class="bulleted-list">
        <li style="list-style-type:disc">
          <a href="http://gpsfreemaps.net/navody/security/komplexni-cesky-a-slovensky-wordlist-ke-stazeni">http://gpsfreemaps.net/navody/security/komplexni-cesky-a-slovensky-wordlist-ke-stazeni</a>
        </li>
      </ul>
      <p id="f9d80b3d-f162-4efd-90da-4a25039965de" class="">Pokud budete hledat, najdete jich tisÃ­ce - jednÃ¡ se o jednoduchÃ½ a tudÃ­Å¾ oblÃ­benÃ½ typ Ãºtoku, kterÃ½ proti bÄ›Å¾nÃ½m uÅ¾ivatelÅ¯m dosahuje sluÅ¡nÃ© ÃºÄinnosti a zÃ¡roveÅˆ nevyÅ¾aduje prakticky Å¾Ã¡dnÃ© znalosti. DÃ­ky tomu se mu vÄ›nuje kaÅ¾dÃ½ druhÃ½ a je obzvlÃ¡Å¡Å¥ oblÃ­benÃ½ u lam, kterÃ© majÃ­ pocit Å¾e kdyÅ¾ majÃ­ na strÃ¡nkÃ¡ch wordlist, wwwhack a brutus, jsou z nich hackeÅ™i.</p>
      <p id="32ecf92c-72ac-4d30-91db-93ed2fd83027" class="">JestliÅ¾e se nÄ›kdy budete chtÃ­t pobavit, doporuÄuji zkusit wwwhack a brutus jako keywordy do google a omezit vyhledÃ¡vÃ¡nÃ­ na strÃ¡nky pouze Äesky. Dojde vÃ¡m, Å¾e soom je na tom sice Å¡patnÄ›, ale poÅ™Ã¡d je kam upadat :)</p>
      <h2 id="c17267e9-f81e-4968-827f-ef233c21e376" class="">VlastnÃ­ slovnÃ­ky</h2>
      <p id="80ea04c9-4798-4fa4-bd43-538a936fda69" class="">Ve chvÃ­li kdy pouÅ¾ijete cizÃ­ slovnÃ­k, postupujete o jeden level vÃ½Å¡e neÅ¾ <em>bruteforceÅ™i</em> - namÃ­sto abyste tupÄ› zkouÅ¡eli mnoÅ¾inu vÅ¡ech moÅ¾nÃ½ch variacÃ­ znakÅ¯, zkouÅ¡Ã­te slova, kterÃ¡ uÅ¾ivatel mohl pouÅ¾Ã­t k vytvÃ¡Å™enÃ­ hesel. JednÃ¡ se vÅ¡ak jen o jednoduÅ¡Å¡Ã­ variantu bruteforce, u kterÃ© prakticky vzato stÃ¡le nenÃ­ nutnÃ© pouÅ¾Ã­vat mozek.</p>
      <p id="be890e1c-6457-482d-93d5-f92610bda33b" class="">JelikoÅ¾ se snaÅ¾Ã­te vlÃ¡mat do satelitu na orbitÄ›, lze jen stÄ›Å¾Ã­ pÅ™edpoklÃ¡dat, Å¾e autoÅ™i zvlÃ¡dnuvÅ¡Ã­ postavit funkÄnÃ­ satelit byli takovÃ­ idioti, Å¾e pouÅ¾ili slovnÃ­kovÃ© heslo. Bude to tedy chtÃ­t nÄ›co vÃ­c - na mÃ­ru postavenÃ½ slovnÃ­k.</p>
      <p id="6851f0dc-efc5-4f9c-ac64-a8bbbcbcee61" class="">K tomu budete potÅ™ebovat trochu znalostÃ­ z psychologie a pÃ¡r zkuÅ¡enostÃ­ s uÅ¾ivatelskÃ½mi hesly.</p>
      <h2 id="d480c283-bd65-47df-97ea-aa01912bf4a9" class="">Co byste mÄ›li vÄ›dÄ›t o heslech</h2>
      <p id="cf21afa9-afc1-420e-8ee7-de4a2ec1a3c3" class="">V textu <a href="http://www.soom.cz/index.php?name=usertexts/show&amp;aid=731">Co je vlastnÄ› soom?</a> jsem se zmÃ­nil, Å¾e na lidi na internetu je moÅ¾nÃ© nahlÃ­Å¾et podobnÄ› jako na model neuronu. Na jednu stranu dodÃ¡te vstupy a na druhÃ© se Äas od Äasu doÄkÃ¡te vÃ½stupu v podobÄ› nÄ›jakÃ©ho obsahu.</p>
      <p id="0d273dba-6c6a-40f2-bd35-42110be6acc4" class="">Tento poznatek mÅ¯Å¾ete vyuÅ¾Ã­t i pÅ™i vytvÃ¡Å™enÃ­ slovnÃ­ku; co udÄ›lÃ¡ vÄ›tÅ¡ina lidÃ­, kdyÅ¾ vytvÃ¡Å™Ã­ svÃ© heslo? PouÅ¾ije informace ze vstupÅ¯ - ze svÃ©ho okolÃ­ a ze svÃ© pamÄ›ti.</p>
      <p id="5fbaeb03-b130-4829-af73-6a0b6d9422a9" class="">DÃ­ky tomu jak funguje lidskÃ¡ mysl je pravdÄ›podobnÃ©, Å¾e nebudou pouÅ¾ita bÄ›Å¾nÃ¡ slova bez nÄ›jakÃ©ho speciÃ¡lnÃ­ho vÃ½znamu pro danÃ©ho jednotlivce. StÄ›Å¾Ã­ se setkÃ¡te s heslem "aÅ¾", "protoÅ¾e", "vÄera", "hlavnÄ›" a tak podobnÄ›. Ne Å¾e by to bylo nemoÅ¾nÃ©, ale heslo je pro ÄlovÄ›ka Äasto nÄ›ÄÃ­m speciÃ¡lnÃ­m (nazÃ½vejme to <code>JehoTajemstvÃ­m</code>), kdyÅ¾ uÅ¾ si ho musÃ­ pamatovat.</p>
      <p id="e1dbff24-2f47-4de8-bbde-141526af6321" class="">ÄŒasto mÅ¯Å¾ete narazit na podstatnÃ© jmÃ©no ze Å¾ivota uÅ¾ivatele - jmÃ©no holky, rodiÄÅ¯, babiÄky, psa, koÄky, oblÃ­benÃ½ sportovec Äi herec, postava z knihy, datum narozenÃ­, kus telefonnÃ­ho ÄÃ­sla.</p>
      <p id="ef05ecf8-9dae-489d-9912-fd853b1c7e94" class="">Z vlastnÃ­ zkuÅ¡enosti musÃ­m Å™Ã­ct, Å¾e v hesle se obÄas vyskytne nÃ¡zev strÃ¡nky, nÄ›co ve smyslu <code>soomheslo</code>, coÅ¾ mÄ› pÅ™ivÃ¡dÃ­ k dalÅ¡Ã­mu poznatku - Äasto je v hesle variace na slovo <code>heslo</code>, anglicky <code>password</code>, <code>pass</code>, <code>pwd</code>.</p>
      <p id="ee1d1c72-bbb1-421c-890a-cccc4dcb2131" class="">V heslech bÄ›Å¾nÃ½ch uÅ¾ivatelÅ¯ se skoro nikdy nevyskytujÃ­ speciÃ¡lnÃ­ znaky, jednak proto Å¾e je neumÃ­ zadat, druhak proto Å¾e je pro nÄ› opruz a nÃ¡maha je psÃ¡t. Maximum na co narazÃ­te jsou znaky "<code>.,-_*!?</code>", ale to je vÃ­ce/mÃ©nÄ› vyjÃ­mka.</p>
      <p id="d4aa23db-2343-418d-81e8-dc12acd570cc" class="">DalÅ¡Ã­ dÅ¯leÅ¾itÃ½ poznatek je, Å¾e bÄ›Å¾nÃ­ lidÃ©, kteÅ™Ã­ IT moc neholdujÃ­ pouÅ¾Ã­vajÃ­ jednoduÅ¡e zadatelnÃ¡ dlouhÃ¡ hesla. Znal jsem nÄ›kolik lidÃ­, kteÅ™Ã­ pouÅ¾Ã­vajÃ­ jako heslo <code>asdfghjkl</code>, <code>qwertzuiop</code>, <code>147896325</code>, <code>741236985</code> a tak podobnÄ›. Tyto hesla jsou pÅ™i crackovÃ¡nÃ­ z venÄÃ­ nehorÃ¡znÄ› sloÅ¾itÃ¡ - ve slovnÃ­ku bÄ›Å¾nÃ© mluvy je nenajdete, protoÅ¾e nic neznamenajÃ­ a jsou dlouhÃ¡, takÅ¾e bruteforcem by vÃ¡m to trvalo tisÃ­c let. JedinÃ¡ souvislost mezi pouÅ¾itÃ½mi znaky je, Å¾e je lze zadat na klÃ¡vesnici pomocÃ­ geometrickÃ©ho obrazce - ÄÃ¡ry, kruhu, spirÃ¡ly.</p>
      <p id="b7db561f-a1c7-4480-b072-eac8f63abe3e" class="">VyjÃ­mkou nejsou ani uÅ¾ivatelÃ© pouÅ¾Ã­vajÃ­cÃ­ heslo <code>otevrise</code>, nebo <code>hovnokleslo</code>, tedy memy, kterÃ© se mezi lidmi Å¡Ã­Å™Ã­ jiÅ¾ od dÄ›tstvÃ­.</p>
      <p id="3d9d9233-c395-488a-8fd6-40c028cb0c3e" class="">PoslednÃ­ vÄ›c kterou pro jistotu znovu zmiÅˆuji; vÄ›tÅ¡ina uÅ¾ivatelÅ¯ nepouÅ¾Ã­vÃ¡ hesla tvoÅ™enÃ¡ jednÃ­m slovem. Skoro vÅ¾dy se jednÃ¡ o sloÅ¾eninu a velmi Äasto jsou na konci pro uÅ¾ivatele specifickÃ¡ ÄÃ­sla. Pokud mÃ¡ uÅ¾ivatel doma koucoura <code>mourka</code>, skoro urÄitÄ› jeho heslo nebude <code>Mourek</code>, ale <code>Mourek1545</code>, kde <code>1545</code> je ÄÃ¡st telefonu, datum narozenÃ­ matky Äi nÄ›jakÃ½ jednoduÅ¡e napsatelnÃ½ Å™etÄ›zec. VzpomÃ­nÃ¡te si jeÅ¡tÄ› na <code>nbusr123</code>? :)</p>
      <p id="0b396e6e-48fb-4597-885e-b9281e31353a" class="">ShrnutÃ­: Heslo bude s nÄ›jvÄ›tÅ¡Ã­ pravdÄ›podobnostÃ­ sloÅ¾eno ze slova, kterÃ© je pro uÅ¾ivatele neÄÃ­m speciÃ¡lnÃ­ (<code>JehoTajemstvÃ­m</code>), obÄas v nÄ›m bÃ½vÃ¡ slovo <code>heslo</code> Äi jeho ekvivalenty. VÄ›tÅ¡inou tam nejsou speciÃ¡lnÃ­ znaky, kromÄ› "-" Äi "_" a na konci je s velkou pravdÄ›podobnostÃ­ nÄ›jakÃ½ suffix - Äasto ÄÃ­slo, kterÃ© je nÄ›jak svÃ¡zanÃ© s Å¾ivotem uÅ¾ivatele, nebo nÄ›co jednoduÅ¡e napsatelnÃ©ho na klÃ¡vesnici.</p>
      <h2 id="f864d01c-bbbb-459e-913f-0f2f1ba53278" class="">GenerovÃ¡nÃ­ slovnÃ­ku</h2>
      <p id="4ac5371b-5133-45ae-ac92-dffb0e3776c8" class="">TeÄ kdyÅ¾ uÅ¾ mÃ¡me teorii hesel za sebou je Äas odvÃ©st zase jednou trochu prÃ¡ce. VÃ­te z Äeho se heslo sklÃ¡dÃ¡, ale moÅ¾nÃ¡ vÃ¡m nenÃ­ ÃºplnÄ› jasnÃ©, kde to vzÃ­t. Kde asi? PÅ™ece na internetu!</p>
      <p id="84094e57-0a76-44e2-929a-836f8352c96f" class="">Postup se dÃ¡ rozdÄ›lit do tÄ›chto krokÅ¯:</p>
      <ol type="1" id="2ed80c25-da8d-41c2-a9d7-7a45ab4d04c4" class="numbered-list" start="1">
        <li>shromaÅ¾ÄovÃ¡nÃ­</li>
      </ol>
      <ol type="1" id="9f092f30-230d-4cba-b246-986137d3954a" class="numbered-list" start="2">
        <li>normalizace</li>
      </ol>
      <ol type="1" id="82f7127e-d98e-4ea4-a006-ca32f103744d" class="numbered-list" start="3">
        <li>extrakce</li>
      </ol>
      <ol type="1" id="93d94aaf-f417-429d-92bd-74313230e27d" class="numbered-list" start="4">
        <li>filtrace</li>
      </ol>
      <ol type="1" id="c04619d9-f68d-43a0-bcbb-1afdff8939ac" class="numbered-list" start="5">
        <li>variace</li>
      </ol>
      <h2 id="00925624-5850-479a-94b8-0678ef5e611b" class="">ShromaÅ¾ÄovÃ¡nÃ­ dat</h2>
      <h3 id="7d9bcec1-a216-456c-b93a-24fb63048247" class="">Facebook</h3>
      <p id="7f7a2f0d-4ae5-4b39-97dd-a3a322cfaa93" class="">V dneÅ¡nÃ­ dobÄ› je modernÃ­ na sebe nabonzovat na Facebooku prvnÃ­ poslednÃ­.</p>
      <p id="22b53ce1-bc9b-4c14-acc7-e5f0d1b6c902" class="">SeÅ¾enete tam vcelku jednoduÅ¡e informace o datu narozenÃ­ nejen cÃ­lovÃ©ho uÅ¾ivatele, ale i jeho rodiny, jeho kolegÅ¯ a vÅ¯bec celÃ©ho jeho sociÃ¡lnÃ­ho okruhu. ZjistÃ­te co mÃ¡ a co nemÃ¡ rÃ¡d, co Äetl, co jedl a Äasto i kdy byl naposledy na zÃ¡chodÄ›.</p>
      <p id="b99a1c87-b2d3-4b90-ac17-3810123cd134" class="">PrvnÄ› se musÃ­te stÃ¡t pÅ™Ã¡teli, ale na to je jednoduchÃ¡ rada - pÅ™idejte si jako pÅ™Ã¡tele vÅ¡echny ze socÃ¡lnÃ­ho okruhu uÅ¾ivatele. NÄ›kteÅ™Ã­ vÃ¡s schvÃ¡lÃ­ a jakmile cÃ­lovÃ½ uÅ¾ivatel uvidÃ­ Å¾e mÃ¡te nÄ›jakÃ© spoleÄnÃ© znÃ¡mÃ©, pÅ¯jde to jednoduÅ¡e. Sexy vzhled ve vaÅ¡em (faleÅ¡nÃ©m) profilu bÃ½vÃ¡ vÃ½hodou.</p>
      <p id="7b7fb04b-fd9c-40eb-8732-4dfcacd3976c" class="">Potom uÅ¾ zbÃ½vÃ¡ jen napsat spidera (o tom zase moÅ¾nÃ¡ nÄ›kdy jindy), co se rekurzivnÄ› proÅ¾ere veÅ¡kerÃ½m facebookovÃ½m obsahem cÃ­lovÃ©ho uÅ¾ivatele a vÅ¡e uloÅ¾Ã­ na disk. Nic vÃ¡m samozÅ™ejmÄ› nebrÃ¡nÃ­ udÄ›lat to ruÄnÄ›, ale je to opruz, na kterÃ½ osobnÄ› nemÃ¡m nÃ¡ladu. NavÃ­c psÃ¡t spidery je zÃ¡bava.</p>
      <h3 id="69f839b0-95c3-4ccc-8e69-ea77b9fc1894" class="">OstatnÃ­ zdroje</h3>
      <p id="521cae71-1f30-4259-9ba7-8cc7acc9c3a5" class="">Pokud nenÃ­ cÃ­lovÃ½ uÅ¾ivatel cool a in, moÅ¾nÃ¡ facebook nepouÅ¾Ã­vÃ¡. Co potom?</p>
      <p id="d3bd017a-50e9-4055-91ee-893672604e0e" class="">Potom bude na Äase zadat jeho jmÃ©no do googlu a googlit. HledÃ¡te vÅ¡echno, kde mÅ¯Å¾ete najÃ­t informace o vaÅ¡em cÃ­lovÃ©m uÅ¾ivateli, tedy profily na strÃ¡nkÃ¡ch jako jsou lide.cz, pÅ™Ã­spÄ›vky v diskuzÃ­ch, strÃ¡nky jeho psa, blogy, osobnÃ­ strÃ¡nky. RodinnÃ© fotky a jejich popisky, ÄlÃ¡nky z novin, mÃ­sta angaÅ¾ovÃ¡nÃ­.</p>
      <p id="89f8e08c-3e34-4439-82c3-4e282cd30a29" class="">Pokud narazÃ­te na seznam oblÃ­benÃ½ch knih, najdÄ›te si ebooky a uloÅ¾te je na disk, pokud na seznam oblÃ­benÃ½ch filmÅ¯, tak k nim stÃ¡hnÄ›te titulky, pokud na oblÃ­benou hudbu (<a href="http://www.last.fm/">last.fm</a> a podobnÃ© sluÅ¾by), postahujte k nÃ­ texty (lyrics).</p>
      <p id="bfdc6523-8775-467a-b1b6-36ab4c6f8c29" class="">Googlete podle jmÃ©na, podle nicku, podle emailu, podle ICQ, podle ip adresy, podle vÅ¡eho co na danÃ©ho uÅ¾ivatele seÅ¾enete, pospojujte zdÃ¡nlivÄ› oddÄ›lenÃ© identity pomocÃ­ spoleÄnÃ½ch informacÃ­.</p>
      <p id="8f412300-6ae0-4684-a441-c3a8a8875ed5" class="">VÅ¡echno co dostanete stÃ¡hnÄ›te na disk, pozdÄ›ji se to bude hodit, ale je nutnÃ© to nepÅ™ehnat a nestahovat zase celÃ© strÃ¡nky, kdyÅ¾ tam uÅ¾ivatel poslal jen jeden pÅ™Ã­spÄ›vek. Na konci data budete muset vyfiltrovat a je tedy cÃ­lem mÃ­t jich co nejmÃ©nÄ› a zÃ¡roveÅˆ nejvÃ­ce zamÄ›Å™enÃ½ch na cÃ­lovÃ©ho uÅ¾ivatele.</p>
      <h3 id="5f4d0e86-e117-4b7e-8b2d-81830ce316c3" class="">Lehce offtopic challenge</h3>
      <p id="bcb7dc96-58c3-4e8a-ab25-f0b05b5de204" class="">VyzÃ½vÃ¡m vÃ¡s k napsÃ¡nÃ­ API v pythonu ke vÅ¡em vÄ›tÅ¡Ã­ strÃ¡nkÃ¡m (facebook, google+, lide.cz, rÅ¯znÃ© seznamky, blogovacÃ­ sluÅ¾by atd..), abyste mohli Äinnost zÃ­skÃ¡vÃ¡nÃ­ informacÃ­ zautomatizovat.</p>
      <p id="546bb8b9-c381-44fd-8706-d53a20aee820" class="">VytvoÅ™te pluginy reagujÃ­cÃ­ na nÄ›jakÃ© jasnÄ› danÃ© API (napÅ™Ã­klad na stejnÃ½ typ parametru pÅ™edanÃ©ho z pÅ™Ã­kazovÃ© Å™Ã¡dky vrÃ¡tÃ­ na <code>stdin</code> obsah dannÃ© strÃ¡nky, kam se nedostanete jednoduÅ¡e wgetem) a script, kterÃ½ je umoÅ¾Åˆuje jednoduÅ¡e masivnÄ› pouÅ¾Ã­vat.</p>
      <h2 id="97eae6b7-8365-4ed9-925f-6fd9fe95809a" class="">PraktickÃ¡ ukÃ¡zka shromaÅ¾ÄovÃ¡nÃ­ a normalizace</h2>
      <p id="82b70aed-80c1-42ab-b72f-f9380848be0b" class="">Pro jednoduchost nebudu zachÃ¡zet moc daleko a nebudu se vÄ›novat vÅ¡em moÅ¾nÃ½m webÅ¯m. Chcete se dostat do satelitu czCube, vzpomÃ­nÃ¡te? Jako ideÃ¡lnÃ­ mÃ­sto k zÃ­skÃ¡nÃ­ wordlistu tak budou <a href="http://www.czcube.org/">oficiÃ¡lnÃ­ strÃ¡nky</a> projektu.</p>
      <p id="03b367ab-c824-4749-928c-7d6de37552a0" class="">K zÃ­skÃ¡nÃ­ surovÃ½ch dat pouÅ¾iji linuxovÃ½ shell a program <a href="http://cs.wikipedia.org/wiki/Wget">wget</a>:</p>
      <pre id="1344f755-b561-4d87-89eb-e2b11169a884" class="code code-wrap"><code>wget -r -nd -erobots=off -l 5 -A.html -A.htm -A.txt -A.pdf http://www.czcube.org/cs/index.html</code></pre>
      <p id="734072f6-4ddf-463f-89be-28642c796ede" class="">TÃ­m stÃ¡hnu vÅ¡echny html, htm, txt a pdf soubory co se na strÃ¡nkÃ¡ch nachÃ¡zÃ­ a vede na nÄ› odkaz. SnaÅ¾Ã­m se tu o generovÃ¡nÃ­ wordlistu, coÅ¾ je mnohem lehÄÃ­ z .txt neÅ¾ .pdf, takÅ¾e si pdf pÅ™evedu hromadnÄ› na text pomocÃ­ utility <a href="http://en.wikipedia.org/wiki/Pdftotext">pdftotext</a>:</p>
      <pre id="8ddceed6-d93c-4896-9fd3-8fa2e6c65ce7" class="code code-wrap"><code>find . -name "*.pdf" -exec pdftotext {} \; # pdftotext neumÃ­ vÃ­c souborÅ¯ najednou, proto pouÅ¾iji find</code></pre>
      <p id="015e0177-a804-4c41-b79d-022b333355dc" class="">NynÃ­ by se mi hodilo pÅ™evÃ©st na text i htm a html soubory. PouÅ¾iji k tomu <a href="http://cs.wikipedia.org/wiki/Lynx">lynx</a>, kterÃ½ mÃ¡ ale tu nepÅ™Ã­jemnou vlastnost, Å¾e na konec uvÃ¡dÃ­ seznam odkazÅ¯, coÅ¾ mohu eliminovat grepem s parametrem <code>-v</code>, kterÃ½ zpÅ¯sobÃ­ vypsÃ¡nÃ­ pouze Å™Ã¡dkÅ¯ bez odkazÅ¯ ("file://", "http://").</p>
      <pre id="031d19ee-7f0b-4c49-ab9e-a82533bda37c" class="code code-wrap"><code>find . -name "*.html" -exec sh -c 'lynx -dump {} | grep -v "file://" | grep -v "http://" &gt; {}.txt; echo {}' \; # sh kvuli '&gt;' do souboru..</code></pre>
      <p id="834345c5-5ee1-40f8-b37d-67a04b3245f6" class="">VyÄistÃ­m bordel, slouÄÃ­m vÅ¡e do jednoho souboru a mrknu se, kolik mi toho zbylo:</p>
      <pre id="7fb17c38-43e1-403b-bc42-2e15bcfed8fa" class="code code-wrap"><code>cat *.txt &gt; words.dat
rm *.pdf *.html *.txt
du -h words.dat</code></pre>
      <pre id="80f903bd-9a7e-403f-82f1-d6ed9710ce63" class="code code-wrap"><code>352K    words.dat</code></pre>
      <p id="0444f9a9-5fdd-4628-a4ef-8b51f7f769d8" class="">Jak mÃ¡te moÅ¾nost vidÄ›t, zbylo mi 352KB ÄistÃ©ho textu. Z nÄ›j nynÃ­ budu muset udÄ›lat seznam slov.</p>
      <h2 id="a2778ae3-a13e-4eb8-9e64-86989714d003" class="">Extrakce wordlistu</h2>
      <p id="aacf838e-2304-4bc3-93f9-a749f8dca0e6" class="">Extrakce slov ze zÃ­skanÃ½ch dat nenÃ­ nic sloÅ¾itÃ©ho, bÄ›hem psanÃ­ ÄlÃ¡nku jsem si k tomu napsal jednoduchÃ½ script, kterÃ½ najdete v pÅ™Ã­lohÃ¡ch jako <code>extractor.py</code>. Bylo by moÅ¾nÃ© pouÅ¾Ã­t i regulÃ¡rnÃ­ vÃ½razy a rÅ¯znÃ© unixovÃ© utility, ale nemÄ›l jsem nÃ¡ladu trÃ¡vit hodinu debugovÃ¡nÃ­m bash scriptu, kdyÅ¾ jednoduchou ukÃ¡zku napÃ­Å¡u za pÅ¯l hodiny v pythonu.</p>
      <pre id="915012ef-f7d9-447d-95a7-0c48f1bce211" class="code code-wrap"><code>cat words.dat | ./extractor.py --min 2 --max 10 --double &gt; wordlist.txt
wc -l wordlist.txt</code></pre>
      <pre id="86064ed8-86e8-4e04-aa38-5154e6d2273f" class="code code-wrap"><code>40600 wordlist.txt</code></pre>
      <p id="0bdbe861-a975-4e5f-ae75-124dd75233d1" class="">Mnou pouÅ¾itÃ½ <code>extractor</code> je silnÄ› triviÃ¡lnÃ­. Jen rozdÄ›lÃ­ vstup na UTF slova a vyfiltruje speciÃ¡lnÃ­ znaky pÅ™iÄemÅ¾ dovoluje mÃ­t ve slovech teÄky a ÄÃ¡rky.</p>
      <p id="5ed84580-da23-4e75-bb4a-033fec6deb5a" class=""><strong>ÄŒÃ­m lepÅ¡Ã­ budete mÃ­t</strong> <code><strong>extractor</strong></code><strong>, tÃ­m efektivnÄ›jÅ¡Ã­ bude vÃ½slednÃ© crackovÃ¡nÃ­, protoÅ¾e tÃ­m vÄ›tÅ¡Ã­ Å¡ance, Å¾e sprÃ¡vnÄ› zÃ­skÃ¡te</strong> <code><strong>JehoTajemstvÃ­</strong></code> <strong>a</strong> <code><strong>suffix</strong></code><strong>.</strong></p>
      <p id="03e28924-9cbe-4999-9fed-07ca694ace3d" class="">UkÃ¡zka neschopnosti mÃ©ho <code>extractoru</code> je napÅ™. telefonnÃ­ ÄÃ­slo oddÄ›lenÃ© mezerami, kterÃ© mÅ¯j kÃ³d rozdÄ›lÃ­ do nÄ›kolika pod-ÄÃ­sel a nevnÃ­mÃ¡ ho jako celek. Zapracovat se dÃ¡ na mnoha dalÅ¡Ã­ch vÄ›cech, jako je rozpoznÃ¡vÃ¡nÃ­ emailovÃ½ch adres, ICQ, telefonnÃ­ho ÄÃ­sla, PSÄŒ, datumÅ¯ + konverze do nÄ›kolika dalÅ¡Ã­ch alternativnÃ­ch formÃ¡tÅ¯.</p>
      <h2 id="8cfb66e7-46a4-4616-aa76-1b67c61b1a6f" class="">Filtrace</h2>
      <p id="ca233190-7374-4bb7-a363-f12d930e5a33" class="">PotÃ© co jsem extractorem zÃ­skal 40600 slov je na Å™adÄ› filtrace, kdy se budu snaÅ¾it vÄ›tÅ¡iny z nich zbavit, jinak by totiÅ¾ dalÅ¡Ã­ krok - <strong>variace</strong> mohl zÃ­skat nepÅ™Ã­jemnou sloÅ¾itost.</p>
      <p id="de623f01-4cff-4d1a-aae0-ee58d83d0625" class="">Pokud chcete, data si mÅ¯Å¾ete schovat a pozdÄ›ji je vyzkouÅ¡et samotnÃ¡, nenÃ­ zde vÅ¡ak pÅ™Ã­liÅ¡ velkÃ¡ Å¡ance na ÃºspÄ›ch, protoÅ¾e i kdyÅ¾ je v souboru s velkou Å¡ancÃ­ <code>JehoTajemstvÃ­</code> a <code>suffix</code>, potÅ™ebujete je jeÅ¡tÄ› sloÅ¾it dohromady.</p>
      <p id="911c57bb-ef49-41cc-9ad1-a2584758936b" class="">Redukci velkosti je moÅ¾nÃ© provÃ©st tÄ›mito zpÅ¯soby;</p>
      <ul id="ca048d6c-e878-4005-9b28-597b52df97c1" class="bulleted-list">
        <li style="list-style-type:disc">odstranÄ›nÃ­m duplikÃ¡tÅ¯ - v pythonu se dÃ¡ elegantnÄ› vyÅ™eÅ¡it pÅ™evedenÃ­m na <a href="http://docs.python.org/tutorial/datastructures.html#sets">set()</a>
        </li>
      </ul>
      <ul id="7e1377f1-bee8-419d-83da-6d4d15abee95" class="bulleted-list">
        <li style="list-style-type:disc">derivacÃ­ Å¡umu (cool nÃ¡zev pro odstranÄ›nÃ­ slov bez speciÃ¡lnÃ­ho vÃ½znamu)</li>
      </ul>
      <h3 id="c8cbd5a7-a97e-47d7-a240-ad5923fc9e75" class="">OdstranÄ›nÃ­ duplikÃ¡tÅ¯</h3>
      <p id="c0d8c1c5-d7be-4922-9e0f-830ab6b70737" class="">Jak uÅ¾ jsem psal, v pythonu staÄÃ­ soubor naÄÃ­st a pÅ™evÃ©st na set, coÅ¾ je setÅ™Ã­zenÃ¡ mnoÅ¾ina unikÃ¡tnÃ­ch prvkÅ¯. Nic vÃ¡m samozÅ™ejmÄ› nebrÃ¡nÃ­ pouÅ¾Ã­t k tomu programy jako <code>sort | uniq</code>, nebo si napsat vlastnÃ­ sorter/deduplicator.</p>
      <p id="48f761a2-9ed1-4e8e-9471-c31d3de26dad" class="">Je zbyteÄnÃ© na nÄ›co tak nicotnÃ©ho psÃ¡t script, proto pouÅ¾iji python naschvÃ¡l ponÄ›kud nestandartnÄ› (nechci mÃ­t soubor seÅ™azenÃ½, pak by mi nesedÄ›la dalÅ¡Ã­ ukÃ¡zka :P):</p>
      <pre id="06e0637a-9591-4ca2-94fa-652eb914a17e" class="code code-wrap"><code>python -c "for i in set(open('wordlist.txt').read().splitlines()): print i" &gt; wordlist.uniq.txt
wc -l wordlist.uniq.txt</code></pre>
      <pre id="bca8070d-6ef4-4662-a726-5852a27ed0cc" class="code code-wrap"><code>7576 wordlist.uniq.txt</code></pre>
      <p id="0333a7b0-017e-48b4-ac13-24dbc3b4df5c" class="">TÃ­mto zÃ­skÃ¡m soubor s pouhÃ½mi 7576 slovy, coÅ¾ pÅ™edstavuje redukci o ~30000 slov. To je docela dobrÃ© zvÃ½Å¡enÃ­ odstupu signÃ¡lu od Å¡umu, nemyslÃ­te? :)</p>
      <h3 id="929def8f-7055-4f2a-ad85-44d5a9a86296" class="">OdstranÄ›nÃ­ Å¡umu</h3>
      <p id="adf66392-242a-436d-98b5-1f0268be2360" class="">Wordlist stÃ¡le obsahuje relativnÄ› velkÃ© mnoÅ¾stvÃ­ Å¡umu, u kterÃ©ho je nepravdÄ›podobnÃ©, Å¾e by byl pouÅ¾it jako heslo. PodÃ­vejme se na prvnÃ­ch 10 prvkÅ¯:</p>
      <pre id="c97d9064-5b3d-4c59-b3a7-86b073bda225" class="code code-wrap"><code>head wordlist.uniq.txt</code></pre>
      <pre id="adae9a7f-77a5-4400-87a8-93609b41195b" class="code code-wrap"><code>koncovou
*ESTEC*
foul
kvalitnÃ­ch
prefix
*mirage*
*xChaos.*
*xChaos,*
Until
*JN,*</code></pre>
      <p id="e71d0c5c-3f15-473f-90ce-a62e4a68a19e" class="">HvÄ›zdami jsem zvÃ½raznil slova, u kterÃ½ch existuje zvÃ½Å¡enÃ¡ pravdÄ›podobnost pouÅ¾itÃ­ jako hesla, protoÅ¾e mohou pÅ™edstavovat pro uÅ¾ivatele nÄ›co speciÃ¡lnÃ­ho, co by mohl pouÅ¾Ã­t na <code>JehoTajemstvÃ­</code>. Zbytek je Å¡um, kterÃ©ho se chceme pokud moÅ¾no zbavit.</p>
      <p id="1cad7f6d-c41b-4b66-b288-b54d0c0081d7" class="">SamozÅ™ejmÄ› je moÅ¾nÃ© ruÄnÄ› projÃ­t vÅ¡ech 7576 slov a vymazat ty, kterÃ¡ povaÅ¾ujete za bÄ›Å¾nÃ¡ a tudÃ­Å¾ nezajÃ­mavÃ¡. U vÄ›tÅ¡Ã­ch projektÅ¯ by to vÅ¡ak mohlo bÃ½t nereÃ¡lnÃ© a i u menÅ¡Ã­ch to bude nehorÃ¡znÄ› nudnÃ¡ a otrockÃ¡ prÃ¡ce. JelikoÅ¾ vÃ¡s provÃ¡zÃ­ sÃ­la unixu, pouÅ¾ijeme ho na dalÅ¡Ã­ podstatnou redukci.</p>
      <h3 id="ebf65875-79a5-47b7-b43b-3a0285a5318c" class="">PÅ™Ã­prava databÃ¡ze Å¡umu</h3>
      <p id="35b4d8a7-c0c8-47f4-81af-d8281fac92d2" class="">Filtraci provedeme takto: nejdÅ™Ã­ve seÅ¾eneme velkÃ© mnoÅ¾stvÃ­ textu, Å™Ã¡dovÄ› megabajty. Text potom zpracujeme a zÃ­skÃ¡me z nÄ›j frekvenci nejÄastÄ›ji pouÅ¾Ã­vanÃ½ch slov. ÄŒasto pouÅ¾Ã­vanÃ¡ slova pak vyuÅ¾ijeme k vytvoÅ™enÃ­ databÃ¡ze Å¡umu, dÃ­ky kterÃ© mÅ¯Å¾eme zmenÅ¡it nÃ¡Å¡ slovnÃ­k.</p>
      <p id="2ac791c8-da27-478a-bc8e-c04af37e00e6" class="">KaÅ¾dÃ©mu je doufÃ¡m jasnÃ©, Å¾e k zÃ­skÃ¡nÃ­ Å¡umu je nutnÃ© pouÅ¾Ã­t nÄ›jakou obecnou databÃ¡zi textÅ¯, nikoliv tÅ™eba odbornÃ© weby, nebo zdrojovÃ© kÃ³dy. DajÃ­ se pouÅ¾Ã­t knihy, ale jejich pÅ™evod na text je Äasto opruz s nepÅ™Ã­liÅ¡ dobrÃ½mi vÃ½sledky.</p>
      <p id="b2c9dde9-3cc5-4518-9186-2ca4b4b67bb4" class="">Na vÄ›tÅ¡inu webÅ¯ budete skoro vÅ¾dy potÅ™ebovat HTML parser, kterÃ½ osekÃ¡ okolnÃ­ prvky tak, aby vÃ¡m zbyl jen text. Do zaÄÃ¡tku mohu doporuÄit <a href="http://fora.babinet.cz/viewprintable.php?id=47542">http://fora.babinet.cz/viewprintable.php?id=47542</a> a <a href="http://www.cepsr.com/tisk.php?ID=01">http://www.cepsr.com/tisk.php?ID=01</a>, kde se nachÃ¡zÃ­ spousta slovnÃ­ vaty a budete mÃ­t jen minimÃ¡lnÃ­ prÃ¡ci s parsovÃ¡nÃ­m. ObecnÄ› potÅ™ebujete dlouhÃ© texty bez speciÃ¡lnÃ­ch vÃ½razÅ¯, na coÅ¾ jsou ideÃ¡lnÃ­ texty o politice, nebo kdÃ¡kÃ¡nÃ­ na blogÃ­scÃ­ch (zde ovÅ¡em pozor na wYpaTl4t0r).</p>
      <p id="97a7674d-3b16-4bd7-adc7-b90f3aa69e9b" class="">V tomto ÄlÃ¡nku pouÅ¾iji jako zdroj pouze web <a href="http://zpovedka.cz/">http://zpovedka.cz</a>, protoÅ¾e se jednÃ¡ o prakticky ideÃ¡lnÃ­ pÅ™Ã­klad se spoustou relativnÄ› dlouhÃ½ch textÅ¯, blogy jsou v url identifikovÃ¡ny ÄÃ­slem, coÅ¾ mi usnadnÃ­ stahovÃ¡nÃ­, a jako bonus tam nenÃ­ reklama.</p>
      <p id="0d644cf8-c36c-49de-a2c0-7131fae5a72e" class="">TentokrÃ¡t se jiÅ¾ nedÃ¡ pouÅ¾Ã­t rekurzivnÃ­ wget, protoÅ¾e by vÃ¡s mohl zavÃ©st na mÃ­sta, kam nechcete. JelikoÅ¾ jsou vÅ¡echny ÄlÃ¡nky seÅ™azeny sekvenÄne za sebou od url <a href="http://zpovedka.cz/000001.php">http://zpovedka.cz/000001.php</a> do url <a href="http://zpovedka.cz/001819.php">http://zpovedka.cz/001819.php</a> (max. v dobÄ› psanÃ­ ÄlÃ¡nku), pouÅ¾iji k jejich staÅ¾enÃ­ <a href="http://en.wikipedia.org/wiki/CURL#cURL">curl</a>, kterÃ½ mÃ¡ na rozdÃ­l od wgetu pÅ™Ã­mo podporu stahovÃ¡nÃ­ sekvenÄnÃ­ch url.</p>
      <pre id="2e3a7cf6-b7f1-4aeb-adea-9a9baacda581" class="code code-wrap"><code>mkdir zpovedka.cz
cd zpovedka.cz
 
curl http://zpovedka.cz/00[0001-1819].php -O
du -chs</code></pre>
      <pre id="5fe86b3a-2e9c-4709-a381-5d346b74dea8" class="code code-wrap"><code>109M    .
109M    total</code></pre>
      <p id="2732121c-f9a3-4c02-942f-70070b04d705" class="">Jak vidÃ­te, ze zpovÄ›Äky se stÃ¡hlo 109MB html strÃ¡nek. NynÃ­ je na Äase vÅ¡e pÅ™evÃ©st na ÄistÃ½ text. U lynxu to tentokrÃ¡t chce pouÅ¾Ã­t parametr <code>-force_html</code>, protoÅ¾e soubory majÃ­ pÅ™Ã­ponu <code>.php</code> a to se lynxu nezdÃ¡.</p>
      <pre id="3a21fb85-fe1f-4908-b520-8e7cdecc3291" class="code code-wrap"><code>find . -name "*.php" -exec sh -c 'lynx -force_html -dump {} &gt; {}.txt; echo {}' \;
rm *.php
du -chs</code></pre>
      <pre id="2dcbce6f-e88e-4a9f-b8aa-d44b44982176" class="code code-wrap"><code>56M .
56M total</code></pre>
      <p id="8b3a812a-072d-4854-afce-619206483c14" class="">PÅ™evod na ÄistÃ½ text srazil velikost skoro o polovinu. KdyÅ¾ se podÃ­vÃ¡te na jednotlivÃ© textovÃ© soubory, zjistÃ­te, Å¾e to poÅ™Ã¡d nenÃ­ ÃºplnÄ› ono. Na zaÄÃ¡tku se nachÃ¡zÃ­ hlaviÄka zabÃ­rajÃ­cÃ­ dva Å™Ã¡dky, na konci je pak zobrazen formulÃ¡Å™ pro komentÃ¡Å™e a odkazy, kterÃ© tam nacpal lynx. NeuÅ¡kodÃ­ tedy vÅ¡e oÅ™ezat a potÃ© hromadnÄ› uloÅ¾it do souboru <code>noise.dat</code>:</p>
      <pre id="10c4993c-2428-401d-8526-bfdbcf2b5650" class="code code-wrap"><code>find . -name "*.txt" -exec sh -c "tail -n +3 {} | head -n \`grep -n 'Pokud mÃ¡Å¡ k vÄ›ci co Å™Ã­ct a dokÃ¡Å¾eÅ¡ pomoci, nevÃ¡hej a piÅ¡.' {} | cut -f1 -d:\` &gt;&gt; noise.dat; echo {}" \;
 
# uklizeni bordelu
mv noise.dat ../
cd ..
rm -fr zpovedka.cz
 
du -h noise.dat</code></pre>
      <pre id="dbe27fc5-3b75-4b5b-bc83-a1a830759f43" class="code code-wrap"><code>47M noise.dat</code></pre>
      <p id="668400b1-b91a-4c49-beec-cc567d96cdef" class="">Jak mÃ¡te moÅ¾nost vidÄ›t, oÅ™ezÃ¡nÃ­m nepotÅ™ebnÃ½ch ÄÃ¡stÃ­ se podaÅ™ilo stÃ¡hnout velikost souboru o 9MB na 47MB.</p>
      <p id="ae53b216-691b-4bfa-a4ec-3bbc546ed168" class="">KdyÅ¾ to budete zkouÅ¡et, zjistÃ­te Å¾e onen zbÄ›silÃ½ find (za ten mÃ¡m peklo jistÃ© :P) v prÅ¯bÄ›hu prÃ¡ce vypisuje chyby - nelekejte se jich, jednÃ¡ se o smazanÃ© strÃ¡nky, kterÃ© byly pÅ™esto stÃ¡hnuty na disk a nynÃ­ se pÅ™eskakujÃ­.</p>
      <p id="ee1d5752-2e29-4033-a4ce-061263879bbc" class="">Pokud vÃ¡m zvÄ›davost nedÃ¡, zde je krÃ¡tkÃ½ popis jak pÅ™Ã­kaz funguje: pomocÃ­ <a href="http://cs.wikipedia.org/wiki/Tail">tailu</a> oÅ™Ã­znu 3 Å™Ã¡dky ze zaÄÃ¡tku souboru, kde se nachÃ¡zÃ­ hlaviÄka. Potom <a href="http://cs.wikipedia.org/wiki/Head">headem</a> vyberu veÅ¡kerÃ½ text aÅ¾ po Å™Ã¡dek, na kterÃ©m se vyskytuje Å™etÄ›zec <em>"Pokud mÃ¡Å¡ k vÄ›ci co Å™Ã­ct a dokÃ¡Å¾eÅ¡ pomoci, nevÃ¡hej a piÅ¡.</em>", kterÃ½ se v textu vÅ¾dy nachÃ¡zÃ­ pÅ™ed formulÃ¡Å™em pro vloÅ¾enÃ­ novÃ½ch pÅ™Ã­spÄ›vkÅ¯. ÄŒÃ­slo Å™Ã¡dku zjistÃ­m <a href="http://cs.wikipedia.org/wiki/Grep">grepem</a>, kterÃ½ dÃ­ky parametru <code>-n</code> zobrazuje ÄÃ­sla Å™Ã¡dkÅ¯ + vÃ½skyt Å™etÄ›zce. JelikoÅ¾ potÅ™ebuji pouze ÄÃ­slo Å™Ã¡dku, odÅ™Ã­znu ho z vÃ½stupu grepu pomocÃ­ pÅ™Ã­kazu <a href="http://cs.wikipedia.org/wiki/Cut">cut</a>. VÃ½stup z headu, kterÃ½ dostal jako parametr <code>-n</code> ÄÃ­slo Å™Ã¡dku z <code>grepu</code>, pÅ™esmÄ›ruji do souboru <code>noise.dat</code> v reÅ¾imu rozÅ¡iÅ™ovÃ¡nÃ­ (<code>&gt;&gt;</code>), dÃ­ky kterÃ©mu se Å™Ã¡dky pÅ™idajÃ­ na konec. To celÃ© se dÃ­ky pÅ™Ã­kazu <a href="http://cs.wikipedia.org/wiki/Find">find</a> s parametrem <code>-exec</code> vykonÃ¡ pro vÅ¡echny textovÃ© soubory ve sloÅ¾ce. Trochu krkolomnÃ©, ale tohle nenÃ­ kurz krasoprogramovÃ¡nÃ­, nÃ½brÅ¾ zÃ­skÃ¡vÃ¡nÃ­ dat.</p>
      <p id="697b37fe-7c1a-4d0c-8cbe-d9eb59941b8e" class="">Ze souboru nynÃ­ pomocÃ­ <code>extractor.py</code> vyextrahuji surovÃ½ seznam slov, kterÃ© budu pozdÄ›ji dÃ¡le analyzovat:</p>
      <pre id="2bc13910-2628-423c-9b9d-b114a247dac9" class="code code-wrap"><code>cat noise.dat | ./extractor.py --min 2 --max 10 --double --lower &gt; noise_raw.txt
du -h noise_raw.txt</code></pre>
      <pre id="437b15ad-6bc6-48a7-8e17-c09c88a4a8e4" class="code code-wrap"><code>44M noise_raw.txt</code></pre>
      <p id="022f162a-09b5-443c-b840-7261db151934" class="">Chvilku to trvÃ¡, tak si zatÃ­m tÅ™eba uvaÅ™te Äaj.</p>
      <h3 id="cbc089b0-4566-4356-90e1-c24a1ee43042" class="">VytvÃ¡Å™Ã­me databÃ¡zi Å¡umu</h3>
      <p id="6d8a5c1d-5c46-4074-9af2-2efdb770053c" class="">NynÃ­ si spoÄÃ­tÃ¡me, kolikrÃ¡t se kterÃ© vÃ½razy v textu objevujÃ­. SamozÅ™ejmÄ› abychom na to mohli napsat python script (ke svÃ© hanbÄ› se pÅ™iznÃ¡m, Å¾e jsem ho i <a href="https://gist.github.com/d0d956985c4be5251dff">napsal</a>), zÃ¡kladnÃ­ unixovÃ© nÃ¡stroje ale prÃ¡ci odvedou stejnÄ› tak dobÅ™e, ba dokonce rychleji:</p>
      <pre id="cd990ac1-a157-407c-8d63-2333509639f5" class="code code-wrap"><code>cat noise_raw.txt | sort | uniq -c &gt; noise_analysed.txt
du -h noise_analysed.txt</code></pre>
      <pre id="ad1ad625-ccdb-4d64-a353-99f35e3a1fba" class="code code-wrap"><code>6,9M    noise_analysed.txt</code></pre>
      <p id="7e2084c1-d856-45fa-bbd9-388d19cb541e" class="">Pokud nakoukneme do souboru noise_analysed.txt, zjistÃ­me, Å¾e se nÃ¡m tam uloÅ¾ily poÄty vÃ½skytu jednotlivÃ½ch slov:</p>
      <pre id="b7c0a7e8-2342-4f18-808f-0528d5090ff3" class="code code-wrap"><code>tail noise_analysed.txt</code></pre>
      <pre id="b1bcd08e-8f1f-41f0-80a6-551a2a510105" class="code code-wrap"><code>4 Ñ‚Ğ¾
1 Ñ‚Ğ¾Ğ±Ğ¾Ğ¹
1 Ñ„Ğ¸Ğ»ÑŒĞ¼Ğ°
2 Ñ‡Ğ°Ñ
2 Ñ‡Ğ°Ñ,
4 Ñ‡Ñ‚Ğ¾
1 ÑˆĞµÑÑ‚Ğ¾Ğ¹
2 ÑÑ‚Ğ¾
2 ÑÑ‚Ğ¾Ñ‚
1 æœ€å¾Œã®æ¥½</code></pre>
      <p id="ded033a4-dc0a-40ba-b82a-4750d0172e1e" class="">AnalÃ½zu vÃ½skytu slov jsme provÃ¡dÄ›li proto, abychom nÃ¡hodou neodstranili potenciÃ¡lnÃ­ <code>JehoTajemstvÃ­</code>, kterÃ¡ se na zpovedka.cz vyskytla nÃ¡hodou. To udÄ›lÃ¡me tak, Å¾e odfiltrujeme pouze slova, kterÃ¡ majÃ­ vÄ›tÅ¡Ã­ ÃºroveÅˆ pouÅ¾Ã­vÃ¡nÃ­, coÅ¾ nÃ¡m znaÄÃ­ prÃ¡vÄ› ÄÃ­slo pÅ™ed nimi.</p>
      <p id="3076d649-914f-41a3-b01a-14e0450b1b63" class="">OtÃ¡zkou je, jakou hodnotu zvolit. Pokud vybereme moc malou, zbude nÃ¡m aÅ¾ moc slov. Pokud moc velkou, mÅ¯Å¾e se stÃ¡t, Å¾e odfiltrujeme <code>JehoTajemstvÃ­</code>. Jako prvnÃ­ vÃ¡s pravdÄ›podobnÄ› napadne prÅ¯mÄ›r. Nezavrhuji to, ale osobnÄ› jsem se rozhodl pro prÅ¯mÄ›r mezi celkovÃ½m prÅ¯mÄ›rem a <a href="http://cs.wikipedia.org/wiki/Medi%C3%A1n">mediÃ¡nem</a>, kterÃ½ nenÃ­ tolik nÃ¡chylnÃ½ na lokÃ¡lnÃ­ vÃ½stÅ™elky. NazÃ½vejme to HranicÃ­.</p>
      <p id="c6d9f27e-51e4-4912-a7ce-cf6b8e71c3e0" class="">TeÄ pÅ™ijde oznÃ¡menÃ­, kterÃ© spoustu z tÄ›ch, ehm, mÃ©nÄ› zkuÅ¡enÃ½ch asi moc nepotÄ›Å¡Ã­. Rozhodl jsem se vynechat ÄÃ¡st, kde spoÄÃ­tÃ¡m Hranici a pouÅ¾iji script, kterÃ½ do dalÅ¡Ã­ho textovÃ©ho souboru blacklist_raw.txt uloÅ¾Ã­ vÅ¡echna slova, kterÃ¡ majÃ­ vÃ½skyt vÄ›tÅ¡Ã­ neÅ¾ Hranice. TakÃ© jsem vynechal kÃ³d, kterÃ½ odmaÅ¾e ÄÃ­sla pÅ™ed kaÅ¾dÃ½m pÅ™Ã­kazem a samotnÃ¡ slova uloÅ¾Ã­ do souboru <code>blacklist.txt</code>. Nechci dÃ¡t nÃ¡stroje do rukou lidem, kteÅ™Ã­ netuÅ¡Ã­ jak je pouÅ¾Ã­t - destruktivnÃ­ chovÃ¡nÃ­ bÃ½vÃ¡ nejÄastÄ›jÅ¡Ã­ u lidÃ­ s minimem schopnostÃ­.</p>
      <h3 id="c017f018-7270-4764-af49-7385f45a9b93" class="">OdeÄtenÃ­ Å¡umu</h3>
      <p id="5b4f3ebc-e95c-4b86-9d73-ddded794e8e7" class="">Pokud se vÃ¡m povedlo vyÄistit blacklist, mÃ¡te nynÃ­ k dispozici 409927 nejpouÅ¾Ã­vanÄ›jÅ¡Ã­ch slov, coÅ¾ je docela sluÅ¡nÃ½ wordlist. NynÃ­ staÄÃ­ jen vyfiltrovat slova ze souboru <code>wordlist.uniq.txt</code>, kterÃ¡ se nachÃ¡zejÃ­ zÃ¡roveÅˆ v souboru <code>blacklist.txt</code> a uloÅ¾it je do <code>wordlist.txt</code>. To se dÃ¡ udÄ›lat jednoduÅ¡e, nebo sloÅ¾itÄ›. OsobnÄ› rÃ¡d dÄ›lÃ¡m vÄ›ci jednoduÅ¡e, takÅ¾e tady je pÅ™Ã­kaz v bashi:</p>
      <pre id="abdf418a-228a-495f-9b8b-8b31b8d855c2" class="code code-wrap"><code>cat wordlist.uniq.txt blacklist.txt blacklist.txt | sort -f | uniq -iu &gt; wordlist_cleaned.txt
wc -l wordlist_cleaned.txt</code></pre>
      <pre id="589dda1f-40ad-4351-9861-e3efbdae6ec8" class="code code-wrap"><code>1719 wordlist_cleaned.txt</code></pre>
      <p id="8967e9c2-7edc-4746-b68e-2bde7f3b3d38" class="">Jak vidÃ­te, celÃ¡ filtrace spoÄÃ­vÃ¡ v tom, Å¾e <code>uniqu</code> poÅ¡lu soubor <code>blacklist.txt</code> dvakrÃ¡t, dÃ­ky ÄemuÅ¾ jsou vÃ½razy z nÄ›j zaruÄenÄ› odfiltrovÃ¡ny. Parametry <code>-f</code> a <code>-i</code> slouÅ¾Ã­ k porovnÃ¡vÃ¡nÃ­ bez ohledu na velikost pÃ­smen.</p>
      <p id="9a34ea39-3c2e-480f-8c26-a444c3125ff9" class="">Pokud se do souboru podÃ­vÃ¡te, zjistÃ­te, Å¾e se v nÄ›m z nÄ›jakÃ©ho dÅ¯vodu nÄ›kterÃ¡ slova vyskytujÃ­ jen s ÄÃ¡rkou na konci. To nenÃ­ zrovna ideÃ¡lnÃ­, proto si je naklonujeme i bez ÄÃ¡rky pomocÃ­ extractoru a jeho parametru <code>-d</code>:</p>
      <pre id="f313088e-88db-42ca-8627-238bca545f43" class="code code-wrap"><code>cat wordlist_cleaned.txt | ./extractor.py -d | sort | uniq  &gt; wordlist.txt
wc -l wordlist.txt</code></pre>
      <pre id="5c09326b-386a-4736-aa0e-6cf1424b1e25" class="code code-wrap"><code>1934 wordlist.txt</code></pre>
      <p id="02523110-7ec1-4c4d-b014-0e080d1892ff" class="">DÃ­ky filtraci pomocÃ­ blacklistu se nÃ¡m podstatnÄ› snÃ­Å¾il prostor, ve kterÃ©m se mÅ¯Å¾e ukrÃ½vat <code>JehoTajemstvÃ­</code> - z pÅ¯vodnÃ­ch 7576 slov na pouhÃ½ch 1934, jejichÅ¾ otestovÃ¡nÃ­ trvalo na mÃ© maÅ¡inÄ› 1m 17.741s.</p>
      <p id="f6dbc9d2-1fee-4718-ae3c-f58e3f137895" class="">Pokud chcete zjistit tajemstvÃ­, kterÃ© se ukrÃ½vÃ¡ v czCube (tedy czcube_server.py), budete muset jeÅ¡tÄ› trochu zapracovat - napovÃ­m jen tolik, Å¾e ve <code>wordlist.txt</code> jsou uloÅ¾eny obÄ› komponenty hesla, tedy jak <code>JehoTajemstvÃ­</code>, tak <code>Suffix</code>. K tomu abyste pÅ™iÅ¡li na to co je co se vÃ¡m bude hodit, Å¾e nÃ¡Å¡ bruteforcer pÅ™ijÃ­mÃ¡ i pole stringÅ¯, jestli si jeÅ¡tÄ› vzpomÃ­nÃ¡te :) Bude to chtÃ­t ovÅ¡em buÄto jeÅ¡tÄ› zredukovat velikost wordlistu, nebo zrychlit crackovÃ¡nÃ­, protoÅ¾e vyzkouÅ¡et vÅ¡ech 3742290 kombinacÃ­ by trvalo na mÃ©m stroji necelÃ½ch 42 hodin :)</p>
      <h3 id="6ad5f0d5-bf8f-4c0c-9c44-1c868caa1018" class="">ProblÃ©my a nÃ¡vrhy na vylepÅ¡enÃ­</h3>
      <p id="f7b34329-7834-491c-90de-77b6c42c984b" class="">Pokud se podÃ­vÃ¡te do souboru <code>wordlist.txt</code>, zjistÃ­te, Å¾e se v nÄ›m stÃ¡le nachÃ¡zÃ­ spousta bÄ›Å¾nÃ½ch anglickÃ½ch slov, kterÃ© nebyly odchyceny, protoÅ¾e <a href="http://zpovedka.cz/">zpovedka.cz</a> je ÄeskÃ½ web. <strong>VytvoÅ™te anglickÃ½ blacklist a slova odeÄtÄ›te.</strong></p>
      <p id="dc3cd5aa-e948-4473-bb2a-a6214f636578" class="">PÅ™i detailnÄ›jÅ¡Ã­m pohledu si jistÄ› vÅ¡imnete, Å¾e se zde nachÃ¡zÃ­ spousta jmen a datumÅ¯. Zkuste napsat jejich detektor a permutÃ¡tor do rÅ¯znÃ½ch formÃ¡tÅ¯. K dostÃ¡nÃ­ se do czCube to sice nenÃ­ nutnÃ©, ale v reÃ¡lnÃ©m Å¾ivotÄ› se to bude hodit.</p>
      <p id="6453debc-525b-4939-a640-807441b0a77f" class="">NÄ›kterÃ¡ slova konÄÃ­ ÄÃ¡rkou, jinÃ¡ teÄkou, jinÃ¡ pÃ­smenem. ZaÅ™iÄte, aby vÅ¡echna konÄila pÃ­smenem, teÄkou i ÄÃ¡rkou.</p>
      <p id="ee7f54d1-5343-40ae-8c8c-3bcc8cd01c67" class="">NemÃ¡te jistotu velkÃ½ch a malÃ½ch pÃ­smen. Heslo mÅ¯Å¾e obsahovat string z wordlistu, ale mÅ¯Å¾e mÃ­t na zaÄÃ¡tku malÃ© pÃ­smeno, nebo bÃ½t celÃ½ malÃ½mi, i kdyÅ¾ je ve wordlistu s velkÃ½m pÃ­smenem.</p>
      <h2 id="42d8d6c9-1a82-46a8-ab11-b22bcc214957" class="">PouÄenÃ­</h2>
      <p id="1efdd7e5-0d2c-4784-8187-721f0bd83e12" class="">DÃ­ky zamÄ›Å™enÃ­ Ãºtoku je moÅ¾nÃ© podstatnÄ› zmenÅ¡it poÄet hesel, kterÃ¡ je nutno vyzkouÅ¡et. To se hodÃ­, pokud ÃºtoÄÃ­te na cÃ­le s pomalou linkou, nebo paranoidnÃ­m adminem, kterÃ½ omezil poÄet spojenÃ­.</p>
      <p id="940752d2-05c4-440a-871f-8c5d16498ae5" class="">Na rozdÃ­l od bruteforce nemusÃ­te zkouÅ¡et nepÅ™edstavitelnÃ¡ ÄÃ­sla kombinacÃ­, kterÃ¡ v dohlednÃ© dobÄ› prostÄ› nevyzkouÅ¡Ã­te, ale vcelku reÃ¡lnÃ© tisÃ­ce a miliony, kterÃ© netrvajÃ­ tak dlouho. Na druhou stranu, na rozdÃ­l od bruteforce, kde mÃ¡te vÃ­ce/mÃ©nÄ› zÃ¡ruku ÃºspÄ›chu v koneÄnÃ©m Äase (i kdyÅ¾ se mÅ¯Å¾e nachÃ¡zet miliardy let v budoucnosti), u dictionary se mÅ¯Å¾e stÃ¡t, Å¾e se prostÄ› netrefÃ­te a nic s tÃ­m nenadÄ›lÃ¡te, pokud umÃ­ admin vybrat sprÃ¡vnÄ› heslo.</p>
      <h2 id="2aa0efd0-a36e-4b96-b9f8-4311293af7b2" class="">Side-channel</h2>
      <p id="f49a7ef4-60d8-4736-80a3-d8a2fba11b97" class=""><a href="http://en.wikipedia.org/wiki/Side_channel_attack">Side-channel</a> Ãºtoky se od vÃ½Å¡e uvedenÃ½ch lÃ­Å¡Ã­ docela podstatnÄ›. NecÃ­lÃ­ totiÅ¾ na samotnÃ© heslo, ale na veÅ¡kerÃ© vedlejÅ¡Ã­ projevy systÃ©mu. PÅ™esto jsem si je troufl zaÅ™adit, protoÅ¾e vÃ¡s ve vÄ›tÅ¡inÄ› pÅ™Ã­padÅ¯ nevpustÃ­ do systÃ©mu, jako kdybyste pouÅ¾ili exploit, ale pouze podstatnÄ› zredukujÃ­ poÄet hesel, kterÃ© musÃ­te otestovat.</p>
      <p id="29b413da-430c-4702-b023-889ef8cce81b" class="">Funguje to tak, Å¾e se zamÄ›Å™ujete na cokoliv, co dokÃ¡Å¾ete o systÃ©mu zjistit, nejÄastÄ›ji na fyzikÃ¡lnÃ­ podstatu systÃ©mu, protoÅ¾e lidÃ© kteÅ™Ã­ zaÅ™Ã­zenÃ­ a algoritmy navrhujÃ­ pracujÃ­ s vrstvami abstrakce, kterÃ© zakrÃ½vajÃ­ postrannÃ­ Ãºniky.</p>
      <p id="7547ab17-7f35-44bd-bd49-1534bf8321c8" class="">MÅ¯Å¾e to bÃ½t doba bÄ›hu, jeho akustickÃ©, infraÄervenÃ© (teplo), ultrafialovÃ©, elektromagnetickÃ©, neutronovÃ© a tÅ™eba i gravitaÄnÃ­ vyzaÅ™ovÃ¡nÃ­, nebo jeho spotÅ™eba. Aby to nebyla ÄistÄ› pasivnÃ­ nuda, tak systÃ©m pÅ™i nÄ›kterÃ½ch typech ÃºtokÅ¯ vystavujete extrÃ©mnÃ­m podmÃ­nkÃ¡m - pÅ™ipojujete ho na vyÅ¡Å¡Ã­ napÄ›tÃ­, neÅ¾ na jakÃ© byl stavÄ›n, ohÅ™Ã­vÃ¡te ho, nebo mrazÃ­te, podrobujete gama Äi rentgenovÃ©mu zÃ¡Å™enÃ­, silnÃ©mu prosvÄ›tlenÃ­, ozaÅ™ovÃ¡nÃ­ v mikrovlnce, abyste zpÅ¯sobili nefunkÄnost nÄ›kterÃ½ch souÄÃ¡stÃ­, jako je napÅ™Ã­klad generÃ¡tor nÃ¡hodnÃ½ch ÄÃ­sel.</p>
      <p id="4cbd28d2-6c68-4d2e-9e59-8f826c5380b3" class="">Side-channel Ãºtoky v naprostÃ© vÄ›tÅ¡inÄ› pÅ™Ã­padÅ¯ nejsou jednoduchÃ© a vyÅ¾adujÃ­ seriÃ³znÃ­ znalosti a/nebo vybavenÃ­. PÅ™esto vÃ¡m pÃ¡r z nich pÅ™iblÃ­Å¾Ã­m, alespoÅˆ ve zkratce.</p>
      <h2 id="d6e52a8f-1099-4575-9184-f19c7b69abae" class="">TEMPEST aka Electromagnetic Eavesdropping aka Van Eck phreaking aka EMSEC</h2>
      <p id="f110ff46-f674-4f41-8d57-737f283810f5" class="">I kdyÅ¾ se nejednÃ¡ zrovna o <em>guessing</em>, ale spÃ­Å¡ <em>password sniffing</em>, neexistuje zÃ¡Å™nÄ›jÅ¡Ã­ pÅ™Ã­klad <em>postrannÃ­ho kanÃ¡lu</em> neÅ¾ <a href="http://en.wikipedia.org/wiki/Van_Eck_phreaking">Van Eck phreaking</a>, nesprÃ¡vnÄ› znÃ¡mÄ›jÅ¡Ã­ spÃ­Å¡ pod kÃ³dovÃ½m oznaÄenÃ­m <a href="http://en.wikipedia.org/wiki/Tempest_%28codename%29">TEMPEST</a>. JednÃ¡ se o typ Ãºtoku, kterÃ½ cÃ­lÃ­ na <a href="http://www.linuxexpres.cz/unik-elektromagnetickych-emisii">nechtÄ›nÃ© elektromagnetickÃ© vyzaÅ™ovÃ¡nÃ­</a>.</p>
      <p id="f06104e4-ac41-4aac-8142-117dc42665b0" class="">Spousta lidÃ­ si myslÃ­, Å¾e postavit funkÄnÃ­ vysÃ­laÄ je nÃ¡roÄnÃ¡ prÃ¡ce, kterÃ¡ vyÅ¾aduje hodnÄ› znalostÃ­ z elektrotechniky. Pravda je takovÃ¡, Å¾e ve skuteÄnosti je mnohem tÄ›Å¾Å¡Ã­ postavit kus elektroniky co nic nevysÃ­lÃ¡ (o Å¡Ã­Å™ce spektra, ÄistotÄ› a vÃ½konu se teÄ nebavme). To vÃ¡m jistÄ› potvrdÃ­ kaÅ¾dÃ½, kdo nÄ›kdy musel Å™eÅ¡it odruÅ¡enÃ­ elektromotorÅ¯, napÅ™Ã­klad ve vysavaÄi.</p>
      <h3 id="e67e061f-ada3-4b2c-9117-e9ffb1dfd9d7" class="">Princip vysÃ­laÄe</h3>
      <p id="c182dfaa-e246-488c-9f1b-d52af918c7d0" class="">JednoduchÃ© vysÃ­laÄe nejsou Å¾Ã¡dnÃ¡ magie. Jak si moÅ¾nÃ¡ pamatujete ze zÃ¡kladnÃ­ Å¡koly, kdyÅ¾ do kusu drÃ¡tu pustÃ­te elektÅ™inu, napÅ™Ã­klad z 9V baterie, stane se z nÄ›j elektromagnet, takÅ¾e k sobÄ› zaÄne pÅ™itahovat magnetickÃ© pÅ™edmÄ›ty. ÄŒÃ­m delÅ¡Ã­ mÃ¡te drÃ¡t stoÄenÃ½ do cÃ­vky, tÃ­m silnÄ›jÅ¡Ã­ eletromagnet bude.</p>
      <p id="24eae719-4b8c-465f-ae07-598554d1dec3" class="">Pokud mÃ¡te citlivÃ½ mÄ›Å™Ã¡k, dokÃ¡Å¾ete zmÄ›Å™it toto statickÃ© magnetickÃ© pole na vzdÃ¡lenost desÃ­tek centimetrÅ¯, moÅ¾nÃ¡ metrÅ¯. Pokud vÅ¡ak magnet rozkmitÃ¡te (zaÄnete ho velice rychle vypÃ­nat a zapÃ­nat), elektromagnetickÃ© pole kolem nÄ›j kmitÃ¡ s nÃ­m a na cÃ­vkÃ¡ch v okolÃ­ dochÃ¡zÃ­ k indukci. PÅ™i urÄitÃ½ch rychlostech vypÃ­nÃ¡nÃ­ a zapÃ­nÃ¡nÃ­ se pole Å¡Ã­Å™Ã­ do dÃ¡lky lÃ©pe neÅ¾ pÅ™i jinÃ½ch, takÅ¾e dochÃ¡zÃ­ k vysÃ­lÃ¡nÃ­ tohoto pole na velmi dlouhÃ© vzdÃ¡lenosti. To se pak velice slabÄ›, ale pÅ™eci jen indukuje na kovovÃ½ch pÅ™edmÄ›tech (antÃ©ny) i desÃ­tky kilometrÅ¯ daleko. Pokud k nim pÅ™ipojÃ­te zesilovaÄ a frekvenÄnÃ­ filtr, mÅ¯Å¾ete z toho co se vÃ¡m naindukuje rekonstruovat zapÃ­nÃ¡nÃ­ a vypÃ­nÃ¡nÃ­ vysÃ­laÄe - jeho rychlost, plynulost a do jistÃ© mÃ­ry i intenzitu.</p>
      <p id="3c3173af-03c7-4a73-b485-568d681cbd45" class="">SamozÅ™ejmÄ›, tohle vÅ¡echno platÃ­ jen pro nejprimitivnÄ›jÅ¡Ã­ vysÃ­laÄe ala jiskÅ™iÅ¡tÄ›, ve skuteÄnÃ©m svÄ›tÄ› je to docela vÄ›da, protoÅ¾e se snaÅ¾Ã­te vysÃ­lat jen na malÃ©m frekvenÄnÃ­m pÃ¡smu, s minimÃ¡lnÃ­m zasahovÃ¡nÃ­m do ostatnÃ­ch, s co nejvÄ›tÅ¡Ã­ efektivitou pÅ™evodu energie a tak dÃ¡le.</p>
      <h3 id="11863912-a373-456b-bb35-21a404d00dc2" class="">PoÄÃ­taÄ jako vysÃ­laÄ</h3>
      <p id="dbb7fe0e-cac8-4798-96f9-0ef9a9394f15" class="">Abych se vrÃ¡til zpÄ›t k TEMPESTU - vÃ¡Å¡ poÄÃ­taÄ je v podstatÄ› zaÅ™Ã­zenÃ­, kterÃ© velice rychle pÅ™epÃ­nÃ¡ elektÅ™inu v mnoha rÅ¯znÃ½ch vodiÄÃ­ch, aÅ¥ uÅ¾ se jednÃ¡ o kabely pÅ™ipojujÃ­cÃ­ periferie, nebo o vnitÅ™nÃ­ sbÄ›rnice zajiÅ¡Å¥ujÃ­cÃ­ pÅ™enos informacÃ­ mezi vnitÅ™nÃ­mi komponentami. DÃ­ky tomu se jednÃ¡ o vysÃ­laÄ na vÅ¡ech moÅ¾nÃ½ch vlnovÃ½ch dÃ©lkÃ¡ch, kterÃ© jsou tlumeny kovovou krabicÃ­ poÄÃ­taÄe.</p>
      <p id="247225be-aa55-45d9-b882-dc308fcc3cf4" class="">ExternÃ­ komponenty, jako jsou monitor, klÃ¡vesnice a myÅ¡ vÅ¡ak niÄÃ­m tlumenÃ© nejsou a dÃ­ky tomu vysÃ­lajÃ­ s velkou radostÃ­ do okolÃ­ vÅ¡e, co se pÅ™es nÄ› pÅ™enÃ¡Å¡Ã­. SignÃ¡ly nejsou ÄistÃ©, jelikoÅ¾ pÅ¯vodnÄ› samozÅ™ejmÄ› nikdo neplÃ¡noval, Å¾e majÃ­ vysÃ­lat. RÅ¯znÄ› se do sebe mÃ­sÃ­, pÅ™iÄemÅ¾ nÄ›kterÃ© vysÃ­lajÃ­ na tak nÃ­zkÃ½ch frekvencÃ­ch, Å¾e o kus dÃ¡l uÅ¾ jsou utlumeny k nerozeznÃ¡nÃ­.</p>
      <p id="98198614-eefa-4f55-8469-459e427a9fb7" class="">PÅ™es to vÅ¡echno je moÅ¾nÃ© prÅ¯bÄ›hy napÄ›tÃ­, kterÃ© na vÃ¡Å¡ monitor doruÄujÃ­ signÃ¡l pro zobrazenÃ­ odposlouchÃ¡vat i na desÃ­tky metrÅ¯. NezÃ¡leÅ¾Ã­ pÅ™itom na typu pouÅ¾itÃ©ho monitoru, funguje to jak pro <a href="http://www.hack247.co.uk/hack247/wp-content/uploads/pet2004-fpd.pdf">LCD</a>, tak pro <a href="http://www.hack247.co.uk/hack247/wp-content/uploads/emr.pdf">CRT</a> na jednotky, max. desÃ­tky metrÅ¯.</p>
      <p id="ee6c648b-cd7e-438b-bb58-d2dfe04ee0b6" class="">KlÃ¡vesnice na tom nejsou o nic lÃ©pe - ba naopak, dÃ­ky dlouhÃ½m nestÃ­nÄ›nÃ½m drÃ¡tÅ¯m, po kterÃ½ch si sviÅ¡tÃ­ povely jen ve chvÃ­li kdy maÄkÃ¡te tlaÄÃ­tka je to <a href="http://lasecwww.epfl.ch/keyboard/">jeÅ¡tÄ› jednoduÅ¡Å¡Ã­</a>. ÃštoÄnÃ­k tak vÅ¯bec nemusÃ­ kompromitovat vÃ¡Å¡ systÃ©m, prostÄ› si heslo pÅ™eÄte tak jak ho pÃ­Å¡ete.</p>
      <h3 id="df582ef2-3243-43ec-8208-a1946119fbf4" class="">Obrana</h3>
      <p id="e4bf4091-a337-4a47-a405-520eedc9aecc" class="">ExistujÃ­ dvÄ› moÅ¾nÃ© techniky obrany, obÄ› zaloÅ¾enÃ© na principu <a href="http://cs.wikipedia.org/wiki/Faradayova_klec">faradayovi klece</a>:</p>
      <p id="b99263ad-157c-4fce-949a-68f8eece3972" class="">1. VÅ¡echny souÄÃ¡stky a kabely musÃ­ bÃ½t <a href="http://www.youtube.com/watch?v=55z_0BYb5is">nÃ¡leÅ¾itÄ› odstÃ­nÄ›ny</a>. Touto cestou se vydaly vojenskÃ© organizace po celÃ©m svÄ›te. Je to draÅ¾Å¡Ã­ a komplikovanÄ›jÅ¡Ã­, ale jistÄ›jÅ¡Ã­, jako bonus to nejspÃ­Å¡ pÅ™idÃ¡vÃ¡ jistou odolnost vÅ¯Äi elektrickÃ© sloÅ¾ce <a href="http://cs.wikipedia.org/wiki/Elektromagnetick%C3%BD_impuls">EMP</a>.</p>
      <p id="12969be1-6d60-4e08-93ae-62cc701a2582" class="">2. MÃ­sto kde poÄÃ­taÄ pouÅ¾Ã­vÃ¡te musÃ­ bÃ½t odstÃ­nÄ›nÃ©. IdeÃ¡lnÃ­ jsou klece z uzemnÄ›nÃ©ho pletiva, alobal na zdech takÃ© nenÃ­ marnÃ½. Inspiraci je moÅ¾nÃ© Äerpat tÅ™eba z filmu <a href="http://www.csfd.cz/film/8280-nepritel-statu/">NepÅ™Ã­tel stÃ¡tu</a>.</p>
      <h3 id="c955e08b-ac34-4b90-bd44-0e85798b15e0" class="">MoÅ¾nÃ© vyuÅ¾itÃ­</h3>
      <p id="da46ccd1-7fd4-479b-9c5c-2df31b16590e" class="">TEMPEST pro VÃ¡s nemusÃ­ bÃ½t nutnÄ› Å¡kodlivÃ½ - ve chvÃ­li kdy vÃ­te, Å¾e monitor vlastnÄ› funguje jako vysÃ­laÄ, mÅ¯Å¾ete ho pouÅ¾Ã­t jako jednoduchou zvukovou kartu, kterou je moÅ¾nÃ© naladit na FM rÃ¡dio. Pokud vÃ¡s to zajÃ­mÃ¡, hledejte vÃ½raz "<a href="http://www.youtube.com/watch?v=Th6rVsLGMjE">tempest for eliza</a>".</p>
      <p id="bb943230-827c-4165-bab5-df9801f5fefc" class="">DalÅ¡Ã­ moÅ¾nÃ© vyuÅ¾itÃ­ je transport citlivÃ½ch informacÃ­, kdyÅ¾ nedostanete moÅ¾nost zapojenÃ­ externÃ­ch mÃ©diÃ­ a pÅ™Ã­stupu na internet: Na vysokÃ½ch Å¡kolÃ¡ch jsou uzamÄenÃ© uÄebny, ve kterÃ½ch se nachÃ¡zejÃ­ poÄÃ­taÄe se zdrojovÃ½mi kÃ³dy Windows. Studenti, kteÅ™Ã­ se upÃ­Å¡Ã­ ke vstupu nesmÃ­, ba ani nemohou pÅ™ipojit Å¾Ã¡dnÃ© zaÅ™Ã­zenÃ­, protoÅ¾e poÄÃ­taÄ na nÄ› nereaguje, porty jsou zaslepeny, bedna zamknutÃ¡ a internetovÃ¡ konektivita nenÃ­ dostupnÃ¡. Na druhou stranu, nic jim nebrÃ¡nÃ­ studovat zdrojovÃ© kÃ³dy a spouÅ¡tÄ›t programy - od toho tam zdrojovÃ© kÃ³dy Windows jsou, aby bylo moÅ¾nÃ© prostudovat systÃ©m a provÃ¡dÄ›t rÅ¯znÃ© testy.</p>
      <p id="9a67995a-d0ed-4b41-9fb3-492fbae6bdc1" class="">Teoreticky je tedy moÅ¾nÃ© za pomocÃ­ pÅ™Ã­tomnÃ©ho IDE napsat program, kterÃ½ pomocÃ­ TEMPESTU zaÄne vysÃ­lat Å™Ã¡dku po Å™Ã¡dce zdrojovÃ© kÃ³dy do svÄ›ta. Za pÅ™edpokladu, Å¾e nÄ›kdo naslouchÃ¡ (i kdyby Å¡lo jen o pasivnÃ­ zÃ¡znamovÃ© zaÅ™Ã­zenÃ­ na zÃ¡chodovÃ© kabince o patro nÃ­Å¾e), mÅ¯Å¾e tak dojÃ­t k Ãºniku dat.</p>
      <h2 id="949bcd9f-8f8d-4cd3-b148-b215f25595bb" class="">OdbÄ›rovÃ© Ãºtoky</h2>
      <p id="2a1073dc-2114-4948-a65b-0fdf12c8a8e5" class="">AÄ se to nezdÃ¡, dÅ¯leÅ¾itÃ© informace o systÃ©mu je moÅ¾nÃ© zjistit i studiem <a href="http://en.wikipedia.org/wiki/Power_analysis">odbÄ›ru elektÅ™iny</a>.</p>
      <p id="5117b346-2d99-4d6e-a47f-f29490f1fc80" class="">KdyÅ¾ vynechÃ¡m, Å¾e policie takto zamÄ›Å™uje <a href="http://www.pre.cz/velkoodberatele/pre-aktualne-prehled-2011/zlodeji-elektriny-aneb-odhalene-cerne-odbery.html">nelegÃ¡lnÃ­ pÄ›stÃ­rny marihuany</a>, tak kaÅ¾dÃ½ poÄÃ­taÄovÃ½ Äip spotÅ™ebovÃ¡vÃ¡ v prÅ¯bÄ›hu Äasu nekonstantnÃ­ mnoÅ¾stvÃ­ elektÅ™iny a odbÄ›r tedy neustÃ¡le lehce kolÃ­sÃ¡ podle toho, jakÃ© jsou zrovna vodivÄ› propojeny obvody na Äipu a co provÃ¡dÃ­ za operaci. NejednÃ¡ se samozÅ™ejmÄ› o nijak velkÃ© hodnoty, kolÃ­sÃ¡nÃ­ se pohybuje v mezÃ­ch, na kterÃ© potÅ™ebujete laboratornÃ­ pÅ™Ã­stroje.</p>
      <p id="aafb452f-22ee-4db9-a944-766b8f8381cb" class="">U normÃ¡lnÃ­ch poÄÃ­taÄÅ¯ by tento typ Ãºtoku nejspÃ­Å¡ zklamal - jednak je zdroj s vyhlazovacÃ­mi kondenzÃ¡tory umÃ­stÄ›nÃ½ uvnitÅ™ poÄÃ­taÄe, druhak jsou na desce desÃ­tky a stovky ÄipÅ¯, kterÃ© systÃ©m ovlivÅˆujÃ­. PotÅ™ebujete nÄ›co triviÃ¡lnÄ›jÅ¡Ã­ho, tak primitivnÃ­ho, Å¾e to nemÃ¡ ani vlastnÃ­ napÃ¡jecÃ­ zdroj.</p>
      <p id="9c9cf9ee-4565-47f2-b99c-2d743da185cb" class="">TakovÃ½m systÃ©mem jsou smartcard a RFID Äipy. PrvnÃ­ jmenovanÃ© naleznete v podobÄ› telefonnÃ­ch, nebo bankomatnÃ­ch ÄipÅ¯, druhÃ© vÅ¡ude tam, kde se pouÅ¾Ã­vajÃ­ Äipy bezkontaktnÃ­ - vstupnÃ­ karty, pasy, opencard, Äipy v autobusech, psÃ­ znÃ¡mky.</p>
      <p id="cc330e1a-a8ba-4f52-9943-5c687c2383cb" class="">Tyto Äipy nejsou tvoÅ™eny stovkami miliÃ³nÅ¯ aÅ¾ miliardami tranzistorÅ¯, naopak, jednÃ¡ se o vcelku primitivnÃ­ obvody, kterÃ© se skoro vÅ¾dy vejdou pod 10 000 tranzistorÅ¯. JednÃ­m dÅ¯vodem je cena, druhÃ½m hlavnÄ› spotÅ™eba elektÅ™iny, coÅ¾ je vÃ½znamnÃ½ faktor hlavnÄ› u bezkontaktnÃ­ch (RFID) ÄipÅ¯, kterÃ© se musÃ­ napÃ¡jet z nosnÃ© vlny vysÃ­laÄe.</p>
      <p id="68e5a116-0195-40f3-b706-a15e21c38067" class="">U takto velkÃ½ch obvodÅ¯ se jiÅ¾ dajÃ­ mÄ›Å™it odbÄ›rovÃ© charakteristiky, protoÅ¾e nad mÃ¡te stoprocentnÃ­ kontrolu nad jejich vstupy a vÃ½stupy, takÅ¾e vÃ­te pÅ™esnÄ› co danÃ½ obvod dÄ›lÃ¡. MÅ¯Å¾ete tak doslova mÄ›Å™it odbÄ›r v kaÅ¾dÃ©m taktu, coÅ¾ vÃ¡m dÃ¡ pÅ™edstavu o typech prÃ¡vÄ› pouÅ¾Ã­vanÃ½ch obvodÅ¯, dÃ­ky ÄemuÅ¾ mÅ¯Å¾ete odhalit algortmus, kterÃ½ karta pouÅ¾Ã­vÃ¡.</p>
      <p id="901330ec-0c63-4536-8531-a4bdd7a02c74" class="">DetailÅ¯m se zde nebudu vÄ›novat, protoÅ¾e bez znalostÃ­ architektury ÄipÅ¯ na Ãºrovni vysokÃ© Å¡koly se nejspÃ­Å¡ moc chytat nebudete, navÃ­c nejsem odbornÃ­k a ani jsem v tomhle ohledu nedÄ›lal Å¾Ã¡dnÃ© pokusy, protoÅ¾e to chce docela drahÃ© elektronickÃ© vybavenÃ­.</p>
      <h3 id="96bce428-326f-4305-8154-18579d61fb1e" class="">ShrnutÃ­</h3>
      <p id="e20ee6f3-065d-4f27-ba37-9db2d374b5b8" class="">OdbÄ›rovÃ© Ãºtoky mohou pomoci podstatnÄ› zredukovat poÄet moÅ¾nÃ½ch hesel, protoÅ¾e vÃ¡m prozradÃ­ informace o algoritmu. VyÅ¾adujÃ­ silnÃ© znalosti o architektuÅ™e poÄÃ­taÄovÃ½ch ÄipÅ¯ a solidnÃ­ technickÃ© vybavenÃ­. Pokud nepochopÃ­te do poslednÃ­ho detailu jednoduchÃ© poÄÃ­taÄe, jako je tÅ™eba <a href="http://kitakitsune.org/raw/RelayTalk.pdf">tohle</a>, nemÃ¡ smysl se v tom dÃ¡l pitvat, protoÅ¾e vÃ¡m to stejnÄ› nic neÅ™ekne.</p>
      <h2 id="78f678f7-37af-4c16-b7d7-be9b838444f9" class="">Timing attack</h2>
      <p id="9e6517fa-30e6-49be-9bf4-78b6312af746" class="">AÄ se to nezdÃ¡, dost informacÃ­ se dÃ¡ o systÃ©mu zjistit i podle rychlosti reakcÃ­.</p>
      <p id="b2b60947-fe32-4275-878a-3ec5c34b22db" class="">OsobnÄ› jsem tomuto typu Ãºtoku nevÄ›noval pozornost, dokud mi nevyrazila dech pÅ™ednÃ¡Å¡ka <a href="http://www.youtube.com/watch?v=OsbQhr9ZmPY">Time is on my side</a> z <a href="http://events.ccc.de/congress/2011/Fahrplan/events/4640.en.html">28c3</a>, kde <a href="http://sebastian-schinzel.de/">Sebastian Schinzel</a> pÅ™edvedl originÃ¡lnÃ­ Ãºtok na systÃ©m po sÃ­ti, kterÃ½ vÃ¡m umoÅ¾Åˆuje zredukovat poÄet pokusÅ¯ k uhodnutÃ­ hesla na pouhÃ© stovky tisÃ­c, pokud programÃ¡tor udÄ›lÃ¡ tu chybu a pouÅ¾ije standardnÃ­ funkce pro porovnÃ¡vÃ¡nÃ­ Å™etÄ›zcÅ¯ na plaintextovÃ© heslo.</p>
      <h3 id="2a1909e8-cacd-44dc-84bf-96095d63ca75" class="">strcmp()</h3>
      <p id="2a6393ba-09f1-4722-9437-0c27a0b4ba6d" class="">Jak doufÃ¡m vÅ¡ichni vÃ­te, pokud chcete v jazyce C porovnat dva Å™etÄ›zce, pouÅ¾ijete funkci <code>strcmp()</code>. JelikoÅ¾ je vÄ›tÅ¡ina systÃ©mÅ¯ je postavenÃ¡ na C, platÃ­ zde uvedenÃ© informace prakticky pro libovolnÃ½ systÃ©m, nebo interpretovanÃ½ programovacÃ­ jazyk.</p>
      <p id="99b9ab3c-cdfd-4337-82be-88742a714a87" class=""><code>strcmp()</code> funguje velice jednoduÅ¡e - pÅ™ijÃ­mÃ¡ dva textovÃ© Å™etÄ›zce, kterÃ© prochÃ¡zÃ­ a znak po znaku porovnÃ¡vÃ¡. Pokud se znaky v polÃ­ch na stejnÃ©m indexu nerovnajÃ­, vrÃ¡tÃ­ ÄÃ­slo vÄ›tÅ¡Ã­, nebo menÅ¡Ã­ nule, dle toho jak se liÅ¡Ã­. JestliÅ¾e jsou oba Å™etÄ›zce stejnÃ©, vrÃ¡tÃ­ nulu.</p>
      <p id="991fd73e-b010-433a-a58a-191089737c21" class="">PodÃ­vejme se nynÃ­ na <code>strcmp()</code>, tak jak jÃ­ <a href="http://sourceware.org/git/?p=glibc.git;a=blob_plain;f=string/strcmp.c;h=8229d7c773b361a1587cac2cfc5d9b12ba29255a;hb=1f529f7d8456f09109a8e942581f89f10a901ed0">implementuje linuxovÃ¡ glibc</a>:</p>
      <pre class="code"><code><span class="cp">#include</span> <span class="cpf">&lt;string.h&gt;</span>
<span class="cp">#include</span> <span class="cpf">&lt;memcopy.h&gt;</span>
 
<span class="cp">#undef strcmp</span>
 
<span class="cm">/* Compare S1 and S2, returning less than, equal to or</span>
<span class="cm">   greater than zero if S1 is lexicographically less than,</span>
<span class="cm">   equal to or greater than S2.  */</span>
<span class="kt">int</span>
<span class="nf">strcmp</span> <span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">)</span>
     <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">p1</span><span class="p">;</span>
     <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">p2</span><span class="p">;</span>
<span class="p">{</span>
  <span class="k">register</span> <span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">*</span><span class="p">)</span> <span class="n">p1</span><span class="p">;</span>
  <span class="k">register</span> <span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">*</span><span class="p">)</span> <span class="n">p2</span><span class="p">;</span>
  <span class="kt">unsigned</span> <span class="n">reg_char</span> <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">;</span>
 
  <span class="k">do</span>
    <span class="p">{</span>
      <span class="n">c1</span> <span class="o">=</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">char</span><span class="p">)</span> <span class="o">*</span><span class="n">s1</span><span class="o">++</span><span class="p">;</span>
      <span class="n">c2</span> <span class="o">=</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">char</span><span class="p">)</span> <span class="o">*</span><span class="n">s2</span><span class="o">++</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">c1</span> <span class="o">==</span> <span class="sc">'\0'</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">c1</span> <span class="o">-</span> <span class="n">c2</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="k">while</span> <span class="p">(</span><span class="n">c1</span> <span class="o">==</span> <span class="n">c2</span><span class="p">);</span>
 
  <span class="k">return</span> <span class="n">c1</span> <span class="o">-</span> <span class="n">c2</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">libc_hidden_builtin_def</span> <span class="p">(</span><span class="n">strcmp</span><span class="p">)</span>
</code></pre>
      <p id="36dfc05d-a305-42ef-9220-121b5d15688c" class="">JelikoÅ¾ se jednÃ¡ sice o reÃ¡lnou, ale pÅ™eci jen ponÄ›kud zbyteÄnÄ› komplikovanou ukÃ¡zku, pÅ™idÃ¡m jeÅ¡tÄ› zjednoduÅ¡enou implementaci, kterÃ¡ funguje tÃ©mÄ›Å™ ekvivalentnÄ›:</p>
      <pre class="code"><code><span class="kt">int</span> <span class="nf">strcmp</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">s1</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s2</span><span class="p">){</span>
    <span class="k">for</span><span class="p">(;</span> <span class="o">*</span><span class="n">s1</span> <span class="o">==</span> <span class="o">*</span><span class="n">s2</span><span class="p">;</span> <span class="n">s1</span><span class="o">++</span><span class="p">,</span> <span class="n">s2</span><span class="o">++</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="n">s1</span> <span class="o">==</span> <span class="sc">'\0'</span><span class="p">)</span>
            <span class="k">break</span><span class="p">;</span>
   
    <span class="k">return</span> <span class="o">*</span><span class="n">s1</span> <span class="o">-</span> <span class="o">*</span><span class="n">s2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
      <p id="2f30b3c5-3ea3-455a-a134-ab8866753420" class="">Funkce prochÃ¡zÃ­ pÅ™es ukazatele <code>s1</code> a <code>s2</code>, kterÃ© dostala jako argumenty, a porovnÃ¡vÃ¡, jestli jsou hodnoty na kterÃ© ukazujÃ­ stejnÃ©. Pokud ano, pokraÄuje se dÃ¡l. Jakmile se liÅ¡Ã­, nebo nastane konec Å™etÄ›zce, funkce se ukonÄÃ­ a vrÃ¡tÃ­ vÃ½sledek.</p>
      <p id="299e1d40-6571-4cf7-912c-bf432d5f691f" class="">Abych se nemusel uchylovat k C, pÅ™epÃ­Å¡i danou ukÃ¡zku 1:1 do pythonu. PÅ¯sobÃ­ to trochu kÅ™eÄovitÄ›, ale funguje stejnÄ›:</p>
      <pre class="code"><code><span class="k">def</span> <span class="nf">strcmp</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">):</span>
    <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">min_len</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">s2</span><span class="p">))</span>
   
    <span class="k">while</span> <span class="n">s1</span><span class="p">[</span><span class="n">cnt</span><span class="p">]</span> <span class="o">==</span> <span class="n">s2</span><span class="p">[</span><span class="n">cnt</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">cnt</span> <span class="o">&lt;</span> <span class="n">min_len</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>
   
        <span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span>
   
    <span class="k">return</span> <span class="nb">ord</span><span class="p">(</span><span class="n">s1</span><span class="p">[</span><span class="n">cnt</span><span class="p">])</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="n">s2</span><span class="p">[</span><span class="n">cnt</span><span class="p">])</span>
</code></pre>
      <p id="04b94797-fe20-4e31-bc8e-42cde1c3d53e" class="">DÅ¯kladnÄ› si prosÃ­m uvedenÃ© zdrojovÃ© kÃ³dy prostudujte, dokud nebudete mÃ­t jistotu, Å¾e jim rozumÃ­te.</p>
      <h3 id="f1be8b31-20f2-4011-a60c-ee2813b99ece" class="">VÃ½konnostnÃ­ optimalizace</h3>
      <p id="3ea2ce36-87be-4b90-a004-98a4a813601a" class="">Za pÅ™edpokladu, Å¾e jste skuteÄnÄ› pochopili uvedenÃ© zdrojovÃ© kÃ³dy, tak by vÃ¡m mÄ›lo bÃ½t jasnÃ©, Å¾e funkce trvÃ¡ pro rÅ¯znÃ© Å™etÄ›zce <strong>stejnÃ© dÃ©lky</strong> rÅ¯znou dobu. Je to tak z dÅ¯vodu vÃ½konnostnÃ­ optimalizace, kdy je zbyteÄnÃ© nadÃ¡le porovnÃ¡vat dva Å™etÄ›zce, kdyÅ¾ uÅ¾ jsme narazili na prvnÃ­ odliÅ¡nost, tudÃ­Å¾ vÃ­me Å¾e nemÅ¯Å¾ou bÃ½t stejnÃ©.</p>
      <h3 id="e13c7a06-1158-4702-b68c-ec8dc497ae88" class="">NepraktickÃ¡ ukÃ¡zka</h3>
      <p id="41de8d03-66ad-4256-9130-8b66826c7c62" class="">Aby se neÅ™eklo, Å¾e je kapitola o side-channel ÃºtocÃ­ch samÃ¡ nuda a Å¾Ã¡dnÃ¡ akce, pÅ™ipravil jsem nepraktickou ukÃ¡zku, kterÃ¡ ÃºtoÄÃ­ na <code>strcmp()</code> v pythonu, takÅ¾e si mÅ¯Å¾ete vyzkouÅ¡et, Å¾e Ãºtok na <code>strcmp()</code> je skuteÄnÄ› moÅ¾nÃ½. Ve skuteÄnÃ©m svÄ›tÄ› by vÃ¡m ukÃ¡zka byla k niÄemu, protoÅ¾e ÃºtoÄit na lokÃ¡lnÃ­ poÄÃ­taÄ nemÃ¡ vÄ›tÅ¡inou smysl a mÅ¯Å¾ete mi vÄ›Å™it, Å¾e raw pÅ™Ã­stup k IP vrstvÄ›, routovÃ¡nÃ­ packetÅ¯ dle vytÃ­Å¾enÃ­ a multitaskingovost na stranÄ› serveru vÅ¡e PODSTATNÄš komplikuje.</p>
      <p id="12ac83b7-69eb-44d9-b6a6-26923ce87de1" class="">V pÅ™Ã­loze najdete sloÅ¾ku <code>timing_attack/</code>, ve kterÃ© se nachÃ¡zÃ­ nÄ›kolik souborÅ¯, jednÃ­m z nich je <code>cmptest.py</code>. Obsahuje vÃ½Å¡e uvednou implementaci funkce <code>strcmp()</code> a nÄ›kolik mÄ›Å™Ã­cÃ­ch funkcÃ­, kterÃ© nejsou tak podstatnÃ©. DÅ¯leÅ¾itÃ© je, Å¾e kdyÅ¾ mu pÅ™edÃ¡te jako prvnÃ­ parametr ÄÃ­slo, provede tolikrÃ¡t funkci <code>strcmp("h", "heslo")</code> a <code>strcmp("x", "heslo")</code>, vÃ½sledek vÃ¡m potom vypÃ­Å¡e na terminÃ¡l.</p>
      <pre id="c76c0657-a749-418f-8cee-0b476c3acbbd" class="code code-wrap"><code>./cmptest.py 10000000</code></pre>
      <pre id="d3473dad-2117-4745-ad18-f24fd55d00fb" class="code code-wrap"><code>10000000:
    strcmp('x', 'heslo') &gt; strcmp('h', 'heslo')  (12.5968060493 &gt; 11.8393321037)</code></pre>
      <p id="01fe6439-596f-4c39-a1cf-fe84c80dc43f" class="">Zde jasnÄ› vidÃ­me, Å¾e pÅ™i deseti milionech pokusÅ¯ trvÃ¡ provedenÃ­ testu s <code>"x"</code> 12,59 sekundy, zatÃ­mco s <code>"h"</code> jen 11.83. To je docela pÄ›knÃ½ a jasnÄ› mÄ›Å™itelnÃ½ rozdÃ­l.</p>
      <p id="50a1ce8f-f773-4947-8fa6-0df117449ee0" class="">JelikoÅ¾ jsem mÄ›l stÃ¡le jeÅ¡tÄ› nÄ›jakÃ© pochyby, rozhodl jsem se napsat dalÅ¡Ã­ script, kterÃ½ zkusÃ­ pomÄ›Å™it celou abecedu a vypÃ­Å¡e, jak dlouho trvalo jednotlivÃ© mÄ›Å™enÃ­, navÃ­c vybere nejkratÅ¡Ã­ a nejdelÅ¡Ã­ pÃ­smeno. Script se jmenuje <code>cmprate.py</code> a zkouÅ¡Ã­ porovnÃ¡vat jak naÅ¡Ã­ starou znÃ¡mou funkce <code>strcmp()</code>, tak funkci <code>dcmp()</code>, kterÃ¡ je jen jednoduchÃ½ obal v podobÄ› <code>"return s1 == s2"</code> nad pythonovskÃ½m <code>==</code> operÃ¡torem. Zde je vidÄ›t vÃ½sledek pÅ™i milionu porovnÃ¡nÃ­:</p>
      <pre id="6e4d40c2-ca7f-4fe0-9673-9e91ed0fa3a5" class="code code-wrap"><code>./cmprate.py  1000000</code></pre>
      <pre id="09370461-20f4-4df9-a37c-802d678efbaa" class="code code-wrap"><code>Function; dcmp
Password; heslo
 
    a : 0.293820858002      b : 0.310147047043  
    c : 0.300177097321      d : 0.302853107452  
    e : 0.304003000259      f : 0.298863172531  
    g : 0.301759958267      h : 0.299163818359  
    i : 0.30108499527       j : 0.302097082138  
    k : 0.303493976593      l : 0.298543930054  
    m : 0.294486999512      n : 0.305546998978  
    o : 0.301103830338      p : 0.294248819351  
    q : 0.293974876404      r : 0.294204950333  
    s : 0.296105861664      t : 0.294260978699  
    u : 0.301180839539      v : 0.295403003693  
    w : 0.296595096588      x : 0.295566082001  
    y : 0.296170949936      z : 0.299213171005  
 
Min; a : 0.293820858002
Max; b : 0.310147047043
 
Press return key to continue..
 
Function; strcmp
Password; heslo
 
    a : 1.29385995865       b : 1.29009699821  
    c : 1.28069210052       d : 1.28151607513  
    e : 1.2850959301        f : 1.2793431282    
    g : 1.27082300186       h : 1.19221711159  
    i : 1.32058596611       j : 1.30693387985  
    k : 1.293653965         l : 1.30821704865  
    m : 1.28762984276       n : 1.29457807541  
    o : 1.290391922         p : 1.3181951046    
    q : 1.31833600998       r : 1.29655194283  
    s : 1.31078600883       t : 1.29456710815  
    u : 1.31070494652       v : 1.29148507118  
    w : 1.3075799942        x : 1.31262302399  
    y : 1.30018806458       z : 1.30558419228  
 
Min; h : 1.19221711159
Max; i : 1.32058596611
 
Press return key to continue..</code></pre>
      <p id="2f4cf9c5-35de-4f2f-a5e7-3f60917b5c06" class="">Jak je vidÄ›t, funkce <code>strcmp()</code> je skuteÄnÄ› pÅ™edvidatelnÃ¡, a skonÄÃ­ pro sprÃ¡vnÃ© hodnoty rychleji, neÅ¾ pro nesprÃ¡vnÃ©. <code>dcmp()</code> vÅ¡ak vypadÃ¡ kompletnÄ› nÃ¡hodnÄ›, tomu se jeÅ¡tÄ› budu trochu vÄ›novat dÃ¡le.</p>
      <p id="04da752e-bdcb-45ce-9a2d-7427b6eadd0e" class=""><code>cmprate.py</code> mi kaÅ¾dopÃ¡dnÄ› potvrdil, Å¾e se nesnaÅ¾Ã­m implementovat nedosaÅ¾itelnou ideu, takÅ¾e jsem rovnou napsal script <code>cmpcrack.py</code>, kterÃ½ postupnÄ› testuje abecedu a zkouÅ¡Ã­ heslo.</p>
      <pre id="d423aac9-e563-41dc-b07b-5a6bd9638e8f" class="code code-wrap"><code>./cmpcrack.py 1000000</code></pre>
      <pre id="feae0433-228c-4365-8744-4666667633dc" class="code code-wrap"><code>h [1.1929199695587158, 'h']
he [1.5170519351959229, 'e']
hes [1.8253459930419922, 's']
hesl [2.1278860569000244, 'l']
Got it: heslo</code></pre>
      <p id="b9672f6c-23e2-495a-8b07-89c0cb6f401b" class="">Jak mÃ¡te moÅ¾nost vidÄ›t, script potÅ™ebuje cca milion pokusÅ¯ na ohodnocenÃ­ kaÅ¾dÃ©ho pÃ­smena. To je nejmenÅ¡Ã­ poÄet testÅ¯, kterÃ©ho se mi podaÅ™ilo dosÃ¡hnout na mÃ©m poÄÃ­taÄi s linuxem mint 13 a nÄ›kolika bÄ›Å¾Ã­cÃ­mi aplikacemi, jako je prohlÃ­Å¾eÄ, IRC klient, SSH klient, jabber a pÅ™ehrÃ¡vaÄ hudby. Jsem pÅ™esvÄ›dÄenÃ½, Å¾e na realtime systÃ©mu (viz dÃ¡le) by mÄ›l staÄit i podstatnÄ› menÅ¡Ã­ poÄet pokusÅ¯.</p>
      <h3 id="b96243f9-67a6-4d8e-8de9-8c4291a02977" class="">Realtime OS</h3>
      <p id="18fa67fc-94f5-40cd-a04e-7792533aec71" class="">UkÃ¡zka sice fungovala s ponÄ›kud absurdnÃ­ (v pythonu se to dÃ¡ vyÅ™eÅ¡it mnohem elegantnÄ›ji, ale pak by to nebylo ekvivalentnÃ­ k C kÃ³du) implementacÃ­ <code>strcmp()</code>, ale naprosto selhala v pÅ™Ã­padÄ› operÃ¡toru porovnÃ¡nÃ­.</p>
      <p id="75c38d58-9f39-435e-9e80-e5ef1634fa70" class="">Napadlo mÄ›, Å¾e jeden z moÅ¾nÃ½ch dÅ¯vodÅ¯, proÄ tomu tak bylo je jistÃ© rozostÅ™enÃ­, kdy se snaÅ¾Ã­me z relativnÄ› pomalÃ©ho pythonu mÄ›Å™it nativnÃ­ operaci, kterÃ¡ bÄ›Å¾Ã­ tak rychle, Å¾e mÄ›Å™enÃ­ v podstatÄ› vracÃ­ jen Äas nutnÃ½ k zavolÃ¡nÃ­ funkce, kterÃ½ je ovlivnÄ›n spoustou dalÅ¡Ã­ch vÄ›cÃ­, jako tÅ™eba fragmentace pamÄ›ti a poÄtem bÄ›Å¾Ã­cÃ­ch procesÅ¯.</p>
      <p id="e985a624-ccdb-45d7-ac52-ab39445949cf" class="">DalÅ¡Ã­ co mÄ› napadlo je, Å¾e na vÅ¡ech modernÃ­ch desktopovÃ½ch systÃ©mech nikdy nebÄ›Å¾Ã­ jen jedna vÄ›c. I kdybyste povypÃ­nali vÅ¡echny moÅ¾nÃ© ostatnÃ­ procesy, stÃ¡le se toho dÄ›je na pozadÃ­ mnoho, co vÅ¯bec nemÅ¯Å¾ete ovlivnit. Je tu strÃ¡nkovÃ¡nÃ­, je tu sloÅ¾itÃ½ proces pÅ™epÃ­nÃ¡nÃ­ procesÅ¯ podle vytÃ­Å¾enÃ­ poÄÃ­taÄe a priorit, jsou tu rÅ¯znÃ© cache, je tu zÅ™etÄ›zovÃ¡nÃ­ a predikce instrukcÃ­ v procesoru.</p>
      <p id="655311cf-cca7-464a-a722-438bf257dd7e" class="">DÃ­ky tomu vÅ¡emu je tÄ›Å¾kÃ© nÄ›co opravdu pÅ™esnÄ› mÄ›Å™it ve chvÃ­li kdy se bavÃ­me o nanosekundÃ¡ch, coÅ¾ mÅ¯Å¾e implementace <code>==</code> pro Å™etÄ›zec splÅˆovat, jelikoÅ¾ implementace Pythonu kterÃ½ pouÅ¾Ã­vÃ¡m je napsanÃ¡ v C.</p>
      <p id="ad876879-a2b1-48cc-a521-3c790e00fbdf" class="">Sebastian Shinzel na podobnÃ½ problÃ©m takÃ© narazil a rozhodl se to vyÅ™eÅ¡it silnou Ãºpravou Windows. OsobnÄ› jsem se v pokusech vydal jednoduÅ¡Å¡Ã­ cestou - modernÃ­ operaÄnÃ­ systÃ©m jsem vÅ¯bec nepouÅ¾il, protoÅ¾e proÄ pouÅ¾Ã­vat multitaskingovÃ½ OS na nÄ›co, na co se zcela oÄividnÄ› nehodÃ­. NamÃ­sto toho jsem si vybral Å¡iroce dostupnÃ½ realtime OS; <a href="http://cs.wikipedia.org/wiki/DOS">DOS</a>, konkrÃ©tnÄ› verzi <a href="http://cs.wikipedia.org/wiki/FreeDOS">FreeDOS</a>.</p>
      <h3 id="41c57672-14ed-48e3-b086-737509fab515" class="">DOS</h3>
      <p id="17652a16-f598-4d15-8926-543b884da58b" class="">DOS je z dneÅ¡nÃ­ho pohledu silnÄ› triviÃ¡lnÃ­ systÃ©m, u kterÃ©ho mi trvalo velice dlouho, neÅ¾ jsem pochopil v Äem spoÄÃ­vÃ¡ jeho vÃ½hoda. Na prvnÃ­ pohled se to mÅ¯Å¾e zdÃ¡t ponÄ›kud pÅ™ekvapivÃ©, ale nejvÄ›tÅ¡Ã­ vÃ½hoda je v tom, Å¾e nedÄ›lÃ¡ nic. ZatÃ­mco dneÅ¡nÃ­ operaÄnÃ­ systÃ©my se starajÃ­ o vÅ¡echno moÅ¾nÃ©, DOS prostÄ› naÄte vÃ¡Å¡ program do pamÄ›ti, pÅ™edÃ¡ mu velenÃ­ a to je vÅ¡e, od tÃ©to doby mÃ¡ vÃ¡Å¡ program na starost vÅ¡e, co mÃ¡ poÄÃ­taÄ nynÃ­ dÄ›lat. Jakmile skonÄÃ­, pÅ™edÃ¡ velenÃ­ s trochou Å¡tÄ›stÃ­ zpÄ›t DOSu a ten umoÅ¾nÃ­ spouÅ¡tÄ›nÃ­ dalÅ¡Ã­ch programÅ¯.</p>
      <p id="82bde059-3326-4ad9-a201-0d9de61a8f25" class="">Ve skuteÄnosti to tak jednoduchÃ© nenÃ­, protoÅ¾e je zde jeÅ¡tÄ› DOS API ovlÃ¡danÃ© pomocÃ­ rÅ¯znÃ½ch pÅ™eruÅ¡enÃ­ a rezidentnÃ­ programy, kterÃ© mohou za urÄitÃ½ch podmÃ­nek bÄ›Å¾et kdesi na pozadÃ­, ale nekaÅ¾me si pohled na svÄ›t sloÅ¾itostmi, kterÃ© se dajÃ­ jednoduÅ¡e povypÃ­nat.</p>
      <h3 id="0fb08dcb-df93-4a9e-b885-ad744a09d6fe" class="">PythonD</h3>
      <p id="5c9f794d-5c17-41f1-b198-ca9235b7ae05" class="">JelikoÅ¾ se mi v zÃ¡vÄ›ru ÄlÃ¡nku nechtÄ›lo mÄ›nit jazyk, hledal jsem python pro DOS. Na internetu se naÅ¡tÄ›stÃ­ naÅ¡el nadÅ¡enec, kterÃ½ pÅ™ed pÃ¡r lety pÅ™eloÅ¾il python 2.4. JednÃ¡ se sice o starÅ¡Ã­, ale stÃ¡le pouÅ¾itelnou verzi. Pokud mÃ¡te zÃ¡jem, najdete ho zde: <a href="http://www.progecam.com/download/opensource/python/pyd24210.zip">http://www.progecam.com/download/opensource/python/pyd24210.zip</a></p>
      <h3 id="fce1e7f5-deb7-45b1-8505-8707d52b74d5" class="">Ãšprava live cd</h3>
      <p id="a3f247ba-eb47-4245-beec-eada638ec68b" class="">DOS v tomto pÅ™Ã­padÄ› nemÅ¯Å¾ete spustit ve virtualizaÄnÃ­ch nÃ¡strojÃ­ch, protoÅ¾e jen bÅ¯h vÃ­, co by se vÃ¡m vracelo jako Äas. Proto jsem si upravil starÅ¡Ã­ <a href="http://ftp//osdos:osdos@ftp.osdos.net/freedos1/fdfullcd.iso">live CD</a>, abych FreeDOS nemusel instalovat. PouÅ¾il jsem k tomu program <a href="http://www.littlesvr.ca/isomaster/">isomaster</a>.</p>
      <p id="78a46c01-d6d0-4b6a-8750-23335fa1ac18" class="">Python jsem si rozbalil do sloÅ¾ky <code>LIVE/python</code>, a k tomu jsem si vyrobil soubor <code>python.bat</code>, kterÃ½ najdete v pÅ™Ã­loze a samozÅ™ejmÄ› jsem si do <code>LIVE/src</code> nakopÃ­roval i zdrojÃ¡ky pÅ™edeÅ¡lÃ½ch ukÃ¡zek.</p>
      <p id="99a71500-5565-4346-85b2-a5ff12210304" class="">Po spuÅ¡tÄ›nÃ­ live CD jsem vybral v ÃºvodnÃ­m menu 1 a v druhÃ©m menu 3, tedy Å¾e chci podporu rozÅ¡Ã­Å™enÃ© pamÄ›ti. Po bootu jsem se ocitl na disku A: a chvÃ­li jsem tÃ¡pal, neÅ¾ mi doÅ¡lo, Å¾e Live CD je pÅ™ipojeno na disku X:. V urÄitou chvÃ­li mÄ› napadlo scripty trochu poladit a skuteÄnÄ› jsem ocenil, Å¾e na disku Z: je mountlÃ½ ramdisk, takÅ¾e tam pomocÃ­ programu <code>edit</code> mÅ¯Å¾u zkopÃ­rovanÃ© scripty upravovat.</p>
      <p id="239467c2-c797-4b2f-8e19-16148c47473f" class="">PÅ™estoÅ¾e jsem vÅ¡ak vyzkouÅ¡el lecos, Ãºtok na <code>==</code> se mi nepodaÅ™ilo provÃ©st a hodnoty kterÃ© vracÃ­ jsou i pÅ™i stovkÃ¡ch milionÅ¯ pokusÅ¯ neodliÅ¡itelnÃ© od Å¡umu i pÅ™es pouÅ¾itÃ­ DOSu. HypotÃ©za s realtime OS tedy padla.</p>
      <h3 id="b63d56ab-19ea-475b-b1d4-028cac49a61a" class="">_PyString_Eq</h3>
      <p id="4f196a99-7ee7-410a-82e4-691ad3756913" class="">NÃ¡hodnost <code>==</code> mi nedala spÃ¡t, proto jsem se nakonec rozhodl prozkoumat implementaci operÃ¡toru porovnÃ¡nÃ­ pro stringy, kterou najdete ve <a href="http://www.python.org/ftp/python/2.7.3/Python-2.7.3.tar.bz2">zdrojÃ¡cÃ­ch pythonu</a>, konkrÃ©tnÄ› v souboru <code>Python-2.7.3/Objects/stringobject.c</code> na Å™Ã¡dce 1249:</p>
      <pre class="code"><code><span class="kt">int</span>
<span class="nf">_PyString_Eq</span><span class="p">(</span><span class="n">PyObject</span> <span class="o">*</span><span class="n">o1</span><span class="p">,</span> <span class="n">PyObject</span> <span class="o">*</span><span class="n">o2</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">PyStringObject</span> <span class="o">*</span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">PyStringObject</span><span class="o">*</span><span class="p">)</span> <span class="n">o1</span><span class="p">;</span>
    <span class="n">PyStringObject</span> <span class="o">*</span><span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">PyStringObject</span><span class="o">*</span><span class="p">)</span> <span class="n">o2</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">Py_SIZE</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">==</span> <span class="n">Py_SIZE</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
      <span class="o">&amp;&</span> <span class="o">*</span><span class="n">a</span><span class="o">-&gt;</span><span class="n">ob_sval</span> <span class="o">==</span> <span class="o">*</span><span class="n">b</span><span class="o">-&gt;</span><span class="n">ob_sval</span>
      <span class="o">&amp;&</span> <span class="n">memcmp</span><span class="p">(</span><span class="n">a</span><span class="o">-&gt;</span><span class="n">ob_sval</span><span class="p">,</span> <span class="n">b</span><span class="o">-&gt;</span><span class="n">ob_sval</span><span class="p">,</span> <span class="n">Py_SIZE</span><span class="p">(</span><span class="n">a</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
      <p id="7310632f-c553-49f7-84a8-b3897a3955d8" class="">Jak je vidÄ›t, implementace porovnÃ¡vÃ¡nÃ­ je trochu jinÃ¡ neÅ¾ <code>strcmp()</code> v C, protoÅ¾e prvnÄ› porovnÃ¡ dÃ©lku Å™etÄ›zce. To by se v C nevyplatilo, protoÅ¾e stringy nemajÃ­ samostatnÄ› uloÅ¾enou dÃ©lku a jejÃ­ zjiÅ¡Å¥ovÃ¡nÃ­ pomocÃ­ <code>strlen()</code> by bylo zbyteÄnÄ› nÃ¡roÄnÃ©.</p>
      <p id="9e0562df-d52b-46b3-96a2-80f94a123da5" class="">Z vÃ½Å¡e uvedenÃ©ho zdrojovÃ©ho kÃ³du tedy plyne, Å¾e pythonnÃ­ operÃ¡tor porovnÃ¡nÃ­ je vÅ¯Äi naivnÃ­ implementaci timing attackÅ¯ odolnÃ½.</p>
      <h3 id="d0b44c23-a8b2-4eca-b880-48d9ff3f4a11" class="">NÃ¡vrhy</h3>
      <p id="6ca4fcd6-ed35-48de-bf86-d973ae65c9a6" class="">Script <code>cmpcrack.py</code> nenÃ­ ÃºplnÄ› nejvhodnÄ›ji napsanÃ½ a jednoduÅ¡e se mÅ¯Å¾e zatoulat kam by nemÄ›l. NapiÅ¡te funkci, kterÃ¡ v danÃ©m kroku ohodnotÃ­ vÅ¡echna pÃ­smena v poli <code>tests</code> a kdyÅ¾ zjistÃ­ Å¾e mezi nimi nenÃ­ skoro Å¾Ã¡dnÃ½ rozdÃ­l, vrÃ¡tÃ­ promÄ›nnou <code>guess</code> o pÃ­smeno zpÄ›t, protoÅ¾e nejspÃ­Å¡ doÅ¡lo k Å¡patnÃ©mu pokusu. DÃ­ky tomu nebudete muset Äekat, aÅ¾ Å¡patnÃ½ pokus dosÃ¡hne 10 znakÅ¯ a hledÃ¡nÃ­ bude resetovÃ¡no.</p>
      <p id="9208fef8-d39d-4bd1-a676-9f0c942e8881" class="">Zkuste navrhnout zpÅ¯sob Ãºtoku na pythonÃ­ operÃ¡tor porovnÃ¡vÃ¡nÃ­. DokÃ¡Å¾ete navrhnout metodiku zÃ­skÃ¡nÃ­ oÄekÃ¡vanÃ© dÃ©lky? Je vÅ¯bec moÅ¾nÃ© na <code>_PyString_Eq()</code> zaÃºtoÄit?</p>
      <p id="b11c1e85-a674-488f-a517-0c1db9d41744" class="">Pokud budete ÃºtoÄit pÅ™es sÃ­Å¥, nemÄ›Å™te prvnÄ› milion pokusÅ¯ pro jedno pÃ­smeno, milion pro druhÃ© atd, ale posÃ­lejte serveru vÅ¡echna na stÅ™Ã­daÄku. To vÃ¡m umoÅ¾nÃ­ do jistÃ© mÃ­ry eliminovat fluktuace v zatÃ­Å¾enÃ­ serveru a rozloÅ¾it je do vÃ­ce znakÅ¯, takÅ¾e tolik neovlivnÃ­ vÃ½sledky mÄ›Å™enÃ­. Za upozornÄ›nÃ­ dÄ›kuji <a href="http://www.abclinuxu.cz/lide/hrachj">Jendovi</a>.</p>
      <h3 id="b096dae0-68df-43c0-bda9-0f51988506cf" class="">Obrana</h3>
      <p id="5e615a70-a5c4-4f9b-9a0f-6234bdb4a2f5" class="">Pokud nÄ›kdy budete psÃ¡t aplikaci, ve kterÃ© porovnÃ¡vÃ¡te plaintextovÃ© heslo, nepouÅ¾Ã­vejte triviÃ¡lnÃ­ operace pro porovnÃ¡vÃ¡nÃ­ Å™etÄ›zcÅ¯, ale API kterÃ© vÃ¡m nabÃ­zÃ­ kryptografickÃ© knihovny.</p>
      <p id="66608633-d697-4c81-ad8a-3fb1d3757616" class="">Pokud nemÃ¡te dostupnÃ© podobnÃ© API, nevytvÃ¡Å™ejte <code>strcmp()</code>, ale <code>strncmp()</code>, kterÃ¡ vÅ¾dy projde celÃ½ string. DalÅ¡Ã­ moÅ¾nost je vloÅ¾enÃ­ nÃ¡hodnÃ© umÄ›lÃ© pauzy.</p>
      <p id="e054688d-17dc-471f-846e-67bd33c023f8" class="">ÃšplnÄ› nejlepÅ¡Ã­m Å™eÅ¡enÃ­m je vÅ¡ak hesla v plaintextu neuklÃ¡dat a pouÅ¾Ã­vat osolenÃ© hashe, na kterÃ© timing attacky nefungujÃ­.</p>
      <h3 id="321703bf-c71e-4990-93da-b772c8aba0f0" class="">PouÄenÃ­</h3>
      <p id="74859466-67f0-4fc3-9966-8d7862a11bd5" class="">Timing attack je Äasto opomÃ­jenou chybou, kterÃ¡ je ovÅ¡em docela tÄ›Å¾kÃ¡ na exploitaci v pÅ™Ã­padÄ›, Å¾e se snaÅ¾Ã­te ÃºtoÄit po internetu - vzpomeÅˆte si na trable s <code>==</code> a vynÃ¡sobte to poÄtem neznÃ¡mÃ½ch zaÅ™Ã­zenÃ­ nachÃ¡zejÃ­cÃ­mi se mezi vÃ¡mi a obÄ›tÃ­, kterÃ¡ se budou snaÅ¾it co nejoptimÃ¡lnÄ›ji dynamicky smÄ›Å™ovat traffic, navrch pÅ™idejte i nemoÅ¾nost pouÅ¾Ã­t proxy, protoÅ¾e by vnÃ¡Å¡ela do systÃ©mu dalÅ¡Ã­ rozostÅ™enÃ­.</p>
      <p id="b761f441-a57e-40a6-ba75-94372e3189a7" class="">VelkÃ½ uÅ¾itek tento typ Ãºtoku najde ve chvÃ­lÃ­ch, kdy necÃ­lÃ­te na sloÅ¾itÃ½ hardware, ale na nÄ›co relativnÄ› jednoduchÃ©ho, jako je jednoÄip, nebo tÅ™eba DVD pÅ™ehrÃ¡vaÄ, Äi satelit na orbitÄ› (kde vÃ¡m to ovÅ¡em zkazÃ­ odezva radiovÃ© sÃ­tÄ› a nÃ­zkÃ¡ rychlost).</p>
      <p id="2cbfa513-54fc-44de-8542-812183398e89" class="">Co se tÃ½Äe side channel ÃºtokÅ¯, dÃ¡le jiÅ¾ je pitvat nebudu, pevnÄ› vÄ›Å™Ã­m, Å¾e kaÅ¾dÃ½ kdo chtÄ›l pochopil a kdo nepochopil, tomu stejnÄ› dalÅ¡Ã­ informace nepomohou.</p>
      <h2 id="b5242070-8c63-42c2-be45-21a8fc56a36a" class="">Fail2ban</h2>
      <p id="d1fefd54-237a-471f-9777-618a63e2d7d4" class="">JednÃ­m z nejvÄ›tÅ¡Ã­ch nepÅ™Ã¡tel hÃ¡dacÃ­ch ÃºtokÅ¯ je po nÃ­zkÃ© pÅ™enosovÃ© rychlosti a dlouhÃ© odezvÄ› takÃ© omezenÃ­ poÄtu pokusÅ¯. To se dÃ¡ v zÃ¡sadÄ› rozdÄ›lit na tyto typy:</p>
      <ol type="1" id="c71c1d40-f812-4ebf-8d39-0169ded92716" class="numbered-list" start="1">
        <li>OmezenÃ­ na uÅ¾ivatele</li>
      </ol>
      <ol type="1" id="728d2b9b-d579-4402-94e3-47612b716c3e" class="numbered-list" start="2">
        <li>OmezenÃ­ na IP</li>
      </ol>
      <ol type="1" id="37fb035c-5b37-4dfd-bc86-441abe2af3bf" class="numbered-list" start="3">
        <li>OmezenÃ­ podle lokace IP</li>
      </ol>
      <h2 id="fed95ba8-5c47-43bc-815a-5aab24f6bed5" class="">OmezenÃ­ na uÅ¾ivatele</h2>
      <p id="becf981c-7380-4f92-8d14-3aa9ada89529" class="">Pokud se setkÃ¡te s prvnÃ­m typem, jste vyÅ™Ã­zenÃ­ a nenapadÃ¡ mÄ› nic, co by vÃ¡m mohlo pomoct. Po vyzkouÅ¡enÃ­ nÄ›kolika pokusÅ¯ je uÅ¾ivatel zablokovÃ¡n a vy konÄÃ­te, dÃ¡l mÃ¡te prostÄ› smÅ¯lu a neexistuje zpÅ¯sob, jak to obejÃ­t.</p>
      <p id="77461bd5-87f0-41bc-8ce2-08ccbbcbf65f" class="">S tÃ­mto typem ochrany se naÅ¡tÄ›stÃ­ setkÃ¡te jen velmi zÅ™Ã­dka u vyjÃ­meÄnÄ› dÅ¯leÅ¾itÃ½ch vÄ›cÃ­, protoÅ¾e umoÅ¾ÅˆujÃ­ jednoduchÃ½ DDOS, kdy zabrÃ¡nÃ­te pÅ™ihlaÅ¡ovÃ¡nÃ­ i legitimnÃ­ch uÅ¾ivatelÅ¯, kterÃ© tÃ­m moc nepotÄ›Å¡Ã­te, tudÃ­Å¾ vytvoÅ™Ã­ tlak na admina, aby systÃ©m odstranil.</p>
      <p id="9d8592d6-97c2-4f58-b955-7d325a951409" class="">Tento systÃ©m se dÃ¡ oÄekÃ¡vat u banky, nebo zbraÅˆovÃ½ch systÃ©mÅ¯ a vÅ¯bec celkovÄ› vÅ¡ude tam, kde je kritickÃ©, aby se nikdo nedostal dovnitÅ™ a pohodlÃ­ uÅ¾ivatelÅ¯ nenÃ­ takovou prioritou.</p>
      <h2 id="50d6fcea-3c02-457d-a594-84c926e1acea" class="">OmezenÃ­ na IP</h2>
      <p id="3b982f67-8775-4380-a164-40b67c464f23" class="">Mnohem ÄastÄ›jÅ¡Ã­m, i kdyÅ¾ stÃ¡le zdaleka ne samozÅ™ejmÃ½m, je systÃ©m omezenÃ­ poÄtu pokusÅ¯ z jednÃ© IP adresy. DÃ­ky tomu s velkou Å¡ancÃ­ nezablokujete legitimnÃ­ uÅ¾ivatele a pokud ano, mÅ¯Å¾ou prostÄ› pÅ™ijÃ­t k jinÃ©mu poÄÃ­taÄi a zkusit to tam.</p>
      <p id="421af5e5-285c-4a9d-8f32-cb02f47aa7dd" class="">StejnÃ½m zpÅ¯sobem mÅ¯Å¾ete postupovat i vy - rozprostÅ™Ã­t hÃ¡dÃ¡nÃ­ mezi poÄÃ­taÄe botnetu (prvnÄ› to tedy chce nÄ›jakÃ½ mÃ­t ^-^), pouÅ¾Ã­t proxy servery, zkouÅ¡et hÃ¡dat jen jeden poÅ¾adavek za hodinu atp..</p>
      <h2 id="3d6f6adb-a179-4377-a293-f43689e8c105" class="">OmezenÃ­ podle lokace IP</h2>
      <p id="ca1d1d06-00b9-4ca4-b93c-3cf383b96672" class="">Tento typ ochrany implementuje tÅ™eba gmail, kdy vÃ¡m nedovolÃ­ se jen tak pÅ™ihlÃ¡sit z jinÃ© zemÄ› a vyÅ¾aduje ovÄ›Å™enÃ­ pomocÃ­ SMS.</p>
      <p id="38e51d19-3ac1-47ad-981b-26e740c19b09" class="">MyÅ¡lenka je prostÃ¡ - spousta ÃºtokÅ¯ na uÅ¾ivatelskÃ© ÃºÄty jde z ciziny, proto blokacÃ­ cizincÅ¯ eliminujete vÄ›tÅ¡inu pokusÅ¯.</p>
      <p id="5656f787-a6a7-4309-aedf-704fb9175d56" class="">Å˜eÅ¡enÃ­ je jeÅ¡tÄ› prostÄ›jÅ¡Ã­ - proxy v zemi uÅ¾ivatele.</p>
      <h2 id="00bc8b70-9962-4864-8af5-d71c68bb4f33" class="">Parametry banu</h2>
      <p id="c4e4629b-81ee-42cb-bdb7-96b5958b21e4" class="">Je dÅ¯leÅ¾itÃ© si uvÄ›domit, Å¾e kaÅ¾dÃ½ ban mÃ¡ jasnÄ› danÃ© parametry, kterÃ© potÅ™ebujete zjistit, abyste mohli systÃ©m banovÃ¡nÃ­ obejÃ­t.</p>
      <h3 id="17f69c5f-e4ef-4db1-a870-54e2bd89d6a9" class="">PoÄet pokusÅ¯</h3>
      <p id="d91b8ce1-0a17-4aac-b28d-7cfa55d60ad8" class="">JednÃ­m z nejdÅ¯leÅ¾itÄ›jÅ¡Ã­ch parametrÅ¯ je samozÅ™ejmÄ› poÄet pokusÅ¯, kterÃ© mÅ¯Å¾ete vyzkouÅ¡et neÅ¾ chytnete ban. Typicky to bÃ½vÃ¡ nÄ›kde mezi 5 aÅ¾ 10.</p>
      <h3 id="c9d867c1-7a9a-4249-9d17-1657013013ad" class="">ÄŒasovÃ¡ jednotka</h3>
      <p id="2447e963-2086-4a63-95e8-e65b2dfaad77" class="">DalÅ¡Ã­m dÅ¯leÅ¾itÃ½m parametrem je samozÅ™ejmÄ› doba, kterou na pokusy mÃ¡te. MÅ¯Å¾e se jednat o vteÅ™iny aÅ¾ minuty, jen zÅ™Ã­dka jde o hodiny, Äi dny.</p>
      <h3 id="81b37b58-e88c-4cfb-ba3e-0c59ddf84d82" class="">Na jak dlouho</h3>
      <p id="6a59ed92-bdfa-414c-a2dc-5e19a10ac6c4" class="">Jakmile ban dostanete, dÅ¯leÅ¾itÃ¡ informace je za jak dlouho pÅ™estane platit a zda se to nÄ›jak stupÅˆuje, tedy Å¾e poprvÃ© dostanete na hodinu, podruhÃ© na dvÄ› a potÅ™etÃ­ na celÃ½ den.</p>
      <h2 id="c27de8b0-f123-46c9-8084-de2f23deb000" class="">ZÃ¡vÄ›r</h2>
      <p id="12409564-60fe-4465-bab1-b33b955d9612" class="">ZatÃ­mco bruteforce se dÃ¡ pÅ™irovnat k oslovovÃ¡nÃ­ vÅ¡ech Å¾en, kterÃ© jdou po ulici nÃ¡hodnÃ½mi vÄ›tami, dictionary je podstatnÄ› ÃºÄinnÄ›jÅ¡Ã­, protoÅ¾e zkouÅ¡Ã­te na konkrÃ©tnÃ­ Å¾enu vÄ›ci, o kterÃ½ch se obecnÄ› vÃ­, Å¾e na Å¾enskÃ© zabÃ­rajÃ­, tedy rÅ¯znÃ© lichotky a vtip.</p>
      <p id="72cbcdf6-6844-4d7a-a30d-be47cc92c6fc" class="">Dictionary s vlastnÃ­m, na mÃ­ru dÄ›lanÃ½m slovnÃ­kem je jako kdyÅ¾ si prvnÄ› o dannÃ© Å¾enÄ› zjistÃ­te vÅ¡echny dostupnÃ© informace a nastudujete si jednotlivÃ© detaily o oblÃ­benÃ½ch filmech a knihÃ¡ch, takÅ¾e Å¾enu mÅ¯Å¾ete bavit vÄ›cmi, kterÃ© mÃ¡ rÃ¡da a kterÃ© se jÃ­ lÃ­bÃ­, stÃ¡le vÅ¡ak nemÃ¡te jistotu, Å¾e vÃ¡s nebude brÃ¡t jen jako kamarÃ¡da.</p>
      <p id="1d1f9510-9f5c-4e2d-8bda-e010b23a0820" class="">Side-channel Ãºtoky jsou techniky, kterÃ© dokÃ¡Å¾e pouÅ¾Ã­t jen zkuÅ¡enÃ½ svÅ¯dnÃ­k, jenÅ¾ umÃ­ vyhodnotit kaÅ¾dÃ½ podvÄ›domÃ½ pohled Å¾eny, to jak se jÃ­ zachvÄ›je sval nad Ãºsty, jak pohne nosem, jak jejÃ­ Å¾Ã­la na krku zaÄne viditelnÄ› rychleji pulzovat, jakÃ½ zaujme postoj a jak se zasmÄ›je. SÃ¡m pÅ™itom neustÃ¡le zkouÅ¡Ã­ mÄ›nit vlastnÃ­ postoje tak, aby je zkorigoval s co nejpozitivnÄ›jÅ¡Ã­ reakcÃ­ a po chvilce doslova krmÃ­ Å¾enu zpÄ›tnou vazbou tak, aby vyvolal co nejlepÅ¡Ã­ dojem. K tomu aby mohl nÄ›co takovÃ©ho provÃ©st vÅ¡ak potÅ™ebuje kromÄ› talentu takÃ© mnoho zkuÅ¡enostÃ­ a detailnÃ­ povÄ›domÃ­ o tom, jak Å¾eny fungujÃ­, proto to zvlÃ¡dÃ¡ jen pomÄ›rnÄ› mÃ¡lo lidÃ­.</p>
      <h2 id="e3c35e48-08ac-4ea9-9c87-c15b98d3aca4" class="">Kontakt</h2>
      <p id="61c8a8bd-4029-403a-875e-dc0cd07b882b" class="">ÄŒlÃ¡nek jsem napsal, protoÅ¾e chci a mÅ¯Å¾u. Pokud se to nÄ›komu nelÃ­bÃ­, mÅ¯Å¾ete si stÄ›Å¾ovat na <a href="http://necyklopedie.wikia.com/wiki/Lamp%C3%A1rna">lampÃ¡rnÄ›</a>, nebo do zdi.</p>
      <p id="461a6fcf-1ecd-4ae5-8075-2835cbcde403" class="">Pokud mÃ¡te nÄ›jakÃ© konstruktivnÃ­ pÅ™ipomÃ­nky, nebo si chcete o ÄlÃ¡nku pokecat, mÅ¯Å¾ete mi napsat na:</p>
      <ul id="2b9ce547-e8fd-4614-a728-14526fdbb282" class="bulleted-list">
        <li style="list-style-type:disc">bystrousak@kitakitsune.org</li>
      </ul>
      <p id="d137d681-c84e-4658-90c6-b19dc0d0aaea" class="">Hackovat nikoho uÄit nebudu, tak to ani nezkouÅ¡ejte, podobnÃ© maily maÅ¾u bez odpovÄ›dÃ­, obzvlÃ¡Å¡Å¥ blbÃ½m Å¾Ã¡dostem se veÅ™ejnÄ› vysmÃ­vÃ¡m na IRC.</p>
      <h2 id="61c95fd5-e665-46db-a873-632fb11ab6b7" class="">Licence</h2>
      <p id="5bfb9a65-1bfe-4c03-839f-6abde59acb0b" class="">Tento ÄlÃ¡nek chce bÃ½t svobodnÃ½, proto ho Å¡iÅ™te jak se vÃ¡m zlÃ­bÃ­, ovÅ¡em v nezmÄ›nÄ›nÃ© podobÄ›. Byl bych vÅ¡ak rÃ¡d, kdybych na to byl Å¡iÅ™itelem upozornÄ›n, ÄistÄ› proto, Å¾e tak narazÃ­m na zajÃ­mavÃ¡ mÃ­sta.</p>
      <h2 id="541a3b2a-047f-4347-ae6b-7dfabee97998" class="">PÅ™Ã­loha</h2>
      <pre class="code"><code><span class="ch">#!/usr/bin/env python</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1">#</span>
<span class="c1"># czcube_server.py v1.0.0 (09.10.2012) by Bystroushaak (bystrousak@kitakitsune.org)</span>
<span class="c1">#</span>
<span class="c1">#= Imports =====================================================================</span>
<span class="kn">import</span> <span class="nn">sha</span>
<span class="kn">import</span> <span class="nn">md5</span>
<span class="kn">import</span> <span class="nn">zlib</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">socket</span>
<span class="kn">from</span> <span class="nn">Crypto.Cipher</span> <span class="kn">import</span> <span class="n">AES</span>



<span class="c1">#= Variables ===================================================================</span>
<span class="n">HOST</span> <span class="o">=</span> <span class="s1">''</span>
<span class="n">PORT</span> <span class="o">=</span> <span class="mi">2222</span>


<span class="c1"># data v AES, jediny zpusob jak se k nim dostat je mit spravne heslo..</span>
<span class="n">PASSH</span>  <span class="o">=</span> <span class="s2">"17a3e23201798c2f72e1bdb1537e7721"</span>
<span class="n">MSG</span>    <span class="o">=</span> <span class="s2">"""</span>
<span class="s2">mJqBQVYOewOT0b6wOCcaQd+MfW/PSz76qyquyNE8P9CXWUEAvJwsUSZU5gBA9YEttoZy2Jsf8pJ63d0u</span>
<span class="s2">xiIM3OUufPGapMYM27aPgTpTHB+IGFfLJ5LEwRIdPaEx5pyxVDkpr+VA2qYGCMU+aZv6T9FgHLELO6JA</span>
<span class="s2">nV6Qo76wYp2SxcRItw/QBTTl2+DSRDKBxchIgK9UA7v2B6Lh1+CBWh16AdpUx8+Ge93fzfdYIxp/p/rW</span>
<span class="s2">SFDKMP+BiwTCCgRzdIJz1tfXbqb4mlO81aIdP+b3xo0qJs4IKZu2PQ0G5tiBj2TcWS9M6/4/7V7bfBPJ</span>
<span class="s2">4bmpM9UBHFugm/cEkh7DW3B1lD7EaVUWU/cl/ZFvq0fnPEhgDLDfqfZKrB4WS9bwKVG0dOvW8XfwDQT4</span>
<span class="s2">MDhThzlqvk7O8Jxnvj2t0r9vTKssHFp+Y76HYAKYj/r2LDzvgZm1UJEAGhWZ+YX/F1jy+vGzMuZ4Cnqr</span>
<span class="s2">H0p4J+RhAylZPlgMjISzk10XDwrSqb3pcgg+ncGhN7MbFwjP5gc2/VSuKsm0fkAAkHa1pJCyq3PSjm36</span>
<span class="s2">GMvMvoQoUCszQAl1eiq2oOLagCm2SskMICOTFPfefYSRt7y0QSTEo8/Q6mELogo/0faS9nWasEdWKpYF</span>
<span class="s2">gWTlj/3JomqnBx2+kBeh+kNSOcJMfirrVBFv0Ma9s7aZ2lvuObcvsAeZnb65gev5E1QO1Vul/rVIyw6T</span>
<span class="s2">lxwlEFRlJC95rxigdg5LPKYi35LdNPW1jRxAqW7xWIE5OlFVFdvHi8aMpm13dN7pxF1gF662Cfs5K5K/</span>
<span class="s2">Yascxt3NvCw5KqCJAAE9ANzBA9Oo0U8R7Uw7TrPg5ynSkgGEQ1oCPfVkAWVlxWkv5LAMyhJZKMD4DEgC</span>
<span class="s2">YCtEsImiwzCANvMkiSEii6SCp5XuP10oTEmL8DM7LwdffyLX5CahjEw1VkEsAyWVxnEy7YYUQS+wMcR0</span>
<span class="s2">SYEE6HFEQxuancZBSmARCM+oLYMNs2TtHcsdd7uVT4ilkkEmqrJ1JtN5ZFzUO7SOehy41LMe6bWUxKcz</span>
<span class="s2">E+UqubcC6vB+bc2V2zKdXsIiJ6SaD18qwtGFSstcoIF+dYLeRbE4/3twpjovNmfwS8hh0QrnMNmb52DE</span>
<span class="s2">YcPePAL/6X0Sg11y323NP8JYat8jdERNaRArAfz3yQUKAZq0h66Zi67CpJyqhvmM0TlV33hl8ThOBCeb</span>
<span class="s2">R/+ytHexwrHWInD1dns2HMftJCZN3GCsEJjD5qfePS4xisARGVs28Lm/y2/8TVDnYxrUln3GUQf/C3xa</span>
<span class="s2">LHUCxMwdT9gLfBrceNQrJ3oBXQNIMKXyrthV44xlwVgJ+Ri96OinyHjGxKv3/R6myzkddcgW/9RFLSOK</span>
<span class="s2">A9YxQ5GXscebfd3bEj4F7ErkuLwgCFg0013IGAHRoOMnuZQebfzdqPt1K+xUx+XvZbqBQlNXrVA83w7k</span>
<span class="s2">aehkanLClBtPsw/frGMepkQdpMAhgMgeN3YDfC+cdbWeVliY+wNqFaANK+LmflZOw9JM6W0ymigvWxK7</span>
<span class="s2">SqpOBXFOKJ+d6WS/Dw3ScBuja4uUFv4KEDuQfu+BLyznRILMKTwscO5ImHObgj9fVX+I+1KIG3m4le/t</span>
<span class="s2">UUZxiEgxz4I0feNsbHWnNdjhwU0x5K/u8L5FGuZWarAJIPSwB0CyPt9/FPpdI4yRpMJ7ZfxDTmN4f++0</span>
<span class="s2">3DS16bD+ozFgl5CwIzl9j8viCm+CyCs6IWZdIoBurBuK90fXIinhnYrvRudzPN0vdMtwn1rz82BUdkAc</span>
<span class="s2">lKJWh/IM3FqBoJ5WXV1BOt7Ivm9bvKt0PJDkyWT3BkviT2XayW+7CFIfYmPxhiFqPzq59WmNib4raYo3</span>
<span class="s2">XfJiKdMrS1WVJZnk1ORNONJ4SAcFYqPnDyKS68cs5y3Vn0FmFUPsSkOQFnQi4gSaAMUVHHHemhgbNP7H</span>
<span class="s2">r0LJLifQNbSMjaCP9eeiGueatOQCf/7y0Fx25WhSJFAM/Goo57cvj24BrsqKPvKn0nDPzYpGduDuT4ZR</span>
<span class="s2">9fCcTVHEASrttIkvJqiq/LScM81CZ6g2z05z24MFI6GWRu93Dqwu2iCrixoClnp7Sq0lE02kpvB2meLz</span>
<span class="s2">PbkJrGR388IWpXYzWr8L9jCulJjH1YHBwcj8UpVqxR+zGu4PDdzhFZlbbeSx/8ZIw+9xlxIgbiaUti4x</span>
<span class="s2">EgzIvoW90EYYgfObPYS7GJgIvll6JUPbDXHeRJxkzIb3tkeZY/w/MgXqUEoJiSuj6CkqrQB84wcb2ntC</span>
<span class="s2">IddhC3FzzTXjTOijOVi+3c3d66ZdJCin2wvUgyHzj+DyAtwTrD2btIwamkO0XoDbvayGycqE6ttA+Tg3</span>
<span class="s2">mPaiOtbI3yk7pVhwCPwlM18EVPkQ0e2sFHecHcboF/frJmLHW/t4ras++NymwXHdPjA4KiRxe0G1qz0K</span>
<span class="s2">lBI5xuyAdg+KuxfMOoHnl2/Vn9McxGdbwJwYgElVFKUzccj1KIwDu5Z5TA84DAvVaqHqd7Py+7wVpeKg</span>
<span class="s2">NMUUzj663k1+kOyBoXxWLOeuLMknj6ic73hjnmzEofuJNUt6vTFQGfUL2+/P3+09jsqQzfjQJ9kvkuzc</span>
<span class="s2">gOTuk4HZ7DO6qnsJo0oZPIvbmMFlXi3DLgIsb1HZJHGz4lhv+2m7exY5RXilvp7lJaQXE5Z+wUZU3rJd</span>
<span class="s2">KRf2yhrnAGjbsHsNpEd6JWIGK8Y3Y237EBFUklVYcc6s0a7v/+SR0oeG0Q8KHyYNYZ4Yn7Ss+phA201H</span>
<span class="s2">V0CXbElbdPbUV3voH4nyXU2hlmdAqW+1alLv5E80QiEwvYVZiLrHBeCg2mTArQWw5eNWs0c51yNXdhuu</span>
<span class="s2">rXsXhikXzLFCKK98WCLi5+2KDOld7i2w/gDJRBCowMGZHVPIaX2bLyz00sqnOjt5XFc6aEQ6Ni5REE3S</span>
<span class="s2">y9PCR0SPE+Tfv/H60/mQQzIPNoSGQfjEBNRelBFQ8rwSgWkeKq14nyn99qaVzeC7Fo36WfHeLWXASbwN</span>
<span class="s2">GvEwBoTda46BaNWoHriIFBL3VJl8TRk2xlvljR4eZs5DYQ7SPYNN1sygf3MLA8VVZ6SPawO9VENvAWlJ</span>
<span class="s2">0ivMQKNuZHufhohiEuk3aif10eVFclYdX02Pl6r90WKpar+3z7ukr+lkjTTRFuNAAlEjnMBC/aqJIRby</span>
<span class="s2">JdgSGyo3QaRADPF7Ytp89qwDpPHmWsTI/WrumF3yRmLtX3/38RqiTlEpVAeMrxoz+u20Qp56lMHiKG6B</span>
<span class="s2">Vzl04jdVRpAF8pt/PA+6QJwW1drszr8ruK7vVKSoMeAS2xR8kd9/l6diwxWxf9eJ4na3cKiw3KamtfsK</span>
<span class="s2">ZjbixKTUfkrQViz3AEXqTTP9y/QCrqQ40vbW4ndvC7WwZX/x/E95YRhsNu9G4OpjYcNmtSma6YV8pM3D</span>
<span class="s2">YToAL3ackqqXnSigM1BeDgBAbsADztg6tFTlhNIddfBo+IGyD4GO+65RzLdg7QwJ+3utBZzpNJ289vjT</span>
<span class="s2">nJCMiGHxjyg8IZO4nY6LoiHM7obimEGeb1RocdJGHB4/UpEutsG2qHk0NjQzU0kTtbjHupx8Ki9Izhpn</span>
<span class="s2">jQuIxZpOSeEy7jbLDu50ZaFFwtHI7cNEReH2d8QTQx5LrT/KnGOiGr5Wr660KcP0SvTzwoyrSXkbvJ+2</span>
<span class="s2">m1ni3H6M2YIIGgtwptiyfQbFi2oZ8bDuBWMALCWpSBt3BvCkXJ/xqC5xporC3reBfMAv4SXKgKY+F5DL</span>
<span class="s2">u90spkqVOWMWQYs+jkDyUlfcMgmK97CTI1nfD6b4ZcTNiAD3zwh+WcU2TRfNGRsWSotqT/DkZfiw5eQ9</span>
<span class="s2">AYMV8QGyFEZi/LqyLLCkuycdDLAJQjfEmngA3UWdWsXn8ljBg5nGMNw6PN70KXP090166T9zYXFeYVEV</span>
<span class="s2">k9d2LAFRjOIknFvo8eilzH/mfEy+xC106DDpG0XPMkKzGJYqAx3+PtCdaDjUidVZqE+GuH4AG+X37Xub</span>
<span class="s2">LJIJpyhbnkdHAtLSizw5zd3Rj2fxnLFxD00wwJ7MuiY0d5WOulY0NWNjQMz5WhX3QmVCRJbFUh6To+8o</span>
<span class="s2">PCaWkvXOxGtzC8yEbgubFxI+9qCSss/DgWMC68Mf/F3SUJiXirn5EwtkRlg3L9pt5r2Aa94cZ4HmOC3T</span>
<span class="s2">CX7FFZ6P7AOkpv7JAHRWy+Yf1BwCsf2TBu4Hbixg+f/8Wm43tnxhUDqvQrXhMkfMKM6BwGgZY4s5+sLG</span>
<span class="s2">38Y1lVAF5hBQr/Sp7Nts4Hna+vuxorlJINbxcT2ZxHiZ37Pc+tnDyv86ABOKcpiVNQlAmFJVUE6M/j1c</span>
<span class="s2">GtpgTbB+FDavl3rpuD+O01mQg9nVl6MmiKdCw6ZTQUY9KGzVeWhzsahi3A1FTqPVLfHiUq6pcETuf1ek</span>
<span class="s2">dgHbxogGhTAJhL0yJZA9ZMX+d0Snt1188CvnWZ88IFrkiR+7jiUKTT2JfpxFWaF3o9FJdbu+3Y4GyRE/</span>
<span class="s2">gEQ5QrfgBPmAARNDKDKWlxr9+AFh5TIVunESa2JLbl8iR5EkiA0eEtUsyJzmyPD2I8/C8AD91FHMFYEE</span>
<span class="s2">fjjOwOxB6jSWbq5cygPg5cNL3GeQ6Fn8V2raxKs9xKkck8v0+KhcdM70RQtHG8oYwOR3IuUuilsJsw96</span>
<span class="s2">DcNeIpY1hU2pVwZ641Dufbe30eE6gnTI</span>
<span class="s2">"""</span>



<span class="c1">#= Functions & objects =========================================================</span>
<span class="k">def</span> <span class="nf">decdata</span><span class="p">(</span><span class="n">passwd</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
    <span class="n">aes</span> <span class="o">=</span> <span class="n">AES</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">passwd</span><span class="p">,</span> <span class="n">AES</span><span class="o">.</span><span class="n">MODE_CFB</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">aes</span><span class="o">.</span><span class="n">decrypt</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">MSG</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">getHash</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">salt</span><span class="p">):</span>
    <span class="n">passwd</span>  <span class="o">=</span> <span class="n">sha</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
    <span class="n">passwd2</span> <span class="o">=</span> <span class="n">passwd</span><span class="p">[:</span><span class="mi">20</span><span class="p">]</span> <span class="o">+</span> <span class="n">salt</span>
    <span class="n">passwd</span>  <span class="o">=</span> <span class="n">salt</span> <span class="o">+</span> <span class="n">passwd</span><span class="p">[</span><span class="mi">20</span><span class="p">:]</span> <span class="o">+</span> <span class="n">salt</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="n">passwd</span> <span class="o">+=</span> <span class="n">sha</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">passwd</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">4</span><span class="p">)))</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
        <span class="n">passwd2</span> <span class="o">+=</span> <span class="n">md5</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">passwd</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">7</span><span class="p">)))</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">md5</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">passwd</span> <span class="o">+</span> <span class="n">passwd2</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>



<span class="c1">#= Main program ================================================================</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">setsockopt</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">SOL_SOCKET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SO_REUSEADDR</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">bind</span><span class="p">((</span><span class="n">HOST</span><span class="p">,</span> <span class="n">PORT</span><span class="p">))</span>
<span class="n">s</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>


<span class="k">while</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">conn</span><span class="p">,</span> <span class="n">addr</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
        <span class="nb">print</span> <span class="s2">"Client"</span><span class="p">,</span> <span class="n">addr</span><span class="p">,</span> <span class="s2">"connected."</span>

        <span class="k">try</span><span class="p">:</span>
                <span class="k">while</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">conn</span><span class="o">.</span><span class="n">sendall</span><span class="p">(</span><span class="s2">"czCube password: "</span><span class="p">)</span>

                        <span class="n">password</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">recv</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="n">password</span><span class="p">:</span>
                                <span class="k">break</span>

                        <span class="n">password</span> <span class="o">=</span> <span class="n">password</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">password</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
                                <span class="n">password</span> <span class="o">=</span> <span class="n">password</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>

                        <span class="k">if</span> <span class="n">getHash</span><span class="p">(</span><span class="n">password</span><span class="p">,</span> <span class="mi">124</span><span class="p">,</span> <span class="s2">"password_hash"</span><span class="p">)</span> <span class="o">==</span> <span class="n">PASSH</span><span class="p">:</span>
                                <span class="nb">print</span> <span class="s2">"Client authenticated."</span>
                                <span class="n">conn</span><span class="o">.</span><span class="n">sendall</span><span class="p">(</span>
                                        <span class="s2">"</span><span class="se">\n\n</span><span class="s2">"</span> <span class="o">+</span>
                                        <span class="n">zlib</span><span class="o">.</span><span class="n">decompress</span><span class="p">(</span><span class="n">decdata</span><span class="p">(</span><span class="n">getHash</span><span class="p">(</span><span class="n">password</span><span class="p">,</span> <span class="mi">124</span><span class="p">,</span> <span class="s2">"data_hash"</span><span class="p">),</span> <span class="n">MSG</span><span class="p">))</span> <span class="o">+</span> 
                                        <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span>
                                <span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                                <span class="nb">print</span> <span class="s2">"Authentication failed (password '"</span> <span class="o">+</span> <span class="n">password</span> <span class="o">+</span> <span class="s2">"')"</span>
                                <span class="n">conn</span><span class="o">.</span><span class="n">sendall</span><span class="p">(</span><span class="s2">"Wrong password "</span> <span class="o">+</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">password</span><span class="p">)</span> <span class="o">*</span> <span class="s2">"*"</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"!</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">socket</span><span class="o">.</span><span class="n">error</span><span class="p">:</span>
                <span class="k">pass</span>
        
        <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="nb">print</span> <span class="s2">"Client"</span><span class="p">,</span> <span class="n">addr</span><span class="p">,</span> <span class="s2">"disconnected."</span>
</code></pre>
      <p id="3e430c1f-e827-4ca9-9d1b-2d3d76da2650" class=""></p>
    </div>
  </article>
  <div class="corner-ribbon top-right red">
    <a href="https://www.patreon.com/bePatron?u=2618881">Become a Patron</a>
  </div><a class="twitter-share-button" id="twitter_button" href="#"><img src="../../tweet_button.svg"></a>
  <div id="sidebar_bottom">
    <span><a href="https://blog.rfox.eu/atom_cz.xml"><img style="width: 3em;" src="../../rss_icon.png"></a> &nbsp; &nbsp; <a href="https://twitter.com/Bystroushaak"><img style="width: 3em;" src="../../twitter_icon.png"></a></span>
    <div id="last_five_bottom">
      <h3>New posts</h3>
      <ul>
        <li>
          <a href="../Povidky/Software.html" title="Software">Software</a>
        </li>
        <li>
          <a href="../Ostatni/Paromobilita_je_budoucnost.html" title="Paromobilita je budoucnost">Paromobilita je budoucnost</a>
        </li>
        <li>
          <a href="../Ostatni/Algoritmus_hledani_programatorske_prace_2021-4.html" title="Algoritmus hledÃ¡nÃ­ programÃ¡torskÃ© prÃ¡ce 2021/4">Algoritmus hledÃ¡nÃ­ programÃ¡torskÃ© prÃ¡ce 2021/4</a>
        </li>
        <li>
          <a href="../3D_tisk/Nastaveni_Blenderu_pro_3D_tisk.html" title="NastavenÃ­ Blenderu pro 3D tisk">NastavenÃ­ Blenderu pro 3D tisk</a>
        </li>
        <li>
          <a href="../3D_modelovani/Geometricky_stred_Prahy.html" title="GeometrickÃ½ stÅ™ed Prahy">GeometrickÃ½ stÅ™ed Prahy</a>
        </li>
        <li>
          <a href="../../Utrzky/Posta_poezie.html" title="PoÅ¡ta (poezie)"><span class="icon">ğŸ—’ï¸</span>PoÅ¡ta (poezie)</a>
        </li>
        <li>
          <a href="../Ostatni/Statni_zklamani.html" title="StÃ¡tnÃ­ zklamÃ¡nÃ­">StÃ¡tnÃ­ zklamÃ¡nÃ­</a>
        </li>
        <li>
          <a href="../3D_tisk/3D_TODO_list_1_Drzak_na_sluchatka.html" title="3D TODO list 1; DrÅ¾Ã¡k na sluchÃ¡tka">3D TODO list 1; DrÅ¾Ã¡k na sluchÃ¡tka</a>
        </li>
        <li>
          <a href="../Ostatni/Dva_podvodnici.html" title="Dva podvodnÃ­ci">Dva podvodnÃ­ci</a>
        </li>
        <li>
          <a href="../3D_tisk/3D_tiskarna_Prusa_MK3S_sestaveni_a_prvni_tisk.html" title="3D tiskÃ¡rna PrÅ¯Å¡a MK3S+; sestavenÃ­ a prvnÃ­ tisk">3D tiskÃ¡rna PrÅ¯Å¡a MK3S+; sestavenÃ­ a prvnÃ­ tisk</a>
        </li>
      </ul>& <a href="../../Zmeny.html" title="ZmÄ›ny">more</a>
    </div>
    <div>
      <h3>Tagy</h3>
      <p><a href="../../Tagy/cracking.html" title="cracking">cracking</a>, <a href="../../Tagy/programovani.html" title="programovani">programovani</a>, <a href="../../Tagy/python.html" title="python">python</a></p>
    </div>
    <div>
      <h3>Blog categories</h3>
      <ul class="no_icon">
        <li>
          <a href="../Povidky.html" title="PovÃ­dky">ğŸ“‚ PovÃ­dky</a>
        </li>
        <li>
          <a href="../3D_modelovani.html" title="3D modelovÃ¡nÃ­">ğŸ“‚ 3D modelovÃ¡nÃ­</a>
        </li>
        <li>
          <a href="../3D_tisk.html" title="3D tisk">ğŸ“‚ 3D tisk</a>
        </li>
        <li>
          <a href="../Programovani.html" title="ProgramovÃ¡nÃ­">ğŸ“‚ ProgramovÃ¡nÃ­</a>
        </li>
        <li>
          <a href="../Crypto.html" title="Crypto">ğŸ“‚ Crypto</a>
        </li>
        <li>
          <a href="../Ostatni.html" title="OstatnÃ­">ğŸ“‚ OstatnÃ­</a>
        </li>
        <li>
          <a href="../Knihy.html" title="Knihy">ğŸ“‚ Knihy</a>
        </li>
        <li>
          <a href="../Predstaveni.html" title="PÅ™edstavenÃ­">ğŸ“‚ PÅ™edstavenÃ­</a>
        </li>
        <li>
          <a href="../Abclinuxu.html" title="Abclinuxu">ğŸ“‚ Abclinuxu</a>
        </li>
        <li>
          <a href="../Hardware.html" title="Hardware">ğŸ“‚ Hardware</a>
        </li>
        <li>
          <a href="../Hrbitov.html" title="HÅ™bitov">ğŸ“‚ HÅ™bitov</a>
        </li>
        <li>
          <a href="../index.html" title="Czech section">ğŸ“‚ Czech section</a>
        </li>
      </ul>
    </div>
  </div>
</body>
</html>
