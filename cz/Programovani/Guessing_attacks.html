<!DOCTYPE html>
<html>
<head>
  <meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.6.0">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Guessing attacks</title>
  <link rel="stylesheet" type="text/css" href="../../style.css">
  <link rel="alternate" type="application/atom+xml" href="https://blog.rfox.eu/atom_cz.xml">
  <link rel="shortcut icon" href="/favicon.ico">
  <style>
  pre { line-height: 125%; }
  td.linenos pre { color: #000000; background-color: #f0f0f0; padding-left: 5px; padding-right: 5px; }
  span.linenos { color: #000000; background-color: #f0f0f0; padding-left: 5px; padding-right: 5px; }
  td.linenos pre.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
  span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
  .hll { background-color: #ffffcc }
  .c { color: #408080; font-style: italic } /* Comment */
  .err { border: 1px solid #FF0000 } /* Error */
  .k { color: #008000; font-weight: bold } /* Keyword */
  .o { color: #666666 } /* Operator */
  .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
  .cm { color: #408080; font-style: italic } /* Comment.Multiline */
  .cp { color: #BC7A00 } /* Comment.Preproc */
  .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
  .c1 { color: #408080; font-style: italic } /* Comment.Single */
  .cs { color: #408080; font-style: italic } /* Comment.Special */
  .gd { color: #A00000 } /* Generic.Deleted */
  .ge { font-style: italic } /* Generic.Emph */
  .gr { color: #FF0000 } /* Generic.Error */
  .gh { color: #000080; font-weight: bold } /* Generic.Heading */
  .gi { color: #00A000 } /* Generic.Inserted */
  .go { color: #888888 } /* Generic.Output */
  .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
  .gs { font-weight: bold } /* Generic.Strong */
  .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
  .gt { color: #0044DD } /* Generic.Traceback */
  .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
  .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
  .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
  .kp { color: #008000 } /* Keyword.Pseudo */
  .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
  .kt { color: #B00040 } /* Keyword.Type */
  .m { color: #666666 } /* Literal.Number */
  .s { color: #BA2121 } /* Literal.String */
  .na { color: #7D9029 } /* Name.Attribute */
  .nb { color: #008000 } /* Name.Builtin */
  .nc { color: #0000FF; font-weight: bold } /* Name.Class */
  .no { color: #880000 } /* Name.Constant */
  .nd { color: #AA22FF } /* Name.Decorator */
  .ni { color: #999999; font-weight: bold } /* Name.Entity */
  .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
  .nf { color: #0000FF } /* Name.Function */
  .nl { color: #A0A000 } /* Name.Label */
  .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
  .nt { color: #008000; font-weight: bold } /* Name.Tag */
  .nv { color: #19177C } /* Name.Variable */
  .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
  .w { color: #bbbbbb } /* Text.Whitespace */
  .mb { color: #666666 } /* Literal.Number.Bin */
  .mf { color: #666666 } /* Literal.Number.Float */
  .mh { color: #666666 } /* Literal.Number.Hex */
  .mi { color: #666666 } /* Literal.Number.Integer */
  .mo { color: #666666 } /* Literal.Number.Oct */
  .sa { color: #BA2121 } /* Literal.String.Affix */
  .sb { color: #BA2121 } /* Literal.String.Backtick */
  .sc { color: #BA2121 } /* Literal.String.Char */
  .dl { color: #BA2121 } /* Literal.String.Delimiter */
  .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
  .s2 { color: #BA2121 } /* Literal.String.Double */
  .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
  .sh { color: #BA2121 } /* Literal.String.Heredoc */
  .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
  .sx { color: #008000 } /* Literal.String.Other */
  .sr { color: #BB6688 } /* Literal.String.Regex */
  .s1 { color: #BA2121 } /* Literal.String.Single */
  .ss { color: #19177C } /* Literal.String.Symbol */
  .bp { color: #008000 } /* Name.Builtin.Pseudo */
  .fm { color: #0000FF } /* Name.Function.Magic */
  .vc { color: #19177C } /* Name.Variable.Class */
  .vg { color: #19177C } /* Name.Variable.Global */
  .vi { color: #19177C } /* Name.Variable.Instance */
  .vm { color: #19177C } /* Name.Variable.Magic */
  .il { color: #666666 } /* Literal.Number.Integer.Long */
  </style>
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@Bystroushaak">
  <meta name="twitter:title" content="Guessing attacks">
  <meta name="twitter:description" content="ƒål√°nek o crackov√°n√≠ hesel, r≈Øzn√Ωch p≈ô√≠stupech a k tomu jedna mal√° challenge.">
  <script src="../../scripts.js"></script>
  <meta name="description" content="ƒål√°nek o crackov√°n√≠ hesel, r≈Øzn√Ωch p≈ô√≠stupech a k tomu jedna mal√° challenge.">
  <meta name="keywords" content="cracking,programovani,python,m0wFG3PRCoJVTs7JcgBwsOXb3U7yPxBB"><!-- Global site tag (gtag.js) - Google Analytics -->

  <script src="https://www.googletagmanager.com/gtag/js?id=UA-142545439-1"></script>
  <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'UA-142545439-1');
  </script>
</head>
<body onload="on_body_load();">
  <div id="sidebar_top">
    <span><a href="https://blog.rfox.eu/atom_cz.xml"><img style="width: 3em;" src="../../rss_icon.png"></a> &nbsp; &nbsp; <a href="https://twitter.com/Bystroushaak"><img style="width: 3em;" src="../../twitter_icon.png"></a></span>
    <div id="last_five_top">
      <h3>New posts</h3>
      <ul>
        <li>
          <a href="../Povidky/Software.html" title="Software">Software</a>
        </li>
        <li>
          <a href="../Ostatni/Paromobilita_je_budoucnost.html" title="Paromobilita je budoucnost">Paromobilita je budoucnost</a>
        </li>
        <li>
          <a href="../Ostatni/Algoritmus_hledani_programatorske_prace_2021-4.html" title="Algoritmus hled√°n√≠ program√°torsk√© pr√°ce 2021/4">Algoritmus hled√°n√≠ program√°torsk√© pr√°ce 2021/4</a>
        </li>
        <li>
          <a href="../3D_tisk/Nastaveni_Blenderu_pro_3D_tisk.html" title="Nastaven√≠ Blenderu pro 3D tisk">Nastaven√≠ Blenderu pro 3D tisk</a>
        </li>
        <li>
          <a href="../3D_modelovani/Geometricky_stred_Prahy.html" title="Geometrick√Ω st≈ôed Prahy">Geometrick√Ω st≈ôed Prahy</a>
        </li>
        <li>
          <a href="../../Utrzky/Posta_poezie.html" title="Po≈°ta (poezie)"><span class="icon">üóíÔ∏è</span>Po≈°ta (poezie)</a>
        </li>
        <li>
          <a href="../Ostatni/Statni_zklamani.html" title="St√°tn√≠ zklam√°n√≠">St√°tn√≠ zklam√°n√≠</a>
        </li>
        <li>
          <a href="../3D_tisk/3D_TODO_list_1_Drzak_na_sluchatka.html" title="3D TODO list 1; Dr≈æ√°k na sluch√°tka">3D TODO list 1; Dr≈æ√°k na sluch√°tka</a>
        </li>
        <li>
          <a href="../Ostatni/Dva_podvodnici.html" title="Dva podvodn√≠ci">Dva podvodn√≠ci</a>
        </li>
        <li>
          <a href="../3D_tisk/3D_tiskarna_Prusa_MK3S_sestaveni_a_prvni_tisk.html" title="3D tisk√°rna Pr≈Ø≈°a MK3S+; sestaven√≠ a prvn√≠ tisk">3D tisk√°rna Pr≈Ø≈°a MK3S+; sestaven√≠ a prvn√≠ tisk</a>
        </li>
      </ul>& <a href="../../Zmeny.html" title="Zmƒõny">more</a>
    </div>
    <div>
      <h3>Tagy</h3>
      <p><a href="../../Tagy/cracking.html" title="cracking">cracking</a>, <a href="../../Tagy/programovani.html" title="programovani">programovani</a>, <a href="../../Tagy/python.html" title="python">python</a></p>
    </div>
    <div>
      <h3>Blog categories</h3>
      <ul class="no_icon">
        <li>
          <a href="../Povidky.html" title="Pov√≠dky">üìÇ Pov√≠dky</a>
        </li>
        <li>
          <a href="../3D_modelovani.html" title="3D modelov√°n√≠">üìÇ 3D modelov√°n√≠</a>
        </li>
        <li>
          <a href="../3D_tisk.html" title="3D tisk">üìÇ 3D tisk</a>
        </li>
        <li>
          <a href="../Programovani.html" title="Programov√°n√≠">üìÇ Programov√°n√≠</a>
        </li>
        <li>
          <a href="../Crypto.html" title="Crypto">üìÇ Crypto</a>
        </li>
        <li>
          <a href="../Ostatni.html" title="Ostatn√≠">üìÇ Ostatn√≠</a>
        </li>
        <li>
          <a href="../Knihy.html" title="Knihy">üìÇ Knihy</a>
        </li>
        <li>
          <a href="../Predstaveni.html" title="P≈ôedstaven√≠">üìÇ P≈ôedstaven√≠</a>
        </li>
        <li>
          <a href="../Abclinuxu.html" title="Abclinuxu">üìÇ Abclinuxu</a>
        </li>
        <li>
          <a href="../Hardware.html" title="Hardware">üìÇ Hardware</a>
        </li>
        <li>
          <a href="../Hrbitov.html" title="H≈ôbitov">üìÇ H≈ôbitov</a>
        </li>
        <li>
          <a href="../index.html" title="Czech section">üìÇ Czech section</a>
        </li>
      </ul>
    </div>
  </div><a class="breadcrumb" href="../../index.html" title="Bystroushaak's blog">Bystroushaak's blog</a> / <a class="breadcrumb" href="../index.html" title="Czech section">Czech section</a> / <a class="breadcrumb" href="index.html" title="Programov√°n√≠">Programov√°n√≠</a> / Guessing attacks
  <article id="303c30a2-fa2c-4bf5-8047-7dd343c2cab1" class="page sans">
    <header>
      <h1 class="page-title">Guessing attacks</h1>
    </header>
    <div class="page-body">
      <p id="fdec48f6-33f5-4f18-950c-e73cc6f0ff45" class=""><time>@2012/10/10</time></p>
      <p id="69254048-500a-4357-89ae-e5f3ac6a9b0a" class="">ƒål√°nek je vƒõnov√°n <a href="http://www.soom.cz/index.php?name=box&amp;box=user/profile/main&amp;who=nitrexx">nitrexxovi</a>, t≈ôeba mu to pom≈Ø≈æe p≈ôekousnout strach z kritiky a dojde mu, ≈æe t√≠m lid√© ne√∫toƒç√≠ na jeho osobu, ale naopak, jde o snahu vylep≈°en√≠ ƒçl√°nku.</p>
      <h2 id="c340441b-45b2-4de1-91ee-3fd8cbf83e93" class="">Situaƒçn√≠ n√°kres</h2>
      <p id="90e96e26-d6b0-4ef7-8445-db8a6d3c988d" class="">Je rok 2015, nach√°z√≠te se p≈ôed va≈°√≠m poƒç√≠taƒçem, je noc a jste na poƒç√°tku t√Ωdenn√≠ch pr√°zdnin/dovolen√©. Tamtamy na IRC k v√°m donesou informaci o neproniknuteln√©m stroji, do kter√©ho tv≈Ørci uschovali nezn√°m√© tajemstv√≠.</p>
      <p id="cd2e186d-db4f-4849-9c17-f03707ebf1d4" class="">Na stroji nebƒõ≈æ√≠ ≈æ√°dn√° jin√° slu≈æba kromƒõ telnetu na portu 2222, kter√Ω zobraz√≠ sporadick√©:</p>
      <pre id="b2260034-76e0-4efb-9c85-72578997fe1b" class="code code-wrap"><code>czCube password:</code></pre>
      <p id="188f83ea-1a9f-44e9-8b6b-2d1597d62bcf" class="">Kr√°tk√© googlen√≠ v√°m <a href="http://www.czcube.org/">prozrad√≠</a>, ≈æe k poƒç√≠taƒçi nikdy nez√≠sk√°te fyzick√Ω p≈ô√≠stup, proto≈æe se nach√°z√≠ v amat√©rsk√©m satelitu na orbitƒõ a vy se k nƒõmu p≈ôipojujete pomoc√≠ IP2PacketRadio nodu.</p>
      <p id="0ff38b80-a85f-40b9-8088-92422c2c520f" class="">Co takhle sociotechnika, nebo vzd√°len√Ω √∫tok na samotn√© u≈æivatele ala password sniffer?</p>
      <p id="87c10796-e994-48bb-a6b3-eb536cbf37e8" class="">Bohu≈æel, dal≈°√≠ googlen√≠ prozrazuje, ≈æe team stoj√≠c√≠ za czCube byl popraven za vlastnictv√≠ 100W ≈æ√°rovky zabij√°ky z evropsk√© unie. Jejich tƒõla a v≈°echno technick√© vybaven√≠ bylo zabaveno a sp√°leno v ekoelektr√°rnƒõ na biomasu, tak≈æe tudy cesta nevede.</p>
      <p id="79864f93-0706-4864-be04-116ad57c4693" class="">Zkus√≠te syst√©mu poslat del≈°√≠ string, ale kr√°tk√° odpovƒõƒè v√°m napov√≠, ≈æe <a href="http://www.secit.sk/content/buffer-overflow-exploitace-od-uplneho-zacatku">buffer overflow</a> se nekon√°, proto≈æe auto≈ôi vstup hned ze zaƒç√°tku o≈ô√≠zli na 10 znak≈Ø:</p>
      <pre id="c7cc6c77-7d2d-43a4-b51e-60dfe209e5ae" class="code code-wrap"><code>czCube password: a
Wrong password *!
czCube password: aaa
Wrong password ***!
czCube password: aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
Wrong password **********!
czCube password:</code></pre>
      <p id="99f23d72-a1d0-463c-9b55-97bd3fbbeabd" class="">Na kari√©ru kosmonauta jste se vyka≈°lali u≈æ kdysi d√°vno, v prvn√≠ t≈ô√≠dƒõ s prvn√≠ pƒõtkou, tak≈æe sp√≠≈° ne≈æ o letu do vesm√≠ru zauva≈æujete o mo≈ænosti postavit satelit-zabij√°k, kter√Ω by czCube vyhledal a snesl na zem, nebo se napojil na jej√≠ intern√≠ sbƒõrnice p≈ô√≠mo ve vesm√≠ru. Kr√°tk√Ω pr≈Øzkum v√°m prozrad√≠, ≈æe by se to krap√°nek prodra≈æilo a s cenou $40000 za vynesen√≠ krychle o hranƒõ 10cm na to rad≈°i rychle zapomenete a rozhodujete se, ≈æe se do syst√©mu dostanete vzd√°lenƒõ, a≈• to stoj√≠ co to stoj√≠.</p>
      <p id="d5220088-fa7f-4855-a131-1a121a541a42" class="">Jak se tedy dostat do tohoto satelitu na obloze (soubor <code>czcube_server.py</code> v p≈ô√≠loze)? Je jasn√©, ≈æe v√°m nezbude nic jin√©ho, ne≈æ heslo prostƒõ zkou≈°et tak dlouho, dokud se netref√≠te. Na≈æhav√≠te tedy konzoli a jdete na to..</p>
      <h2 id="20dc4599-4fce-4053-b624-df09bd03b4da" class="">Guessing attacks</h2>
      <p id="6d87f16f-bb44-4f71-9cda-fde41f2dd055" class="">H√°dac√≠ √∫toky si dovol√≠m rozdƒõlit na t≈ôi typy:</p>
      <ul id="a7591d50-c9ca-4337-92f6-5677bc292622" class="bulleted-list">
        <li style="list-style-type:disc">bruteforce</li>
      </ul>
      <ul id="006c94e6-7e82-46d0-a29a-c22887ddc2e0" class="bulleted-list">
        <li style="list-style-type:disc">dictionary</li>
      </ul>
      <ul id="d25bcb6a-6bb6-45b2-8991-d19721e36c2b" class="bulleted-list">
        <li style="list-style-type:disc">side-channel</li>
      </ul>
      <p id="d4dbf0f6-16f8-4ceb-8ac7-3ad4bb3deca8" class="">Je mi jasn√©, ≈æe vƒõt≈°ina z v√°s o tƒõchto typech ji≈æ sly≈°ela, nƒõkter√© mo≈æn√° trochu p≈ôekvap√≠ t≈ôet√≠ typ √∫toku, kter√©mu se budu v kr√°tkosti vƒõnovat na konec, proto≈æe nem√° smysl ho tu rozpitv√°vat - zaslou≈æil by si samostatnou knihu a jsem p≈ôesvƒõdƒçen√Ω, ≈æe se j√≠ d≈ô√≠v nebo pozdƒõji doƒçk√°.</p>
      <h2 id="70026cac-1b14-458e-be72-8db59e2809d6" class="">Bruteforce</h2>
      <p id="091fcd1a-586e-40b0-bf4d-c6ddc2bca6d1" class="">Bruteforce je ze v≈°ech t≈ôech √∫tok≈Ø nejprimitivnƒõj≈°√≠, trv√° nejv√≠ce ƒçasu a vƒõt≈°ina modern√≠ch syst√©m≈Ø jejich≈æ spr√°vci v√≠ co dƒõlaj√≠ v√°s s n√≠m <a href="http://en.wikipedia.org/wiki/Fail2ban">po≈°le do h√°je</a>.</p>
      <p id="f6a9be83-34d4-43b0-acdd-cbee02a37851" class="">√ötok spoƒç√≠v√° jednodu≈°e v tom, ≈æe budete postupnƒõ zkou≈°et v≈°echny mo≈æn√© kombinace. Prvnƒõ zkus√≠te heslo 'a', pak 'b', pak 'c', a≈æ doraz√≠te k 'z'. Tehdy prostƒõ p≈ôid√°te jedno p√≠smenko a jedete odznovu: 'aa', 'ab' .. 'az', 'ba', 'bb' .. 'zz'. Pak p≈ôid√°te dal≈°√≠ p√≠smeno a pokraƒçujete d√°l, dokud neuhodnete heslo.</p>
      <p id="00f4a6e9-2b02-49f8-a6e9-0325b8e89071" class="">Zkou≈°et nƒõco podobn√©ho ruƒçnƒõ by u hesel s v√≠ce jak p√°r znaky mohlo trvat opravdu dlouho, proto je vhodn√© ƒçinnost zautomatizovat, nap≈ô√≠klad scriptem v Pythonu 2.7, kter√Ω je, buƒème realist√©, v roce 2015 st√°le je≈°tƒõ ≈°iroce vyu≈æ√≠v√°n :)</p>
      <h2 id="385a5602-0f7b-4c62-9843-d113b44d3dad" class="">czcube_cracker.py</h2>
      <p id="14015ebc-9a37-4fb0-a5ad-0377dae8e8e4" class="">Jako ka≈æd√Ω probl√©m, i tento je mo≈æn√© dekomponovat na jednodu≈°≈°√≠ √∫lohy:</p>
      <ol type="1" id="87aae781-fb8e-47c6-a218-f4c0fefa759f" class="numbered-list" start="1">
        <li>komunikace s czCube</li>
      </ol>
      <ol type="1" id="fcc7c6a2-f2eb-4ffc-ad6c-6be8b69eb16f" class="numbered-list" start="2">
        <li>ovƒõ≈ôov√°n√≠ hesla - pot≈ôebujeme funkci, kter√° n√°m ≈ôekne jestli u≈æ tam jsme</li>
      </ol>
      <ol type="1" id="c9afb162-75d0-4e84-bc70-c1322e47a776" class="numbered-list" start="3">
        <li>generov√°n√≠ ≈ôetƒõzce</li>
      </ol>
      <h3 id="db90bc92-67d9-4a5c-af20-de019abb1acc" class="">Komunikace</h3>
      <p id="f5f5f06a-c45e-42ca-b2b1-b2c7184ef920" class="">Komunikaci s czCube obstar√° <a href="http://docs.python.org/library/telnetlib.html">telnetlib</a>, kter√° se p≈ôipoj√≠ na zadanou adresu a umo≈æn√≠ n√°m s n√≠ komunikovat.</p>
      <pre class="code"><code><span class="kn">import</span> <span class="nn">telnetlib</span>
 
<span class="n">HOST</span>    <span class="o">=</span> <span class="s2">"localhost"</span>
<span class="n">PORT</span>    <span class="o">=</span> <span class="mi">2222</span>
<span class="n">TIMEOUT</span> <span class="o">=</span> <span class="mi">5</span>
 
<span class="n">tn</span> <span class="o">=</span> <span class="n">telnetlib</span><span class="o">.</span><span class="n">Telnet</span><span class="p">(</span><span class="n">HOST</span><span class="p">,</span> <span class="n">PORT</span><span class="p">,</span> <span class="n">TIMEOUT</span><span class="p">)</span>
</code></pre>
      <p id="9c74cdb9-8f64-4ccd-ba53-5e22cd21c976" class="">V tomto p≈ô√≠padƒõ se p≈ôipoj√≠me na localhost kv≈Øli interaktivn√≠ uk√°zce, viz podkapitola Uk√°zka.</p>
      <h3 id="6b996344-0d80-4922-985a-f8e83b6e6923" class="">Ovƒõ≈ôov√°n√≠</h3>
      <p id="f9161029-75f8-4fe9-ab47-210460e47b31" class="">Jeliko≈æ v√≠me co za <a href="http://cs.wikipedia.org/wiki/P%C5%99%C3%ADkazov%C3%BD_%C5%99%C3%A1dek#Prompt">prompt</a> m≈Ø≈æeme oƒçek√°vat (v√Ωzvu k zad√°n√≠ hesla, nebo ozn√°men√≠ o ≈°patn√©m hesle), pou≈æijeme metodu <a href="http://docs.python.org/library/telnetlib.html#telnetlib.Telnet.expect">expect()</a> objektu Telnet, kter√° oƒçek√°v√° dva argumenty: <code>prompts</code> a nepovinn√Ω <code>timeout</code>. Funguje tak, ≈æe zasekne bƒõh programu do t√© doby, dokud server neodpov√≠ jedn√≠m z ≈ôetƒõzc≈Ø p≈ôedan√Ωch v poli <code>prompts</code>, nebo dokud nevypr≈°√≠ <code>timeout</code>. Odes√≠l√°n√≠ dat prob√≠h√° pomoc√≠ metody <a href="http://docs.python.org/library/telnetlib.html#telnetlib.Telnet.write">write()</a>.</p>
      <p id="dd6d010b-a56d-4c0f-ba7b-fbcaf7a42378" class="">Kdy≈æ nyn√≠ v√≠me v≈°e pot≈ôebn√© pro komunikaci, m≈Ø≈æeme napsat funkci, kter√° zkus√≠ zadat syst√©mu heslo a vr√°t√≠ n√°m odpovƒõƒè.</p>
      <pre class="code"><code><span class="n">PROMPT</span>  <span class="o">=</span> <span class="s2">"czCube password: "</span>
<span class="n">ERROR</span>   <span class="o">=</span> <span class="s2">"Wrong password"</span>
 
<span class="k">def</span> <span class="nf">tryPassword</span><span class="p">(</span><span class="n">tn</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
  <span class="n">tn</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">password</span> <span class="o">+</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
   
  <span class="c1"># cekej na prompt</span>
  <span class="n">e</span> <span class="o">=</span> <span class="n">tn</span><span class="o">.</span><span class="n">expect</span><span class="p">([</span><span class="n">PROMPT</span><span class="p">],</span> <span class="n">TIMEOUT</span><span class="p">)</span>
   
  <span class="c1"># expect() vraci pole o trech prvcich:</span>
  <span class="c1"># [status kod, match object, precteny string]</span>
  <span class="c1"># -&gt; testujeme zda li je vraceny string neco jineho, nez</span>
  <span class="c1"># PROMPT/ERROR</span>
  <span class="k">return</span> <span class="ow">not</span> <span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">PROMPT</span><span class="p">)</span> <span class="ow">or</span> <span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">ERROR</span><span class="p">))</span>
</code></pre>
      <p id="bea8183c-edb1-4bc2-8ebd-dd25771fd632" class="">D≈Øle≈æit√© je nezapomenout vybrat z bufferu p≈ôed prvn√≠m pou≈æit√≠m funkce <code>tryPassword()</code> prompt, kter√Ω na n√°s ƒçek√° hned po otev≈ôen√≠ spojen√≠:</p>
      <pre class="code"><code><span class="n">tn</span><span class="o">.</span><span class="n">expect</span><span class="p">([</span><span class="n">PROMPT</span><span class="p">],</span> <span class="n">TIMEOUT</span><span class="p">)</span>
</code></pre>
      <p id="befdb509-9767-461a-aae2-59902195cc5a" class="">Nyn√≠ m≈Ø≈æeme pou≈æ√≠vat na≈°√≠ funkci pro ovƒõ≈ôen√≠ hesla, kter√° n√°m vrac√≠ hodnoty True/False podle toho, jestli jsme pou≈æili spr√°vn√©, nebo ≈°patn√© heslo.</p>
      <h3 id="51bfb4d9-a7dd-4b67-ab75-9c8d021a75c4" class="">Gener√°tor</h3>
      <p id="192ef7cb-1bb0-4cc1-8168-6a958f454880" class="">Komunikaƒçn√≠ str√°nku cel√© vƒõci m√°me vy≈ôe≈°enou, nyn√≠ se tedy koneƒçnƒõ m≈Ø≈æeme vƒõnovat implementaci podprogramu, kter√Ω p≈ôi ka≈æd√©m jeho zavol√°n√≠ vr√°t√≠ o trochu v√≠ce rozvinut√Ω string vyu≈æiteln√Ω k l√°m√°n√≠ hesla.</p>
      <p id="14c53cb0-375d-4e7c-b695-ed44a110c2fe" class="">Nƒõkoho naivnƒõj≈°√≠ho by mo≈æn√° napadlo si ≈ôetƒõzce p≈ôed-generovat do pamƒõti a pak je zkou≈°et. To by nebyl moc dobr√Ω n√°pad, proto≈æe v≈°echny kombinace zab√≠raj√≠ skuteƒçnƒõ velmi velk√© mno≈æstv√≠ pamƒõti. My si na to nap√≠≈°eme speci√°ln√≠ objekt, kter√Ω n√°m p≈ôi ka≈æd√©m zavol√°n√≠ p≈ôepoƒç√≠t√° string.</p>
      <p id="1bb86e9f-689b-477e-b782-9f8a67364813" class="">Tento typ objektu se naz√Ωv√° <a href="http://cs.wikipedia.org/wiki/Iterator">iter√°tor</a> a umo≈æ≈àuje n√°m proch√°zet sekvence pomoc√≠ jednotn√©ho rozhran√≠. Podpora pro iter√°tory je p≈ô√≠mo zabudovan√° do Pythonu, proto s n√≠m pot√© m≈Ø≈æeme pracovat pomoc√≠ jednoduch√© for smyƒçky.</p>
      <p id="a78369ea-5c89-4cea-b241-a24df27454d8" class="">Implementace iter√°toru v Pythonu je dost jednoduch√° - staƒç√≠ ve vlastn√≠ t≈ô√≠dƒõ nadefinovat dvƒõ metody: <code>__iter__()</code> a <code>next()</code>. <code>__iter__()</code> mus√≠ vracet objekt iter√°toru, v tomto p≈ô√≠padƒõ tedy <code>self</code>, neboli s√°m sebe. <code>next()</code> vrac√≠ v≈ædy dal≈°√≠ prvek ze sekvence, nebo vyj√≠mku <code>StopIteration</code>, pokud byl dosa≈æen konec sekvence.</p>
      <p id="8f9c2e20-c153-4e83-bce7-a430bdd030ac" class="">Zde je objekt, kter√Ω p≈ôi ka≈æd√©m sv√©m pou≈æit√≠ updatuje string p≈ôesnƒõ tak jak pot≈ôebujeme pro na≈°e √∫ƒçely:</p>
      <pre class="code"><code><span class="k">class</span> <span class="nc">Brute</span><span class="p">():</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length</span><span class="p">,</span> <span class="n">seed</span><span class="p">):</span>
    <span class="c1"># seed si ulozime jako pole znaku</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">seed</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">seed</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">seed</span>
 
    <span class="c1"># pospojujeme objekty v pameti</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">next_brute</span> <span class="o">=</span> <span class="n">Brute</span><span class="p">(</span><span class="n">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">seed</span><span class="p">)</span> <span class="k">if</span> <span class="n">length</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="kc">None</span>
 
    <span class="c1"># ukazatel na aktualni pismeno, na zacatku -1, aby se objekt</span>
    <span class="c1"># neukazoval ve vypisu, kdyz ho jeste nepouzivame</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">act</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
 
  <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># zvys hodnotu act o jedna</span>
    <span class="c1"># pokud act prekroci velikost pole self.seed, aktualizuj dalsi objekt</span>
    <span class="c1"># v rade</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">act</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">seed</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">act</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">act</span> <span class="o">=</span> <span class="mi">0</span>
 
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">next_brute</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">next_brute</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="k">raise</span> <span class="ne">StopIteration</span><span class="p">()</span>
 
  <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span>
 
  <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span> <span class="c1"># proved jeden krok</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>
 
  <span class="c1"># vrat textovou reprezentaci vsech objektu jdoucich v rade za sebou</span>
  <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># preskakuj zatim nepouzite objekty - jinak by misto B vypisoval</span>
    <span class="c1"># AAAAAAB</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">act</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">""</span>
 
    <span class="c1"># zjisti znak dalsiho objektu v rade</span>
    <span class="n">out</span> <span class="o">=</span> <span class="s2">""</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">next_brute</span><span class="p">:</span>
      <span class="n">out</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">next_brute</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>
 
    <span class="k">return</span> <span class="n">out</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">seed</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">act</span><span class="p">]</span>
</code></pre>
      <p id="d211373a-a94b-4cb6-9712-7e71b938fbbe" class="">Nƒõkoho mo≈æn√° zaraz√≠ pou≈æit√≠ inline if. Nedƒõste se, funguje to stejnƒõ jako klasick√° if podm√≠nka, jen je to kompaktnƒõj≈°√≠ z√°pis co se t√Ωƒçe p≈ôi≈ôazov√°n√≠ promƒõnn√Ωch.</p>
      <pre class="code"><code><span class="k">if</span> <span class="n">podm√≠nka</span><span class="p">:</span>
  <span class="n">prom</span> <span class="o">=</span> <span class="n">nƒõco</span>
<span class="k">else</span><span class="p">:</span>
  <span class="n">prom</span> <span class="o">=</span> <span class="n">nƒõco_jin√©ho</span>
</code></pre>
      <p id="3c5434a7-d77b-4a5d-9f35-c235a0b132b5" class="">lze p≈ôepsat na</p>
      <pre class="code"><code><span class="n">prom</span> <span class="o">=</span> <span class="n">nƒõco</span> <span class="k">if</span> <span class="n">podm√≠nka</span> <span class="k">else</span> <span class="n">nƒõco_jin√©ho</span>
</code></pre>
      <p id="20436c2b-686f-46f2-ad7c-779bffc61297" class="">Objekt p≈ôi vytvo≈ôen√≠ oƒçek√°v√° dva parametry - <code>length</code>, kter√Ω ud√°v√° kolik p√≠smen chceme nechat vygenerovat a <code>seed</code>, kter√Ω pro zmƒõnu urƒçuje z ƒçeho se budou kombinace skl√°dat. Jako <code>seed</code> je mo≈æn√© pou≈æ√≠t jak string (v tom p≈ô√≠padƒõ se pou≈æij√≠ jednotliv√© znaky), tak pole string≈Ø, co≈æ se n√°m bude hodit pozdƒõji.</p>
      <p id="19e6eff1-8d35-4afb-822a-6af149ace7f2" class="">Pou≈æit√≠ objektu je d√≠ky vyu≈æit√≠ iter√°toru silnƒõ trivi√°ln√≠:</p>
      <pre class="code"><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">Brute</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s2">"abc"</span><span class="p">):</span>
  <span class="nb">print</span> <span class="n">i</span>
</code></pre>
      <p id="6e9ea241-24d0-48d2-be59-9f255c35eace" class="">vyp√≠≈°e:</p>
      <pre id="90480a7c-948d-41ca-a3c5-4b5a420bbe68" class="code code-wrap"><code>a
b
c
aa
ab
ac
ba
bb
bc
ca
cb
cc</code></pre>
      <p id="520f6b50-0983-40bc-ac8f-af79d5234d7c" class="">Douf√°m ≈æe v√°m nemus√≠m slo≈æitƒõ vysvƒõtlovat, ≈æe nyn√≠ staƒç√≠ m√≠sto vypisov√°n√≠ stringu pou≈æ√≠t ji≈æ d≈ô√≠ve nadefinovanou metodu <code>tryPassword()</code>, kter√© p≈ôed√°me jako druh√Ω argument vygenerovan√Ω string a bruteforcer je na svƒõtƒõ.</p>
      <h2 id="116fd511-53e2-4cca-a4ee-9a2003dd69ac" class="">Uk√°zka</h2>
      <p id="5483bd9c-475d-4b8e-9e93-2af7ad4b2e79" class="">V p≈ô√≠loze najdete dva soubory; <code>czcube_bruteforcer.py</code> a <code>czcube_server.py</code>.</p>
      <p id="6df8e7d5-ab1c-439f-9faa-17fd8be7c606" class="">Jejich funkce by mƒõla b√Ωt v≈°em jasn√° z jejich n√°zvu, ale pro jistotu - server je jednoduch√Ω server, kter√Ω oƒçek√°v√° va≈°e heslo na portu 2222, tak jak jsem psal v prvn√≠ kapitole.</p>
      <p id="f8f1db07-fbad-4c02-a029-21595440ea3a" class=""><strong>Server heslo nev√≠, je v nƒõm ulo≈æen√© jako osolen√Ω hash. Jakmile mu dod√°te spr√°vn√© heslo, pou≈æije ho pro rozbalen√≠ za≈°ifrovan√Ωch dat, kter√© v√°m vyp√≠≈°e na v√Ωstup, tak≈æe se m√°te proƒç sna≈æit ;)</strong></p>
      <p id="7bc0c552-99b5-424a-adec-75fac382de9b" class="">Bruteforcer je pak implementace scriptu tak jak jsem o n√≠ psal, s t√≠m ≈æe se automaticky sna≈æ√≠ p≈ôipojit k serveru, kter√Ω je zapot≈ôeb√≠ nejd≈ô√≠ve spustit, jinak v≈°e skonƒç√≠ chybou.</p>
      <p id="5d08127f-ccd1-4840-9ca0-2d4fdb3a8b8d" class="">Pros√≠m ty ƒçten√°≈ôe, kte≈ô√≠ se do serveru dostanou, aby si obsah nechali pro sebe a nekazili challenge ostatn√≠m.</p>
      <h2 id="8bf6ac5e-16e6-42ed-bfc9-4f82d371c324" class="">Probl√©my</h2>
      <p id="26b4bb59-d834-4cf2-9bdf-30843c8cdbe0" class="">Pokud jste zkou≈°eli p≈ôedchoz√≠ p≈ô√≠klady, nejsp√≠≈°e jste si v≈°imli jednoho z≈ôejm√©ho probl√©mu; rychlosti, nebo sp√≠≈° pomalosti.</p>
      <p id="d41e4ae4-de29-48ba-92d5-ff2164a3d388" class="">D≈Øvod≈Ø proƒç script bƒõ≈æ√≠ tak pomalu je hned nƒõkolik:</p>
      <p id="bf1e9907-c807-4929-9911-f734adc2b3c6" class="">1) Implementace gener√°toru string≈Ø pomoc√≠ iter√°tor≈Ø nen√≠ zrovna nejefektivnƒõj≈°√≠ co se t√Ωƒçe vol√°n√≠ funkc√≠, ale po≈ô√°d zvl√°d√° generovat ≈ô√°dovƒõ tis√≠ce a≈æ deseti-tis√≠ce po≈æadavk≈Ø za vte≈ôinu, co≈æ je p≈ô√≠pustn√© u s√≠≈•ov√Ωch slu≈æeb, ale pro l√°m√°n√≠ hesel za≈°ifrovan√Ωch soubor≈Ø by to chtƒõlo nƒõco efektivnƒõj≈°√≠ho, nap≈ô√≠klad vno≈ôen√© for smyƒçky, ƒçi implementaci v kompilovan√©m jazyce.</p>
      <p id="e60f4f50-5953-4b2c-a0d8-a28cd3ab3c3e" class="">2) ƒåek√°n√≠ na odezvu od serveru po zad√°n√≠ ka≈æd√©ho hesla (<code>expect()</code> v <code>tryPassword()</code>) je neefektivn√≠.</p>
      <p id="ce4c6f56-9c46-4d44-b883-e5bd5114ec32" class="">3) Paralelizace. U tohoto serveru to sice fungovat nebude, proto≈æe obsluhuje v≈ædy jen jednoho klienta, ale u FTP, HTTP, telnetu ƒçi SSH byste mohli spustit script v√≠cekr√°t, t≈ôeba stokr√°t.</p>
      <h2 id="7f6d14b7-aff0-4dd7-a08b-de9dcf42aeac" class="">N√°vrhy na vylep≈°en√≠</h2>
      <p id="db8657bb-1c51-493d-9955-a80e194b5794" class="">Abych to tedy shrnul na jedno m√≠sto:</p>
      <h3 id="709116aa-615b-4613-b3a2-2ca0c30a30c1" class="">Hromadn√© pos√≠l√°n√≠ dat</h3>
      <p id="6520712e-1b68-424b-8db1-2ae1fb50d86b" class="">Zkuste data pos√≠lat hromadnƒõ, najednou t≈ôeba sto, tis√≠c nebo deset tis√≠c pokus≈Ø bez ƒçten√≠ odpovƒõd√≠. Odpovƒõdi pak p≈ôeƒçtƒõte a parsujte nar√°z, pokud natref√≠te na heslo, zjistƒõte ho dƒõlen√≠m interval≈Ø.</p>
      <h3 id="d9a12ec5-fd10-4de3-9592-5623dfb043b2" class="">Ukl√°d√°n√≠ stavu</h3>
      <p id="7e4ef4c2-274c-4f4a-9272-bccb36a6ca51" class="">M√°lokdy si m≈Ø≈æete dovolit luxus nep≈ôeru≈°en√©ho bƒõhu, m√≠t mo≈ænost script spustit v√≠cekr√°t je tak√© velk√© plus. Upravte iter√°tor tak, aby se dalo zadat od jak√© hodnoty m√° zaƒç√≠nat. K tomu se tak√© bude hodit dodƒõlat do scriptu pr≈Øbƒõ≈æn√Ω v√Ωpis, abyste vƒõdƒõli, kde script p≈ôedt√≠m skonƒçil.</p>
      <h3 id="013664d6-59bc-49dd-a448-20a3bf405154" class="">Paralelizace</h3>
      <p id="f79856ec-370a-4750-ad34-1455dfb5351b" class="">Jakmile budete m√≠t hotov√© ukl√°d√°n√≠ stav≈Ø, zkuste paralelizaci pomoc√≠ v√≠cero vl√°ken. Vyzkou≈°ejte si jejich synchronizaci a ukonƒçen√≠ v≈°ech ostatn√≠ch vl√°ken ve chv√≠li, kdy jedno z nich objev√≠ heslo.</p>
      <p id="66974c52-fabc-4873-9e6c-2a3254bbc99c" class="">Hint: Data od serveru m≈Ø≈æete rozdƒõlit na jednotliv√© ≈ô√°dky, z nich≈æ m≈Ø≈æete p≈ôevodem na <code>set()</code> hromadnƒõ vyfiltrovat duplicitn√≠ z√°znamy a detekovat, jestli v√°m vr√°til nƒõco neƒçekan√©ho.</p>
      <h3 id="035a1948-133e-4161-b0fa-cca43d051419" class="">Zkou≈°en√≠ hesel na p≈ôesk√°ƒçku, pozp√°tku</h3>
      <p id="f05181ad-293c-4af9-aaba-43ea76505804" class="">Nezaƒç√≠nejte od zaƒç√°tku, ale t≈ôeba od p≈Ølky, nebo od konce (vy≈æaduje reverzaci iter√°toru). M√°lokdo pou≈æ√≠v√° hesla jako aaaa, tak≈æe se d√° ƒçekat, ≈æe prvn√≠ ƒçtvrtina v≈°ech pokus≈Ø bude zbyteƒçn√°.</p>
      <h3 id="87c840cf-25c8-4007-a7e6-dafc45eb6de9" class="">Randomizace</h3>
      <p id="53af07f1-f244-4fea-b463-0b7b96264546" class="">Pova≈æujete se za ≈°≈•astlivce? Zkuste minim√°lnƒõ v jednom vl√°knƒõ n√°hodn√Ω gener√°tor, existuje jist√° nenulov√° ≈°ance, ≈æe se tref√≠ d≈ô√≠v ne≈æ va≈°e spo≈ô√°dan√© pokusy :)</p>
      <h2 id="6c7d688a-c8dd-4f2e-9f55-02961a06e9bc" class="">Pouƒçen√≠</h2>
      <p id="0b4f61b0-2cba-4595-88af-edd74aaa29fa" class="">Bruteforce je nejm√©nƒõ efektivn√≠ ze v≈°ech mo≈æn√Ωch zp≈Øsob≈Ø h√°d√°n√≠ hesel, proto≈æe mus√≠te otrocky vyzkou≈°et v≈°echny mo≈æn√© kombinace, co≈æ u hesel s d√©lkou nad deset znak≈Ø i v p≈ô√≠padƒõ velmi v√Ωkonn√Ωch poƒç√≠taƒç≈Ø s t√©mƒõ≈ô nulovou latenc√≠ trv√° des√≠tky a≈æ stovky let, kdy≈æ u≈æivatel pou≈æije pouze mal√°/velk√° p√≠smena bez diakritiky a ƒç√≠sla.</p>
      <p id="f8c842ff-ab43-4c37-9458-502b7e437f2a" class="">Pokud u≈æivatel pou≈æije dostateƒçnƒõ siln√© (slo≈æit√© a dlouh√©) heslo, m≈Ø≈æe b√Ωt fyzik√°lnƒõ nemo≈æn√© tento typ √∫toku prov√©st i pokud v√°m v tom nebr√°n√≠ faktory jako omezen√Ω poƒçet pokus≈Ø, rychlost linky ƒçi nutnost komunikace pouze v jednom threadu.</p>
      <p id="575cb8a9-a2f2-4026-9336-f496f25e2537" class="">V dobƒõ <a href="http://cs.wikipedia.org/wiki/UTF-8">UTF</a> se nav√≠c zkou≈°en√≠ v≈°ech mo≈æn√Ωch hesel podstatnƒõ protahuje a pokud by u≈æivatel√© serveru kam se sna≈æ√≠te vl√°mat pou≈æili vcelku kr√°tk√© heslo v ƒç√≠n≈°tinƒõ, asi byste byli bez ≈°ance, i kdybyste mƒõli sebelep≈°√≠ cracker.</p>
      <p id="0edaa892-7303-45d5-811f-c2a8a3cbace4" class="">Pokud by v√°s zaj√≠malo kolik pokus≈Ø je zapot≈ôeb√≠ k vyzkou≈°en√≠ v≈°ech kombinac√≠ hesla, na internetu se daj√≠ naj√≠t r≈Øzn√© <a href="http://www.soom.cz/index.php?name=box&amp;box=projects/bruteforce/main">kalkulaƒçky</a>, nebo si to m≈Ø≈æete spoƒç√≠tat sami - jedn√° se o jednoduchou <a href="http://www.matweb.cz/bezpecnost-hesla">√∫lohu</a> na <a href="http://cs.wikipedia.org/wiki/Variace_%28kombinatorika%29">variace</a>.</p>
      <p id="b7931836-5319-43be-9bb3-f02c0be99527" class="">Pro ilustraci; Za p≈ôedpokladu, ≈æe dok√°≈æete ka≈ædou vte≈ôinu vyzkou≈°et milion hesel <code>a-zA-Z0-9</code>, tak:</p>
      <ol type="1" id="e75a652a-6b89-4ebc-8ccf-4687c7604bc8" class="numbered-list" start="1">
        <li>znak zabere 1 vte≈ôinu</li>
      </ol>
      <ol type="1" id="a9524856-0252-4586-8863-9e7aa7b1f94f" class="numbered-list" start="2">
        <li>znaky zaberou 1 vte≈ôinu</li>
      </ol>
      <ol type="1" id="14af414d-6cb9-455d-bd58-45f84d20e603" class="numbered-list" start="3">
        <li>znaky zaberou 1 vte≈ôinu</li>
      </ol>
      <ol type="1" id="0f66d125-cfe7-437f-805a-d460246d2219" class="numbered-list" start="4">
        <li>znaky zaberou 15 vte≈ôin</li>
      </ol>
      <ol type="1" id="d70eef0d-4024-4efc-b1de-2e34cca9f22e" class="numbered-list" start="5">
        <li>znak≈Ø zabere 15 minut, 31 vte≈ôin</li>
      </ol>
      <ol type="1" id="bc3dfd4a-ede5-4f09-b999-844c9b03b81c" class="numbered-list" start="6">
        <li>znak≈Ø zabere 16 hodin, 2 minuty a 11 vte≈ôin</li>
      </ol>
      <ol type="1" id="4658801f-c843-4173-94d0-b4a623ecee12" class="numbered-list" start="7">
        <li>znak≈Ø zabere 41 dn√≠, 10 hodin, 15 minut a 46 vte≈ôin</li>
      </ol>
      <ol type="1" id="126e8633-07ba-4590-913a-3d2d065638fd" class="numbered-list" start="8">
        <li>znak≈Ø zabere 7 let, 11 dn√≠, 18 hodin, 17 minut a 32 vte≈ôin</li>
      </ol>
      <ol type="1" id="69fe45fd-7d51-41ec-a367-fb81a2bcc3df" class="numbered-list" start="9">
        <li>znak≈Ø zabere 435 let, 364 dn√≠, 6 minut, 38 vte≈ôin</li>
      </ol>
      <ol type="1" id="88bc0a8a-7cf2-470a-b465-8eb586814aa4" class="numbered-list" start="10">
        <li>znak≈Ø zabere 27031 let, 288 dn√≠, 51 minut, 6 vte≈ôin</li>
      </ol>
      <p id="3c9b9a2a-61a4-476a-b016-4c661b4f65bf" class="">Shrnuto: Bruteforce je nejtrivi√°lnƒõj≈°√≠ a nejm√©nƒõ efektivn√≠ - d√° se p≈ôirovnat k slep√©mu ml√°cen√≠ sekerou do dve≈ô√≠, co≈æ skvƒõle funguje v p≈ô√≠padƒõ d≈ôevƒõn√Ωch dve≈ô√≠, ale a≈æ jednou naraz√≠te na ≈æelezn√©, tak sp√≠≈° um≈ôete st√°≈ô√≠m, ne≈æ je prostou silou rozml√°t√≠te.</p>
      <h2 id="1a947741-539a-41b7-b24e-8ad9f40f8a70" class="">Dictionary</h2>
      <p id="dfabd5f4-3440-40e2-897a-c5dcad534d59" class="">Slovn√≠kov√Ω √∫tok je vylep≈°en√≠m p≈ôedchoz√≠ho √∫toku, kdy m√≠sto generov√°n√≠ text≈Ø zkou≈°√≠te p≈ôedem p≈ôipraven√° slova z textov√©nho souboru, takzvan√©ho <em>wordlistu</em>.</p>
      <p id="925691c2-4aad-48e1-a6e0-df5cc71d0879" class="">Tento typ √∫toku stav√≠ na p≈ôedpokladu, ≈æe vƒõt≈°ina lid√≠ na svƒõtƒõ nem√° poruchu osobnosti, tak≈æe jim dƒõl√° probl√©m si zapamatovat zcela n√°hodn√Ω string typu "<code>uF8x/q`ab¬ß7dN</code>" a tak m√≠sto toho pou≈æ√≠vaj√≠ r≈Øzn√° v√≠ce/m√©nƒõ lehce uh√°dnuteln√° hesla. Jeden m≈Øj kolega z pr√°ce takhle v≈°ude pou≈æ√≠v√° heslo <code>supersuper</code> (to nen√≠ tajemstv√≠, v√≠ to o nƒõm cel√© oddƒõlen√≠).</p>
      <p id="c2adca10-8596-42ac-97a1-192451179eb1" class="">Pokud se pod√≠v√°te na <a href="http://www.security-portal.cz/clanky/50-nejpou%C5%BE%C3%ADvan%C4%9Bj%C5%A1%C3%ADch-hesel-pro-web-v-%C4%8Dr">tvrd√° data</a> z√≠skan√° z unikl√© datab√°ze 37000 u≈æivatel≈Ø, zjist√≠te, ≈æe se najdou ≈ô√°dovƒõ stovky lid√≠, kte≈ô√≠ pou≈æ√≠vaj√≠ stejn√° hesla. Obl√≠ben√© je <code>123456</code>, <code>123456789</code>, <code>martin</code>, <code>milacek</code>, <code>maminka</code>. V≈°ak to zn√°te..</p>
      <p id="a2344eec-8144-4cbf-876e-ae052940e903" class="">Na internetu se povaluj√≠ r≈Øznƒõ velk√© slovn√≠ky, kter√© se sna≈æ√≠ obs√°hnout seznamy tƒõch nepou≈æ√≠vanƒõj≈°√≠ch hesel a fr√°z√≠ o obsahu milion≈Ø polo≈æek. I kdy≈æ se tento poƒçet m≈Ø≈æe zd√°t vcelku velk√Ω, ve skuteƒçnosti je st√°le o cel√© ≈ô√°dy men≈°√≠, ne≈æ poƒçet kombinac√≠ hesla p≈ôi bruteforce (miliardy, triliardy, sextioliny a j√° nev√≠m co je≈°tƒõ :)).</p>
      <p id="c4b3fcb1-9d42-4b83-ba27-1566f13b3de7" class="">√öprava st√°vaj√≠c√≠ho scriptu tak, aby pou≈æ√≠val slovn√≠k je tak trivi√°ln√≠, ≈æe v√°s s n√≠ ani nebudu zatƒõ≈æovat. Najdete ho v p≈ô√≠loze pod jm√©nem <code>czcube_dict.py</code>.</p>
      <h2 id="78d9d3ee-e55c-4a90-bd3f-ac81739dca42" class="">Kde vz√≠t slovn√≠k</h2>
      <p id="841cbce0-9375-48fe-bb9d-daf04e9aea0b" class="">Sh√°nƒõn√≠ dobr√©ho slovn√≠ku je podstatnƒõ slo≈æitƒõj≈°√≠, ne≈æ naps√°n√≠ scriptu, kter√Ω bude hesla zkou≈°et. Na internetu se daj√≠ relativnƒõ jednodu≈°e naj√≠t docela rozs√°hl√© a dobr√© slovn√≠ky. Pokud budete googlit, nehledejte <em>"slovn√≠k"</em>, ale <em>"wordlist"</em>, nezapome≈àte tak√© na to, ≈æe pro ƒåechy bude vhodnƒõj≈°√≠ ƒçesk√Ω.</p>
      <p id="4a67aea9-b63d-44e2-91a2-52cccc3b9637" class="">P√°r odkaz≈Ø:</p>
      <ul id="f345188e-1baf-4349-97e0-6191bfd5e68b" class="bulleted-list">
        <li style="list-style-type:disc">
          <a href="http://wordlist.ic.cz/">http://wordlist.ic.cz/</a>
        </li>
      </ul>
      <ul id="3ab635d4-2cbb-4c8e-8e6d-d642d015d97a" class="bulleted-list">
        <li style="list-style-type:disc">
          <a href="http://verifikace.sweb.cz/">http://verifikace.sweb.cz/</a>
        </li>
      </ul>
      <ul id="f40635b1-9be9-4492-8043-953997e55914" class="bulleted-list">
        <li style="list-style-type:disc">
          <a href="http://wiki.airdump.cz/Wordlist">http://wiki.airdump.cz/Wordlist</a>
        </li>
      </ul>
      <ul id="aa4aa85d-0fc2-44cb-843f-5d206c93133b" class="bulleted-list">
        <li style="list-style-type:disc">
          <a href="http://mozektevidi.cz/wordlist-download/">http://mozektevidi.cz/wordlist-download/</a>
        </li>
      </ul>
      <ul id="9d3c6241-bd22-4c64-824e-54a4123eb722" class="bulleted-list">
        <li style="list-style-type:disc">
          <a href="http://www.passwordy.net/index.php?category=2">http://www.passwordy.net/index.php?category=2</a>
        </li>
      </ul>
      <ul id="8f29872d-636b-480d-bca4-cd7c41506a00" class="bulleted-list">
        <li style="list-style-type:disc">
          <a href="http://www.soom.cz/index.php?name=download/kategorie&amp;sid=30">http://www.soom.cz/index.php?name=download/kategorie&amp;sid=30</a>
        </li>
      </ul>
      <ul id="ec6e0a9a-3058-463e-9789-61f23bed0942" class="bulleted-list">
        <li style="list-style-type:disc">
          <a href="http://gpsfreemaps.net/navody/security/komplexni-cesky-a-slovensky-wordlist-ke-stazeni">http://gpsfreemaps.net/navody/security/komplexni-cesky-a-slovensky-wordlist-ke-stazeni</a>
        </li>
      </ul>
      <p id="f9d80b3d-f162-4efd-90da-4a25039965de" class="">Pokud budete hledat, najdete jich tis√≠ce - jedn√° se o jednoduch√Ω a tud√≠≈æ obl√≠ben√Ω typ √∫toku, kter√Ω proti bƒõ≈æn√Ωm u≈æivatel≈Øm dosahuje slu≈°n√© √∫ƒçinnosti a z√°rove≈à nevy≈æaduje prakticky ≈æ√°dn√© znalosti. D√≠ky tomu se mu vƒõnuje ka≈æd√Ω druh√Ω a je obzvl√°≈°≈• obl√≠ben√Ω u lam, kter√© maj√≠ pocit ≈æe kdy≈æ maj√≠ na str√°nk√°ch wordlist, wwwhack a brutus, jsou z nich hacke≈ôi.</p>
      <p id="32ecf92c-72ac-4d30-91db-93ed2fd83027" class="">Jestli≈æe se nƒõkdy budete cht√≠t pobavit, doporuƒçuji zkusit wwwhack a brutus jako keywordy do google a omezit vyhled√°v√°n√≠ na str√°nky pouze ƒçesky. Dojde v√°m, ≈æe soom je na tom sice ≈°patnƒõ, ale po≈ô√°d je kam upadat :)</p>
      <h2 id="c17267e9-f81e-4968-827f-ef233c21e376" class="">Vlastn√≠ slovn√≠ky</h2>
      <p id="80ea04c9-4798-4fa4-bd43-538a936fda69" class="">Ve chv√≠li kdy pou≈æijete ciz√≠ slovn√≠k, postupujete o jeden level v√Ω≈°e ne≈æ <em>bruteforce≈ôi</em> - nam√≠sto abyste tupƒõ zkou≈°eli mno≈æinu v≈°ech mo≈æn√Ωch variac√≠ znak≈Ø, zkou≈°√≠te slova, kter√° u≈æivatel mohl pou≈æ√≠t k vytv√°≈ôen√≠ hesel. Jedn√° se v≈°ak jen o jednodu≈°≈°√≠ variantu bruteforce, u kter√© prakticky vzato st√°le nen√≠ nutn√© pou≈æ√≠vat mozek.</p>
      <p id="be890e1c-6457-482d-93d5-f92610bda33b" class="">Jeliko≈æ se sna≈æ√≠te vl√°mat do satelitu na orbitƒõ, lze jen stƒõ≈æ√≠ p≈ôedpokl√°dat, ≈æe auto≈ôi zvl√°dnuv≈°√≠ postavit funkƒçn√≠ satelit byli takov√≠ idioti, ≈æe pou≈æili slovn√≠kov√© heslo. Bude to tedy cht√≠t nƒõco v√≠c - na m√≠ru postaven√Ω slovn√≠k.</p>
      <p id="6851f0dc-efc5-4f9c-ac64-a8bbbcbcee61" class="">K tomu budete pot≈ôebovat trochu znalost√≠ z psychologie a p√°r zku≈°enost√≠ s u≈æivatelsk√Ωmi hesly.</p>
      <h2 id="d480c283-bd65-47df-97ea-aa01912bf4a9" class="">Co byste mƒõli vƒõdƒõt o heslech</h2>
      <p id="cf21afa9-afc1-420e-8ee7-de4a2ec1a3c3" class="">V textu <a href="http://www.soom.cz/index.php?name=usertexts/show&amp;aid=731">Co je vlastnƒõ soom?</a> jsem se zm√≠nil, ≈æe na lidi na internetu je mo≈æn√© nahl√≠≈æet podobnƒõ jako na model neuronu. Na jednu stranu dod√°te vstupy a na druh√© se ƒças od ƒçasu doƒçk√°te v√Ωstupu v podobƒõ nƒõjak√©ho obsahu.</p>
      <p id="0d273dba-6c6a-40f2-bd35-42110be6acc4" class="">Tento poznatek m≈Ø≈æete vyu≈æ√≠t i p≈ôi vytv√°≈ôen√≠ slovn√≠ku; co udƒõl√° vƒõt≈°ina lid√≠, kdy≈æ vytv√°≈ô√≠ sv√© heslo? Pou≈æije informace ze vstup≈Ø - ze sv√©ho okol√≠ a ze sv√© pamƒõti.</p>
      <p id="5fbaeb03-b130-4829-af73-6a0b6d9422a9" class="">D√≠ky tomu jak funguje lidsk√° mysl je pravdƒõpodobn√©, ≈æe nebudou pou≈æita bƒõ≈æn√° slova bez nƒõjak√©ho speci√°ln√≠ho v√Ωznamu pro dan√©ho jednotlivce. Stƒõ≈æ√≠ se setk√°te s heslem "a≈æ", "proto≈æe", "vƒçera", "hlavnƒõ" a tak podobnƒõ. Ne ≈æe by to bylo nemo≈æn√©, ale heslo je pro ƒçlovƒõka ƒçasto nƒõƒç√≠m speci√°ln√≠m (naz√Ωvejme to <code>JehoTajemstv√≠m</code>), kdy≈æ u≈æ si ho mus√≠ pamatovat.</p>
      <p id="e1dbff24-2f47-4de8-bbde-141526af6321" class="">ƒåasto m≈Ø≈æete narazit na podstatn√© jm√©no ze ≈æivota u≈æivatele - jm√©no holky, rodiƒç≈Ø, babiƒçky, psa, koƒçky, obl√≠ben√Ω sportovec ƒçi herec, postava z knihy, datum narozen√≠, kus telefonn√≠ho ƒç√≠sla.</p>
      <p id="ef05ecf8-9dae-489d-9912-fd853b1c7e94" class="">Z vlastn√≠ zku≈°enosti mus√≠m ≈ô√≠ct, ≈æe v hesle se obƒças vyskytne n√°zev str√°nky, nƒõco ve smyslu <code>soomheslo</code>, co≈æ mƒõ p≈ôiv√°d√≠ k dal≈°√≠mu poznatku - ƒçasto je v hesle variace na slovo <code>heslo</code>, anglicky <code>password</code>, <code>pass</code>, <code>pwd</code>.</p>
      <p id="ee1d1c72-bbb1-421c-890a-cccc4dcb2131" class="">V heslech bƒõ≈æn√Ωch u≈æivatel≈Ø se skoro nikdy nevyskytuj√≠ speci√°ln√≠ znaky, jednak proto ≈æe je neum√≠ zadat, druhak proto ≈æe je pro nƒõ opruz a n√°maha je ps√°t. Maximum na co naraz√≠te jsou znaky "<code>.,-_*!?</code>", ale to je v√≠ce/m√©nƒõ vyj√≠mka.</p>
      <p id="d4aa23db-2343-418d-81e8-dc12acd570cc" class="">Dal≈°√≠ d≈Øle≈æit√Ω poznatek je, ≈æe bƒõ≈æn√≠ lid√©, kte≈ô√≠ IT moc neholduj√≠ pou≈æ√≠vaj√≠ jednodu≈°e zadateln√° dlouh√° hesla. Znal jsem nƒõkolik lid√≠, kte≈ô√≠ pou≈æ√≠vaj√≠ jako heslo <code>asdfghjkl</code>, <code>qwertzuiop</code>, <code>147896325</code>, <code>741236985</code> a tak podobnƒõ. Tyto hesla jsou p≈ôi crackov√°n√≠ z venƒç√≠ nehor√°znƒõ slo≈æit√° - ve slovn√≠ku bƒõ≈æn√© mluvy je nenajdete, proto≈æe nic neznamenaj√≠ a jsou dlouh√°, tak≈æe bruteforcem by v√°m to trvalo tis√≠c let. Jedin√° souvislost mezi pou≈æit√Ωmi znaky je, ≈æe je lze zadat na kl√°vesnici pomoc√≠ geometrick√©ho obrazce - ƒç√°ry, kruhu, spir√°ly.</p>
      <p id="b7db561f-a1c7-4480-b072-eac8f63abe3e" class="">Vyj√≠mkou nejsou ani u≈æivatel√© pou≈æ√≠vaj√≠c√≠ heslo <code>otevrise</code>, nebo <code>hovnokleslo</code>, tedy memy, kter√© se mezi lidmi ≈°√≠≈ô√≠ ji≈æ od dƒõtstv√≠.</p>
      <p id="3d9d9233-c395-488a-8fd6-40c028cb0c3e" class="">Posledn√≠ vƒõc kterou pro jistotu znovu zmi≈àuji; vƒõt≈°ina u≈æivatel≈Ø nepou≈æ√≠v√° hesla tvo≈ôen√° jedn√≠m slovem. Skoro v≈ædy se jedn√° o slo≈æeninu a velmi ƒçasto jsou na konci pro u≈æivatele specifick√° ƒç√≠sla. Pokud m√° u≈æivatel doma koucoura <code>mourka</code>, skoro urƒçitƒõ jeho heslo nebude <code>Mourek</code>, ale <code>Mourek1545</code>, kde <code>1545</code> je ƒç√°st telefonu, datum narozen√≠ matky ƒçi nƒõjak√Ω jednodu≈°e napsateln√Ω ≈ôetƒõzec. Vzpom√≠n√°te si je≈°tƒõ na <code>nbusr123</code>? :)</p>
      <p id="0b396e6e-48fb-4597-885e-b9281e31353a" class="">Shrnut√≠: Heslo bude s nƒõjvƒõt≈°√≠ pravdƒõpodobnost√≠ slo≈æeno ze slova, kter√© je pro u≈æivatele neƒç√≠m speci√°ln√≠ (<code>JehoTajemstv√≠m</code>), obƒças v nƒõm b√Ωv√° slovo <code>heslo</code> ƒçi jeho ekvivalenty. Vƒõt≈°inou tam nejsou speci√°ln√≠ znaky, kromƒõ "-" ƒçi "_" a na konci je s velkou pravdƒõpodobnost√≠ nƒõjak√Ω suffix - ƒçasto ƒç√≠slo, kter√© je nƒõjak sv√°zan√© s ≈æivotem u≈æivatele, nebo nƒõco jednodu≈°e napsateln√©ho na kl√°vesnici.</p>
      <h2 id="f864d01c-bbbb-459e-913f-0f2f1ba53278" class="">Generov√°n√≠ slovn√≠ku</h2>
      <p id="4ac5371b-5133-45ae-ac92-dffb0e3776c8" class="">Teƒè kdy≈æ u≈æ m√°me teorii hesel za sebou je ƒças odv√©st zase jednou trochu pr√°ce. V√≠te z ƒçeho se heslo skl√°d√°, ale mo≈æn√° v√°m nen√≠ √∫plnƒõ jasn√©, kde to vz√≠t. Kde asi? P≈ôece na internetu!</p>
      <p id="84094e57-0a76-44e2-929a-836f8352c96f" class="">Postup se d√° rozdƒõlit do tƒõchto krok≈Ø:</p>
      <ol type="1" id="2ed80c25-da8d-41c2-a9d7-7a45ab4d04c4" class="numbered-list" start="1">
        <li>shroma≈æƒèov√°n√≠</li>
      </ol>
      <ol type="1" id="9f092f30-230d-4cba-b246-986137d3954a" class="numbered-list" start="2">
        <li>normalizace</li>
      </ol>
      <ol type="1" id="82f7127e-d98e-4ea4-a006-ca32f103744d" class="numbered-list" start="3">
        <li>extrakce</li>
      </ol>
      <ol type="1" id="93d94aaf-f417-429d-92bd-74313230e27d" class="numbered-list" start="4">
        <li>filtrace</li>
      </ol>
      <ol type="1" id="c04619d9-f68d-43a0-bcbb-1afdff8939ac" class="numbered-list" start="5">
        <li>variace</li>
      </ol>
      <h2 id="00925624-5850-479a-94b8-0678ef5e611b" class="">Shroma≈æƒèov√°n√≠ dat</h2>
      <h3 id="7d9bcec1-a216-456c-b93a-24fb63048247" class="">Facebook</h3>
      <p id="7f7a2f0d-4ae5-4b39-97dd-a3a322cfaa93" class="">V dne≈°n√≠ dobƒõ je modern√≠ na sebe nabonzovat na Facebooku prvn√≠ posledn√≠.</p>
      <p id="22b53ce1-bc9b-4c14-acc7-e5f0d1b6c902" class="">Se≈æenete tam vcelku jednodu≈°e informace o datu narozen√≠ nejen c√≠lov√©ho u≈æivatele, ale i jeho rodiny, jeho koleg≈Ø a v≈Øbec cel√©ho jeho soci√°ln√≠ho okruhu. Zjist√≠te co m√° a co nem√° r√°d, co ƒçetl, co jedl a ƒçasto i kdy byl naposledy na z√°chodƒõ.</p>
      <p id="b99a1c87-b2d3-4b90-ac17-3810123cd134" class="">Prvnƒõ se mus√≠te st√°t p≈ô√°teli, ale na to je jednoduch√° rada - p≈ôidejte si jako p≈ô√°tele v≈°echny ze soc√°ln√≠ho okruhu u≈æivatele. Nƒõkte≈ô√≠ v√°s schv√°l√≠ a jakmile c√≠lov√Ω u≈æivatel uvid√≠ ≈æe m√°te nƒõjak√© spoleƒçn√© zn√°m√©, p≈Øjde to jednodu≈°e. Sexy vzhled ve va≈°em (fale≈°n√©m) profilu b√Ωv√° v√Ωhodou.</p>
      <p id="7b7fb04b-fd9c-40eb-8732-4dfcacd3976c" class="">Potom u≈æ zb√Ωv√° jen napsat spidera (o tom zase mo≈æn√° nƒõkdy jindy), co se rekurzivnƒõ pro≈æere ve≈°ker√Ωm facebookov√Ωm obsahem c√≠lov√©ho u≈æivatele a v≈°e ulo≈æ√≠ na disk. Nic v√°m samoz≈ôejmƒõ nebr√°n√≠ udƒõlat to ruƒçnƒõ, ale je to opruz, na kter√Ω osobnƒõ nem√°m n√°ladu. Nav√≠c ps√°t spidery je z√°bava.</p>
      <h3 id="69f839b0-95c3-4ccc-8e69-ea77b9fc1894" class="">Ostatn√≠ zdroje</h3>
      <p id="521cae71-1f30-4259-9ba7-8cc7acc9c3a5" class="">Pokud nen√≠ c√≠lov√Ω u≈æivatel cool a in, mo≈æn√° facebook nepou≈æ√≠v√°. Co potom?</p>
      <p id="d3bd017a-50e9-4055-91ee-893672604e0e" class="">Potom bude na ƒçase zadat jeho jm√©no do googlu a googlit. Hled√°te v≈°echno, kde m≈Ø≈æete naj√≠t informace o va≈°em c√≠lov√©m u≈æivateli, tedy profily na str√°nk√°ch jako jsou lide.cz, p≈ô√≠spƒõvky v diskuz√≠ch, str√°nky jeho psa, blogy, osobn√≠ str√°nky. Rodinn√© fotky a jejich popisky, ƒçl√°nky z novin, m√≠sta anga≈æov√°n√≠.</p>
      <p id="89f8e08c-3e34-4439-82c3-4e282cd30a29" class="">Pokud naraz√≠te na seznam obl√≠ben√Ωch knih, najdƒõte si ebooky a ulo≈æte je na disk, pokud na seznam obl√≠ben√Ωch film≈Ø, tak k nim st√°hnƒõte titulky, pokud na obl√≠benou hudbu (<a href="http://www.last.fm/">last.fm</a> a podobn√© slu≈æby), postahujte k n√≠ texty (lyrics).</p>
      <p id="bfdc6523-8775-467a-b1b6-36ab4c6f8c29" class="">Googlete podle jm√©na, podle nicku, podle emailu, podle ICQ, podle ip adresy, podle v≈°eho co na dan√©ho u≈æivatele se≈æenete, pospojujte zd√°nlivƒõ oddƒõlen√© identity pomoc√≠ spoleƒçn√Ωch informac√≠.</p>
      <p id="8f412300-6ae0-4684-a441-c3a8a8875ed5" class="">V≈°echno co dostanete st√°hnƒõte na disk, pozdƒõji se to bude hodit, ale je nutn√© to nep≈ôehnat a nestahovat zase cel√© str√°nky, kdy≈æ tam u≈æivatel poslal jen jeden p≈ô√≠spƒõvek. Na konci data budete muset vyfiltrovat a je tedy c√≠lem m√≠t jich co nejm√©nƒõ a z√°rove≈à nejv√≠ce zamƒõ≈ôen√Ωch na c√≠lov√©ho u≈æivatele.</p>
      <h3 id="5f4d0e86-e117-4b7e-8b2d-81830ce316c3" class="">Lehce offtopic challenge</h3>
      <p id="bcb7dc96-58c3-4e8a-ab25-f0b05b5de204" class="">Vyz√Ωv√°m v√°s k naps√°n√≠ API v pythonu ke v≈°em vƒõt≈°√≠ str√°nk√°m (facebook, google+, lide.cz, r≈Øzn√© seznamky, blogovac√≠ slu≈æby atd..), abyste mohli ƒçinnost z√≠sk√°v√°n√≠ informac√≠ zautomatizovat.</p>
      <p id="546bb8b9-c381-44fd-8706-d53a20aee820" class="">Vytvo≈ôte pluginy reaguj√≠c√≠ na nƒõjak√© jasnƒõ dan√© API (nap≈ô√≠klad na stejn√Ω typ parametru p≈ôedan√©ho z p≈ô√≠kazov√© ≈ô√°dky vr√°t√≠ na <code>stdin</code> obsah dann√© str√°nky, kam se nedostanete jednodu≈°e wgetem) a script, kter√Ω je umo≈æ≈àuje jednodu≈°e masivnƒõ pou≈æ√≠vat.</p>
      <h2 id="97eae6b7-8365-4ed9-925f-6fd9fe95809a" class="">Praktick√° uk√°zka shroma≈æƒèov√°n√≠ a normalizace</h2>
      <p id="82b70aed-80c1-42ab-b72f-f9380848be0b" class="">Pro jednoduchost nebudu zach√°zet moc daleko a nebudu se vƒõnovat v≈°em mo≈æn√Ωm web≈Øm. Chcete se dostat do satelitu czCube, vzpom√≠n√°te? Jako ide√°ln√≠ m√≠sto k z√≠sk√°n√≠ wordlistu tak budou <a href="http://www.czcube.org/">ofici√°ln√≠ str√°nky</a> projektu.</p>
      <p id="03b367ab-c824-4749-928c-7d6de37552a0" class="">K z√≠sk√°n√≠ surov√Ωch dat pou≈æiji linuxov√Ω shell a program <a href="http://cs.wikipedia.org/wiki/Wget">wget</a>:</p>
      <pre id="1344f755-b561-4d87-89eb-e2b11169a884" class="code code-wrap"><code>wget -r -nd -erobots=off -l 5 -A.html -A.htm -A.txt -A.pdf http://www.czcube.org/cs/index.html</code></pre>
      <p id="734072f6-4ddf-463f-89be-28642c796ede" class="">T√≠m st√°hnu v≈°echny html, htm, txt a pdf soubory co se na str√°nk√°ch nach√°z√≠ a vede na nƒõ odkaz. Sna≈æ√≠m se tu o generov√°n√≠ wordlistu, co≈æ je mnohem lehƒç√≠ z .txt ne≈æ .pdf, tak≈æe si pdf p≈ôevedu hromadnƒõ na text pomoc√≠ utility <a href="http://en.wikipedia.org/wiki/Pdftotext">pdftotext</a>:</p>
      <pre id="8ddceed6-d93c-4896-9fd3-8fa2e6c65ce7" class="code code-wrap"><code>find . -name "*.pdf" -exec pdftotext {} \; # pdftotext neum√≠ v√≠c soubor≈Ø najednou, proto pou≈æiji find</code></pre>
      <p id="015e0177-a804-4c41-b79d-022b333355dc" class="">Nyn√≠ by se mi hodilo p≈ôev√©st na text i htm a html soubory. Pou≈æiji k tomu <a href="http://cs.wikipedia.org/wiki/Lynx">lynx</a>, kter√Ω m√° ale tu nep≈ô√≠jemnou vlastnost, ≈æe na konec uv√°d√≠ seznam odkaz≈Ø, co≈æ mohu eliminovat grepem s parametrem <code>-v</code>, kter√Ω zp≈Øsob√≠ vyps√°n√≠ pouze ≈ô√°dk≈Ø bez odkaz≈Ø ("file://", "http://").</p>
      <pre id="031d19ee-7f0b-4c49-ab9e-a82533bda37c" class="code code-wrap"><code>find . -name "*.html" -exec sh -c 'lynx -dump {} | grep -v "file://" | grep -v "http://" &gt; {}.txt; echo {}' \; # sh kvuli '&gt;' do souboru..</code></pre>
      <p id="834345c5-5ee1-40f8-b37d-67a04b3245f6" class="">Vyƒçist√≠m bordel, slouƒç√≠m v≈°e do jednoho souboru a mrknu se, kolik mi toho zbylo:</p>
      <pre id="7fb17c38-43e1-403b-bc42-2e15bcfed8fa" class="code code-wrap"><code>cat *.txt &gt; words.dat
rm *.pdf *.html *.txt
du -h words.dat</code></pre>
      <pre id="80f903bd-9a7e-403f-82f1-d6ed9710ce63" class="code code-wrap"><code>352K    words.dat</code></pre>
      <p id="0444f9a9-5fdd-4628-a4ef-8b51f7f769d8" class="">Jak m√°te mo≈ænost vidƒõt, zbylo mi 352KB ƒçist√©ho textu. Z nƒõj nyn√≠ budu muset udƒõlat seznam slov.</p>
      <h2 id="a2778ae3-a13e-4eb8-9e64-86989714d003" class="">Extrakce wordlistu</h2>
      <p id="aacf838e-2304-4bc3-93f9-a749f8dca0e6" class="">Extrakce slov ze z√≠skan√Ωch dat nen√≠ nic slo≈æit√©ho, bƒõhem psan√≠ ƒçl√°nku jsem si k tomu napsal jednoduch√Ω script, kter√Ω najdete v p≈ô√≠loh√°ch jako <code>extractor.py</code>. Bylo by mo≈æn√© pou≈æ√≠t i regul√°rn√≠ v√Ωrazy a r≈Øzn√© unixov√© utility, ale nemƒõl jsem n√°ladu tr√°vit hodinu debugov√°n√≠m bash scriptu, kdy≈æ jednoduchou uk√°zku nap√≠≈°u za p≈Øl hodiny v pythonu.</p>
      <pre id="915012ef-f7d9-447d-95a7-0c48f1bce211" class="code code-wrap"><code>cat words.dat | ./extractor.py --min 2 --max 10 --double &gt; wordlist.txt
wc -l wordlist.txt</code></pre>
      <pre id="86064ed8-86e8-4e04-aa38-5154e6d2273f" class="code code-wrap"><code>40600 wordlist.txt</code></pre>
      <p id="0bdbe861-a975-4e5f-ae75-124dd75233d1" class="">Mnou pou≈æit√Ω <code>extractor</code> je silnƒõ trivi√°ln√≠. Jen rozdƒõl√≠ vstup na UTF slova a vyfiltruje speci√°ln√≠ znaky p≈ôiƒçem≈æ dovoluje m√≠t ve slovech teƒçky a ƒç√°rky.</p>
      <p id="5ed84580-da23-4e75-bb4a-033fec6deb5a" class=""><strong>ƒå√≠m lep≈°√≠ budete m√≠t</strong> <code><strong>extractor</strong></code><strong>, t√≠m efektivnƒõj≈°√≠ bude v√Ωsledn√© crackov√°n√≠, proto≈æe t√≠m vƒõt≈°√≠ ≈°ance, ≈æe spr√°vnƒõ z√≠sk√°te</strong> <code><strong>JehoTajemstv√≠</strong></code> <strong>a</strong> <code><strong>suffix</strong></code><strong>.</strong></p>
      <p id="03e28924-9cbe-4999-9fed-07ca694ace3d" class="">Uk√°zka neschopnosti m√©ho <code>extractoru</code> je nap≈ô. telefonn√≠ ƒç√≠slo oddƒõlen√© mezerami, kter√© m≈Øj k√≥d rozdƒõl√≠ do nƒõkolika pod-ƒç√≠sel a nevn√≠m√° ho jako celek. Zapracovat se d√° na mnoha dal≈°√≠ch vƒõcech, jako je rozpozn√°v√°n√≠ emailov√Ωch adres, ICQ, telefonn√≠ho ƒç√≠sla, PSƒå, datum≈Ø + konverze do nƒõkolika dal≈°√≠ch alternativn√≠ch form√°t≈Ø.</p>
      <h2 id="8cfb66e7-46a4-4616-aa76-1b67c61b1a6f" class="">Filtrace</h2>
      <p id="ca233190-7374-4bb7-a363-f12d930e5a33" class="">Pot√© co jsem extractorem z√≠skal 40600 slov je na ≈ôadƒõ filtrace, kdy se budu sna≈æit vƒõt≈°iny z nich zbavit, jinak by toti≈æ dal≈°√≠ krok - <strong>variace</strong> mohl z√≠skat nep≈ô√≠jemnou slo≈æitost.</p>
      <p id="de623f01-4cff-4d1a-aae0-ee58d83d0625" class="">Pokud chcete, data si m≈Ø≈æete schovat a pozdƒõji je vyzkou≈°et samotn√°, nen√≠ zde v≈°ak p≈ô√≠li≈° velk√° ≈°ance na √∫spƒõch, proto≈æe i kdy≈æ je v souboru s velkou ≈°anc√≠ <code>JehoTajemstv√≠</code> a <code>suffix</code>, pot≈ôebujete je je≈°tƒõ slo≈æit dohromady.</p>
      <p id="911c57bb-ef49-41cc-9ad1-a2584758936b" class="">Redukci velkosti je mo≈æn√© prov√©st tƒõmito zp≈Øsoby;</p>
      <ul id="ca048d6c-e878-4005-9b28-597b52df97c1" class="bulleted-list">
        <li style="list-style-type:disc">odstranƒõn√≠m duplik√°t≈Ø - v pythonu se d√° elegantnƒõ vy≈ôe≈°it p≈ôeveden√≠m na <a href="http://docs.python.org/tutorial/datastructures.html#sets">set()</a>
        </li>
      </ul>
      <ul id="7e1377f1-bee8-419d-83da-6d4d15abee95" class="bulleted-list">
        <li style="list-style-type:disc">derivac√≠ ≈°umu (cool n√°zev pro odstranƒõn√≠ slov bez speci√°ln√≠ho v√Ωznamu)</li>
      </ul>
      <h3 id="c8cbd5a7-a97e-47d7-a240-ad5923fc9e75" class="">Odstranƒõn√≠ duplik√°t≈Ø</h3>
      <p id="c0d8c1c5-d7be-4922-9e0f-830ab6b70737" class="">Jak u≈æ jsem psal, v pythonu staƒç√≠ soubor naƒç√≠st a p≈ôev√©st na set, co≈æ je set≈ô√≠zen√° mno≈æina unik√°tn√≠ch prvk≈Ø. Nic v√°m samoz≈ôejmƒõ nebr√°n√≠ pou≈æ√≠t k tomu programy jako <code>sort | uniq</code>, nebo si napsat vlastn√≠ sorter/deduplicator.</p>
      <p id="48f761a2-9ed1-4e8e-9471-c31d3de26dad" class="">Je zbyteƒçn√© na nƒõco tak nicotn√©ho ps√°t script, proto pou≈æiji python naschv√°l ponƒõkud nestandartnƒõ (nechci m√≠t soubor se≈ôazen√Ω, pak by mi nesedƒõla dal≈°√≠ uk√°zka :P):</p>
      <pre id="06e0637a-9591-4ca2-94fa-652eb914a17e" class="code code-wrap"><code>python -c "for i in set(open('wordlist.txt').read().splitlines()): print i" &gt; wordlist.uniq.txt
wc -l wordlist.uniq.txt</code></pre>
      <pre id="bca8070d-6ef4-4662-a726-5852a27ed0cc" class="code code-wrap"><code>7576 wordlist.uniq.txt</code></pre>
      <p id="0333a7b0-017e-48b4-ac13-24dbc3b4df5c" class="">T√≠mto z√≠sk√°m soubor s pouh√Ωmi 7576 slovy, co≈æ p≈ôedstavuje redukci o ~30000 slov. To je docela dobr√© zv√Ω≈°en√≠ odstupu sign√°lu od ≈°umu, nemysl√≠te? :)</p>
      <h3 id="929def8f-7055-4f2a-ad85-44d5a9a86296" class="">Odstranƒõn√≠ ≈°umu</h3>
      <p id="adf66392-242a-436d-98b5-1f0268be2360" class="">Wordlist st√°le obsahuje relativnƒõ velk√© mno≈æstv√≠ ≈°umu, u kter√©ho je nepravdƒõpodobn√©, ≈æe by byl pou≈æit jako heslo. Pod√≠vejme se na prvn√≠ch 10 prvk≈Ø:</p>
      <pre id="c97d9064-5b3d-4c59-b3a7-86b073bda225" class="code code-wrap"><code>head wordlist.uniq.txt</code></pre>
      <pre id="adae9a7f-77a5-4400-87a8-93609b41195b" class="code code-wrap"><code>koncovou
*ESTEC*
foul
kvalitn√≠ch
prefix
*mirage*
*xChaos.*
*xChaos,*
Until
*JN,*</code></pre>
      <p id="e71d0c5c-3f15-473f-90ce-a62e4a68a19e" class="">Hvƒõzdami jsem zv√Ωraznil slova, u kter√Ωch existuje zv√Ω≈°en√° pravdƒõpodobnost pou≈æit√≠ jako hesla, proto≈æe mohou p≈ôedstavovat pro u≈æivatele nƒõco speci√°ln√≠ho, co by mohl pou≈æ√≠t na <code>JehoTajemstv√≠</code>. Zbytek je ≈°um, kter√©ho se chceme pokud mo≈æno zbavit.</p>
      <p id="1cad7f6d-c41b-4b66-b288-b54d0c0081d7" class="">Samoz≈ôejmƒõ je mo≈æn√© ruƒçnƒõ proj√≠t v≈°ech 7576 slov a vymazat ty, kter√° pova≈æujete za bƒõ≈æn√° a tud√≠≈æ nezaj√≠mav√°. U vƒõt≈°√≠ch projekt≈Ø by to v≈°ak mohlo b√Ωt nere√°ln√© a i u men≈°√≠ch to bude nehor√°znƒõ nudn√° a otrock√° pr√°ce. Jeliko≈æ v√°s prov√°z√≠ s√≠la unixu, pou≈æijeme ho na dal≈°√≠ podstatnou redukci.</p>
      <h3 id="ebf65875-79a5-47b7-b43b-3a0285a5318c" class="">P≈ô√≠prava datab√°ze ≈°umu</h3>
      <p id="35b4d8a7-c0c8-47f4-81af-d8281fac92d2" class="">Filtraci provedeme takto: nejd≈ô√≠ve se≈æeneme velk√© mno≈æstv√≠ textu, ≈ô√°dovƒõ megabajty. Text potom zpracujeme a z√≠sk√°me z nƒõj frekvenci nejƒçastƒõji pou≈æ√≠van√Ωch slov. ƒåasto pou≈æ√≠van√° slova pak vyu≈æijeme k vytvo≈ôen√≠ datab√°ze ≈°umu, d√≠ky kter√© m≈Ø≈æeme zmen≈°it n√°≈° slovn√≠k.</p>
      <p id="2ac791c8-da27-478a-bc8e-c04af37e00e6" class="">Ka≈æd√©mu je douf√°m jasn√©, ≈æe k z√≠sk√°n√≠ ≈°umu je nutn√© pou≈æ√≠t nƒõjakou obecnou datab√°zi text≈Ø, nikoliv t≈ôeba odborn√© weby, nebo zdrojov√© k√≥dy. Daj√≠ se pou≈æ√≠t knihy, ale jejich p≈ôevod na text je ƒçasto opruz s nep≈ô√≠li≈° dobr√Ωmi v√Ωsledky.</p>
      <p id="b2c9dde9-3cc5-4518-9186-2ca4b4b67bb4" class="">Na vƒõt≈°inu web≈Ø budete skoro v≈ædy pot≈ôebovat HTML parser, kter√Ω osek√° okoln√≠ prvky tak, aby v√°m zbyl jen text. Do zaƒç√°tku mohu doporuƒçit <a href="http://fora.babinet.cz/viewprintable.php?id=47542">http://fora.babinet.cz/viewprintable.php?id=47542</a> a <a href="http://www.cepsr.com/tisk.php?ID=01">http://www.cepsr.com/tisk.php?ID=01</a>, kde se nach√°z√≠ spousta slovn√≠ vaty a budete m√≠t jen minim√°ln√≠ pr√°ci s parsov√°n√≠m. Obecnƒõ pot≈ôebujete dlouh√© texty bez speci√°ln√≠ch v√Ωraz≈Ø, na co≈æ jsou ide√°ln√≠ texty o politice, nebo kd√°k√°n√≠ na blog√≠sc√≠ch (zde ov≈°em pozor na wYpaTl4t0r).</p>
      <p id="97a7674d-3b16-4bd7-adc7-b90f3aa69e9b" class="">V tomto ƒçl√°nku pou≈æiji jako zdroj pouze web <a href="http://zpovedka.cz/">http://zpovedka.cz</a>, proto≈æe se jedn√° o prakticky ide√°ln√≠ p≈ô√≠klad se spoustou relativnƒõ dlouh√Ωch text≈Ø, blogy jsou v url identifikov√°ny ƒç√≠slem, co≈æ mi usnadn√≠ stahov√°n√≠, a jako bonus tam nen√≠ reklama.</p>
      <p id="0d644cf8-c36c-49de-a2c0-7131fae5a72e" class="">Tentokr√°t se ji≈æ ned√° pou≈æ√≠t rekurzivn√≠ wget, proto≈æe by v√°s mohl zav√©st na m√≠sta, kam nechcete. Jeliko≈æ jsou v≈°echny ƒçl√°nky se≈ôazeny sekvenƒçne za sebou od url <a href="http://zpovedka.cz/000001.php">http://zpovedka.cz/000001.php</a> do url <a href="http://zpovedka.cz/001819.php">http://zpovedka.cz/001819.php</a> (max. v dobƒõ psan√≠ ƒçl√°nku), pou≈æiji k jejich sta≈æen√≠ <a href="http://en.wikipedia.org/wiki/CURL#cURL">curl</a>, kter√Ω m√° na rozd√≠l od wgetu p≈ô√≠mo podporu stahov√°n√≠ sekvenƒçn√≠ch url.</p>
      <pre id="2e3a7cf6-b7f1-4aeb-adea-9a9baacda581" class="code code-wrap"><code>mkdir zpovedka.cz
cd zpovedka.cz
 
curl http://zpovedka.cz/00[0001-1819].php -O
du -chs</code></pre>
      <pre id="5fe86b3a-2e9c-4709-a381-5d346b74dea8" class="code code-wrap"><code>109M    .
109M    total</code></pre>
      <p id="2732121c-f9a3-4c02-942f-70070b04d705" class="">Jak vid√≠te, ze zpovƒõƒèky se st√°hlo 109MB html str√°nek. Nyn√≠ je na ƒçase v≈°e p≈ôev√©st na ƒçist√Ω text. U lynxu to tentokr√°t chce pou≈æ√≠t parametr <code>-force_html</code>, proto≈æe soubory maj√≠ p≈ô√≠ponu <code>.php</code> a to se lynxu nezd√°.</p>
      <pre id="3a21fb85-fe1f-4908-b520-8e7cdecc3291" class="code code-wrap"><code>find . -name "*.php" -exec sh -c 'lynx -force_html -dump {} &gt; {}.txt; echo {}' \;
rm *.php
du -chs</code></pre>
      <pre id="2dcbce6f-e88e-4a9f-b8aa-d44b44982176" class="code code-wrap"><code>56M .
56M total</code></pre>
      <p id="8b3a812a-072d-4854-afce-619206483c14" class="">P≈ôevod na ƒçist√Ω text srazil velikost skoro o polovinu. Kdy≈æ se pod√≠v√°te na jednotliv√© textov√© soubory, zjist√≠te, ≈æe to po≈ô√°d nen√≠ √∫plnƒõ ono. Na zaƒç√°tku se nach√°z√≠ hlaviƒçka zab√≠raj√≠c√≠ dva ≈ô√°dky, na konci je pak zobrazen formul√°≈ô pro koment√°≈ôe a odkazy, kter√© tam nacpal lynx. Neu≈°kod√≠ tedy v≈°e o≈ôezat a pot√© hromadnƒõ ulo≈æit do souboru <code>noise.dat</code>:</p>
      <pre id="10c4993c-2428-401d-8526-bfdbcf2b5650" class="code code-wrap"><code>find . -name "*.txt" -exec sh -c "tail -n +3 {} | head -n \`grep -n 'Pokud m√°≈° k vƒõci co ≈ô√≠ct a dok√°≈æe≈° pomoci, nev√°hej a pi≈°.' {} | cut -f1 -d:\` &gt;&gt; noise.dat; echo {}" \;
 
# uklizeni bordelu
mv noise.dat ../
cd ..
rm -fr zpovedka.cz
 
du -h noise.dat</code></pre>
      <pre id="dbe27fc5-3b75-4b5b-bc83-a1a830759f43" class="code code-wrap"><code>47M noise.dat</code></pre>
      <p id="668400b1-b91a-4c49-beec-cc567d96cdef" class="">Jak m√°te mo≈ænost vidƒõt, o≈ôez√°n√≠m nepot≈ôebn√Ωch ƒç√°st√≠ se poda≈ôilo st√°hnout velikost souboru o 9MB na 47MB.</p>
      <p id="ae53b216-691b-4bfa-a4ec-3bbc546ed168" class="">Kdy≈æ to budete zkou≈°et, zjist√≠te ≈æe onen zbƒõsil√Ω find (za ten m√°m peklo jist√© :P) v pr≈Øbƒõhu pr√°ce vypisuje chyby - nelekejte se jich, jedn√° se o smazan√© str√°nky, kter√© byly p≈ôesto st√°hnuty na disk a nyn√≠ se p≈ôeskakuj√≠.</p>
      <p id="ee1d5752-2e29-4033-a4ce-061263879bbc" class="">Pokud v√°m zvƒõdavost ned√°, zde je kr√°tk√Ω popis jak p≈ô√≠kaz funguje: pomoc√≠ <a href="http://cs.wikipedia.org/wiki/Tail">tailu</a> o≈ô√≠znu 3 ≈ô√°dky ze zaƒç√°tku souboru, kde se nach√°z√≠ hlaviƒçka. Potom <a href="http://cs.wikipedia.org/wiki/Head">headem</a> vyberu ve≈°ker√Ω text a≈æ po ≈ô√°dek, na kter√©m se vyskytuje ≈ôetƒõzec <em>"Pokud m√°≈° k vƒõci co ≈ô√≠ct a dok√°≈æe≈° pomoci, nev√°hej a pi≈°.</em>", kter√Ω se v textu v≈ædy nach√°z√≠ p≈ôed formul√°≈ôem pro vlo≈æen√≠ nov√Ωch p≈ô√≠spƒõvk≈Ø. ƒå√≠slo ≈ô√°dku zjist√≠m <a href="http://cs.wikipedia.org/wiki/Grep">grepem</a>, kter√Ω d√≠ky parametru <code>-n</code> zobrazuje ƒç√≠sla ≈ô√°dk≈Ø + v√Ωskyt ≈ôetƒõzce. Jeliko≈æ pot≈ôebuji pouze ƒç√≠slo ≈ô√°dku, od≈ô√≠znu ho z v√Ωstupu grepu pomoc√≠ p≈ô√≠kazu <a href="http://cs.wikipedia.org/wiki/Cut">cut</a>. V√Ωstup z headu, kter√Ω dostal jako parametr <code>-n</code> ƒç√≠slo ≈ô√°dku z <code>grepu</code>, p≈ôesmƒõruji do souboru <code>noise.dat</code> v re≈æimu roz≈°i≈ôov√°n√≠ (<code>&gt;&gt;</code>), d√≠ky kter√©mu se ≈ô√°dky p≈ôidaj√≠ na konec. To cel√© se d√≠ky p≈ô√≠kazu <a href="http://cs.wikipedia.org/wiki/Find">find</a> s parametrem <code>-exec</code> vykon√° pro v≈°echny textov√© soubory ve slo≈æce. Trochu krkolomn√©, ale tohle nen√≠ kurz krasoprogramov√°n√≠, n√Ωbr≈æ z√≠sk√°v√°n√≠ dat.</p>
      <p id="697b37fe-7c1a-4d0c-8cbe-d9eb59941b8e" class="">Ze souboru nyn√≠ pomoc√≠ <code>extractor.py</code> vyextrahuji surov√Ω seznam slov, kter√© budu pozdƒõji d√°le analyzovat:</p>
      <pre id="2bc13910-2628-423c-9b9d-b114a247dac9" class="code code-wrap"><code>cat noise.dat | ./extractor.py --min 2 --max 10 --double --lower &gt; noise_raw.txt
du -h noise_raw.txt</code></pre>
      <pre id="437b15ad-6bc6-48a7-8e17-c09c88a4a8e4" class="code code-wrap"><code>44M noise_raw.txt</code></pre>
      <p id="022f162a-09b5-443c-b840-7261db151934" class="">Chvilku to trv√°, tak si zat√≠m t≈ôeba uva≈ôte ƒçaj.</p>
      <h3 id="cbc089b0-4566-4356-90e1-c24a1ee43042" class="">Vytv√°≈ô√≠me datab√°zi ≈°umu</h3>
      <p id="6d8a5c1d-5c46-4074-9af2-2efdb770053c" class="">Nyn√≠ si spoƒç√≠t√°me, kolikr√°t se kter√© v√Ωrazy v textu objevuj√≠. Samoz≈ôejmƒõ abychom na to mohli napsat python script (ke sv√© hanbƒõ se p≈ôizn√°m, ≈æe jsem ho i <a href="https://gist.github.com/d0d956985c4be5251dff">napsal</a>), z√°kladn√≠ unixov√© n√°stroje ale pr√°ci odvedou stejnƒõ tak dob≈ôe, ba dokonce rychleji:</p>
      <pre id="cd990ac1-a157-407c-8d63-2333509639f5" class="code code-wrap"><code>cat noise_raw.txt | sort | uniq -c &gt; noise_analysed.txt
du -h noise_analysed.txt</code></pre>
      <pre id="ad1ad625-ccdb-4d64-a353-99f35e3a1fba" class="code code-wrap"><code>6,9M    noise_analysed.txt</code></pre>
      <p id="7e2084c1-d856-45fa-bbd9-388d19cb541e" class="">Pokud nakoukneme do souboru noise_analysed.txt, zjist√≠me, ≈æe se n√°m tam ulo≈æily poƒçty v√Ωskytu jednotliv√Ωch slov:</p>
      <pre id="b7c0a7e8-2342-4f18-808f-0528d5090ff3" class="code code-wrap"><code>tail noise_analysed.txt</code></pre>
      <pre id="b1bcd08e-8f1f-41f0-80a6-551a2a510105" class="code code-wrap"><code>4 —Ç–æ
1 —Ç–æ–±–æ–π
1 —Ñ–∏–ª—å–º–∞
2 —á–∞—Å
2 —á–∞—Å,
4 —á—Ç–æ
1 —à–µ—Å—Ç–æ–π
2 —ç—Ç–æ
2 —ç—Ç–æ—Ç
1 ÊúÄÂæå„ÅÆÊ•Ω</code></pre>
      <p id="ded033a4-dc0a-40ba-b82a-4750d0172e1e" class="">Anal√Ωzu v√Ωskytu slov jsme prov√°dƒõli proto, abychom n√°hodou neodstranili potenci√°ln√≠ <code>JehoTajemstv√≠</code>, kter√° se na zpovedka.cz vyskytla n√°hodou. To udƒõl√°me tak, ≈æe odfiltrujeme pouze slova, kter√° maj√≠ vƒõt≈°√≠ √∫rove≈à pou≈æ√≠v√°n√≠, co≈æ n√°m znaƒç√≠ pr√°vƒõ ƒç√≠slo p≈ôed nimi.</p>
      <p id="3076d649-914f-41a3-b01a-14e0450b1b63" class="">Ot√°zkou je, jakou hodnotu zvolit. Pokud vybereme moc malou, zbude n√°m a≈æ moc slov. Pokud moc velkou, m≈Ø≈æe se st√°t, ≈æe odfiltrujeme <code>JehoTajemstv√≠</code>. Jako prvn√≠ v√°s pravdƒõpodobnƒõ napadne pr≈Ømƒõr. Nezavrhuji to, ale osobnƒõ jsem se rozhodl pro pr≈Ømƒõr mezi celkov√Ωm pr≈Ømƒõrem a <a href="http://cs.wikipedia.org/wiki/Medi%C3%A1n">medi√°nem</a>, kter√Ω nen√≠ tolik n√°chyln√Ω na lok√°ln√≠ v√Ωst≈ôelky. Naz√Ωvejme to Hranic√≠.</p>
      <p id="c6d9f27e-51e4-4912-a7ce-cf6b8e71c3e0" class="">Teƒè p≈ôijde ozn√°men√≠, kter√© spoustu z tƒõch, ehm, m√©nƒõ zku≈°en√Ωch asi moc nepotƒõ≈°√≠. Rozhodl jsem se vynechat ƒç√°st, kde spoƒç√≠t√°m Hranici a pou≈æiji script, kter√Ω do dal≈°√≠ho textov√©ho souboru blacklist_raw.txt ulo≈æ√≠ v≈°echna slova, kter√° maj√≠ v√Ωskyt vƒõt≈°√≠ ne≈æ Hranice. Tak√© jsem vynechal k√≥d, kter√Ω odma≈æe ƒç√≠sla p≈ôed ka≈æd√Ωm p≈ô√≠kazem a samotn√° slova ulo≈æ√≠ do souboru <code>blacklist.txt</code>. Nechci d√°t n√°stroje do rukou lidem, kte≈ô√≠ netu≈°√≠ jak je pou≈æ√≠t - destruktivn√≠ chov√°n√≠ b√Ωv√° nejƒçastƒõj≈°√≠ u lid√≠ s minimem schopnost√≠.</p>
      <h3 id="c017f018-7270-4764-af49-7385f45a9b93" class="">Odeƒçten√≠ ≈°umu</h3>
      <p id="5b4f3ebc-e95c-4b86-9d73-ddded794e8e7" class="">Pokud se v√°m povedlo vyƒçistit blacklist, m√°te nyn√≠ k dispozici 409927 nejpou≈æ√≠vanƒõj≈°√≠ch slov, co≈æ je docela slu≈°n√Ω wordlist. Nyn√≠ staƒç√≠ jen vyfiltrovat slova ze souboru <code>wordlist.uniq.txt</code>, kter√° se nach√°zej√≠ z√°rove≈à v souboru <code>blacklist.txt</code> a ulo≈æit je do <code>wordlist.txt</code>. To se d√° udƒõlat jednodu≈°e, nebo slo≈æitƒõ. Osobnƒõ r√°d dƒõl√°m vƒõci jednodu≈°e, tak≈æe tady je p≈ô√≠kaz v bashi:</p>
      <pre id="abdf418a-228a-495f-9b8b-8b31b8d855c2" class="code code-wrap"><code>cat wordlist.uniq.txt blacklist.txt blacklist.txt | sort -f | uniq -iu &gt; wordlist_cleaned.txt
wc -l wordlist_cleaned.txt</code></pre>
      <pre id="589dda1f-40ad-4351-9861-e3efbdae6ec8" class="code code-wrap"><code>1719 wordlist_cleaned.txt</code></pre>
      <p id="8967e9c2-7edc-4746-b68e-2bde7f3b3d38" class="">Jak vid√≠te, cel√° filtrace spoƒç√≠v√° v tom, ≈æe <code>uniqu</code> po≈°lu soubor <code>blacklist.txt</code> dvakr√°t, d√≠ky ƒçemu≈æ jsou v√Ωrazy z nƒõj zaruƒçenƒõ odfiltrov√°ny. Parametry <code>-f</code> a <code>-i</code> slou≈æ√≠ k porovn√°v√°n√≠ bez ohledu na velikost p√≠smen.</p>
      <p id="9a34ea39-3c2e-480f-8c26-a444c3125ff9" class="">Pokud se do souboru pod√≠v√°te, zjist√≠te, ≈æe se v nƒõm z nƒõjak√©ho d≈Øvodu nƒõkter√° slova vyskytuj√≠ jen s ƒç√°rkou na konci. To nen√≠ zrovna ide√°ln√≠, proto si je naklonujeme i bez ƒç√°rky pomoc√≠ extractoru a jeho parametru <code>-d</code>:</p>
      <pre id="f313088e-88db-42ca-8627-238bca545f43" class="code code-wrap"><code>cat wordlist_cleaned.txt | ./extractor.py -d | sort | uniq  &gt; wordlist.txt
wc -l wordlist.txt</code></pre>
      <pre id="5c09326b-386a-4736-aa0e-6cf1424b1e25" class="code code-wrap"><code>1934 wordlist.txt</code></pre>
      <p id="02523110-7ec1-4c4d-b014-0e080d1892ff" class="">D√≠ky filtraci pomoc√≠ blacklistu se n√°m podstatnƒõ sn√≠≈æil prostor, ve kter√©m se m≈Ø≈æe ukr√Ωvat <code>JehoTajemstv√≠</code> - z p≈Øvodn√≠ch 7576 slov na pouh√Ωch 1934, jejich≈æ otestov√°n√≠ trvalo na m√© ma≈°inƒõ 1m 17.741s.</p>
      <p id="f6dbc9d2-1fee-4718-ae3c-f58e3f137895" class="">Pokud chcete zjistit tajemstv√≠, kter√© se ukr√Ωv√° v czCube (tedy czcube_server.py), budete muset je≈°tƒõ trochu zapracovat - napov√≠m jen tolik, ≈æe ve <code>wordlist.txt</code> jsou ulo≈æeny obƒõ komponenty hesla, tedy jak <code>JehoTajemstv√≠</code>, tak <code>Suffix</code>. K tomu abyste p≈ôi≈°li na to co je co se v√°m bude hodit, ≈æe n√°≈° bruteforcer p≈ôij√≠m√° i pole string≈Ø, jestli si je≈°tƒõ vzpom√≠n√°te :) Bude to cht√≠t ov≈°em buƒèto je≈°tƒõ zredukovat velikost wordlistu, nebo zrychlit crackov√°n√≠, proto≈æe vyzkou≈°et v≈°ech 3742290 kombinac√≠ by trvalo na m√©m stroji necel√Ωch 42 hodin :)</p>
      <h3 id="6ad5f0d5-bf8f-4c0c-9c44-1c868caa1018" class="">Probl√©my a n√°vrhy na vylep≈°en√≠</h3>
      <p id="f7b34329-7834-491c-90de-77b6c42c984b" class="">Pokud se pod√≠v√°te do souboru <code>wordlist.txt</code>, zjist√≠te, ≈æe se v nƒõm st√°le nach√°z√≠ spousta bƒõ≈æn√Ωch anglick√Ωch slov, kter√© nebyly odchyceny, proto≈æe <a href="http://zpovedka.cz/">zpovedka.cz</a> je ƒçesk√Ω web. <strong>Vytvo≈ôte anglick√Ω blacklist a slova odeƒçtƒõte.</strong></p>
      <p id="dc3cd5aa-e948-4473-bb2a-a6214f636578" class="">P≈ôi detailnƒõj≈°√≠m pohledu si jistƒõ v≈°imnete, ≈æe se zde nach√°z√≠ spousta jmen a datum≈Ø. Zkuste napsat jejich detektor a permut√°tor do r≈Øzn√Ωch form√°t≈Ø. K dost√°n√≠ se do czCube to sice nen√≠ nutn√©, ale v re√°ln√©m ≈æivotƒõ se to bude hodit.</p>
      <p id="6453debc-525b-4939-a640-807441b0a77f" class="">Nƒõkter√° slova konƒç√≠ ƒç√°rkou, jin√° teƒçkou, jin√° p√≠smenem. Za≈ôiƒète, aby v≈°echna konƒçila p√≠smenem, teƒçkou i ƒç√°rkou.</p>
      <p id="ee7f54d1-5343-40ae-8c8c-3bcc8cd01c67" class="">Nem√°te jistotu velk√Ωch a mal√Ωch p√≠smen. Heslo m≈Ø≈æe obsahovat string z wordlistu, ale m≈Ø≈æe m√≠t na zaƒç√°tku mal√© p√≠smeno, nebo b√Ωt cel√Ω mal√Ωmi, i kdy≈æ je ve wordlistu s velk√Ωm p√≠smenem.</p>
      <h2 id="42d8d6c9-1a82-46a8-ab11-b22bcc214957" class="">Pouƒçen√≠</h2>
      <p id="1efdd7e5-0d2c-4784-8187-721f0bd83e12" class="">D√≠ky zamƒõ≈ôen√≠ √∫toku je mo≈æn√© podstatnƒõ zmen≈°it poƒçet hesel, kter√° je nutno vyzkou≈°et. To se hod√≠, pokud √∫toƒç√≠te na c√≠le s pomalou linkou, nebo paranoidn√≠m adminem, kter√Ω omezil poƒçet spojen√≠.</p>
      <p id="940752d2-05c4-440a-871f-8c5d16498ae5" class="">Na rozd√≠l od bruteforce nemus√≠te zkou≈°et nep≈ôedstaviteln√° ƒç√≠sla kombinac√≠, kter√° v dohledn√© dobƒõ prostƒõ nevyzkou≈°√≠te, ale vcelku re√°ln√© tis√≠ce a miliony, kter√© netrvaj√≠ tak dlouho. Na druhou stranu, na rozd√≠l od bruteforce, kde m√°te v√≠ce/m√©nƒõ z√°ruku √∫spƒõchu v koneƒçn√©m ƒçase (i kdy≈æ se m≈Ø≈æe nach√°zet miliardy let v budoucnosti), u dictionary se m≈Ø≈æe st√°t, ≈æe se prostƒõ netref√≠te a nic s t√≠m nenadƒõl√°te, pokud um√≠ admin vybrat spr√°vnƒõ heslo.</p>
      <h2 id="2aa0efd0-a36e-4b96-b9f8-4311293af7b2" class="">Side-channel</h2>
      <p id="f49a7ef4-60d8-4736-80a3-d8a2fba11b97" class=""><a href="http://en.wikipedia.org/wiki/Side_channel_attack">Side-channel</a> √∫toky se od v√Ω≈°e uveden√Ωch l√≠≈°√≠ docela podstatnƒõ. Nec√≠l√≠ toti≈æ na samotn√© heslo, ale na ve≈°ker√© vedlej≈°√≠ projevy syst√©mu. P≈ôesto jsem si je troufl za≈ôadit, proto≈æe v√°s ve vƒõt≈°inƒõ p≈ô√≠pad≈Ø nevpust√≠ do syst√©mu, jako kdybyste pou≈æili exploit, ale pouze podstatnƒõ zredukuj√≠ poƒçet hesel, kter√© mus√≠te otestovat.</p>
      <p id="29b413da-430c-4702-b023-889ef8cce81b" class="">Funguje to tak, ≈æe se zamƒõ≈ôujete na cokoliv, co dok√°≈æete o syst√©mu zjistit, nejƒçastƒõji na fyzik√°ln√≠ podstatu syst√©mu, proto≈æe lid√© kte≈ô√≠ za≈ô√≠zen√≠ a algoritmy navrhuj√≠ pracuj√≠ s vrstvami abstrakce, kter√© zakr√Ωvaj√≠ postrann√≠ √∫niky.</p>
      <p id="7547ab17-7f35-44bd-bd49-1534bf8321c8" class="">M≈Ø≈æe to b√Ωt doba bƒõhu, jeho akustick√©, infraƒçerven√© (teplo), ultrafialov√©, elektromagnetick√©, neutronov√© a t≈ôeba i gravitaƒçn√≠ vyza≈ôov√°n√≠, nebo jeho spot≈ôeba. Aby to nebyla ƒçistƒõ pasivn√≠ nuda, tak syst√©m p≈ôi nƒõkter√Ωch typech √∫tok≈Ø vystavujete extr√©mn√≠m podm√≠nk√°m - p≈ôipojujete ho na vy≈°≈°√≠ napƒõt√≠, ne≈æ na jak√© byl stavƒõn, oh≈ô√≠v√°te ho, nebo mraz√≠te, podrobujete gama ƒçi rentgenov√©mu z√°≈ôen√≠, siln√©mu prosvƒõtlen√≠, oza≈ôov√°n√≠ v mikrovlnce, abyste zp≈Øsobili nefunkƒçnost nƒõkter√Ωch souƒç√°st√≠, jako je nap≈ô√≠klad gener√°tor n√°hodn√Ωch ƒç√≠sel.</p>
      <p id="4cbd28d2-6c68-4d2e-9e59-8f826c5380b3" class="">Side-channel √∫toky v naprost√© vƒõt≈°inƒõ p≈ô√≠pad≈Ø nejsou jednoduch√© a vy≈æaduj√≠ seri√≥zn√≠ znalosti a/nebo vybaven√≠. P≈ôesto v√°m p√°r z nich p≈ôibl√≠≈æ√≠m, alespo≈à ve zkratce.</p>
      <h2 id="d6e52a8f-1099-4575-9184-f19c7b69abae" class="">TEMPEST aka Electromagnetic Eavesdropping aka Van Eck phreaking aka EMSEC</h2>
      <p id="f110ff46-f674-4f41-8d57-737f283810f5" class="">I kdy≈æ se nejedn√° zrovna o <em>guessing</em>, ale sp√≠≈° <em>password sniffing</em>, neexistuje z√°≈ônƒõj≈°√≠ p≈ô√≠klad <em>postrann√≠ho kan√°lu</em> ne≈æ <a href="http://en.wikipedia.org/wiki/Van_Eck_phreaking">Van Eck phreaking</a>, nespr√°vnƒõ zn√°mƒõj≈°√≠ sp√≠≈° pod k√≥dov√Ωm oznaƒçen√≠m <a href="http://en.wikipedia.org/wiki/Tempest_%28codename%29">TEMPEST</a>. Jedn√° se o typ √∫toku, kter√Ω c√≠l√≠ na <a href="http://www.linuxexpres.cz/unik-elektromagnetickych-emisii">nechtƒõn√© elektromagnetick√© vyza≈ôov√°n√≠</a>.</p>
      <p id="f06104e4-ac41-4aac-8142-117dc42665b0" class="">Spousta lid√≠ si mysl√≠, ≈æe postavit funkƒçn√≠ vys√≠laƒç je n√°roƒçn√° pr√°ce, kter√° vy≈æaduje hodnƒõ znalost√≠ z elektrotechniky. Pravda je takov√°, ≈æe ve skuteƒçnosti je mnohem tƒõ≈æ≈°√≠ postavit kus elektroniky co nic nevys√≠l√° (o ≈°√≠≈ôce spektra, ƒçistotƒõ a v√Ωkonu se teƒè nebavme). To v√°m jistƒõ potvrd√≠ ka≈æd√Ω, kdo nƒõkdy musel ≈ôe≈°it odru≈°en√≠ elektromotor≈Ø, nap≈ô√≠klad ve vysavaƒçi.</p>
      <h3 id="e67e061f-ada3-4b2c-9117-e9ffb1dfd9d7" class="">Princip vys√≠laƒçe</h3>
      <p id="c182dfaa-e246-488c-9f1b-d52af918c7d0" class="">Jednoduch√© vys√≠laƒçe nejsou ≈æ√°dn√° magie. Jak si mo≈æn√° pamatujete ze z√°kladn√≠ ≈°koly, kdy≈æ do kusu dr√°tu pust√≠te elekt≈ôinu, nap≈ô√≠klad z 9V baterie, stane se z nƒõj elektromagnet, tak≈æe k sobƒõ zaƒçne p≈ôitahovat magnetick√© p≈ôedmƒõty. ƒå√≠m del≈°√≠ m√°te dr√°t stoƒçen√Ω do c√≠vky, t√≠m silnƒõj≈°√≠ eletromagnet bude.</p>
      <p id="24eae719-4b8c-465f-ae07-598554d1dec3" class="">Pokud m√°te citliv√Ω mƒõ≈ô√°k, dok√°≈æete zmƒõ≈ôit toto statick√© magnetick√© pole na vzd√°lenost des√≠tek centimetr≈Ø, mo≈æn√° metr≈Ø. Pokud v≈°ak magnet rozkmit√°te (zaƒçnete ho velice rychle vyp√≠nat a zap√≠nat), elektromagnetick√© pole kolem nƒõj kmit√° s n√≠m a na c√≠vk√°ch v okol√≠ doch√°z√≠ k indukci. P≈ôi urƒçit√Ωch rychlostech vyp√≠n√°n√≠ a zap√≠n√°n√≠ se pole ≈°√≠≈ô√≠ do d√°lky l√©pe ne≈æ p≈ôi jin√Ωch, tak≈æe doch√°z√≠ k vys√≠l√°n√≠ tohoto pole na velmi dlouh√© vzd√°lenosti. To se pak velice slabƒõ, ale p≈ôeci jen indukuje na kovov√Ωch p≈ôedmƒõtech (ant√©ny) i des√≠tky kilometr≈Ø daleko. Pokud k nim p≈ôipoj√≠te zesilovaƒç a frekvenƒçn√≠ filtr, m≈Ø≈æete z toho co se v√°m naindukuje rekonstruovat zap√≠n√°n√≠ a vyp√≠n√°n√≠ vys√≠laƒçe - jeho rychlost, plynulost a do jist√© m√≠ry i intenzitu.</p>
      <p id="3c3173af-03c7-4a73-b485-568d681cbd45" class="">Samoz≈ôejmƒõ, tohle v≈°echno plat√≠ jen pro nejprimitivnƒõj≈°√≠ vys√≠laƒçe ala jisk≈ôi≈°tƒõ, ve skuteƒçn√©m svƒõtƒõ je to docela vƒõda, proto≈æe se sna≈æ√≠te vys√≠lat jen na mal√©m frekvenƒçn√≠m p√°smu, s minim√°ln√≠m zasahov√°n√≠m do ostatn√≠ch, s co nejvƒõt≈°√≠ efektivitou p≈ôevodu energie a tak d√°le.</p>
      <h3 id="11863912-a373-456b-bb35-21a404d00dc2" class="">Poƒç√≠taƒç jako vys√≠laƒç</h3>
      <p id="dbb7fe0e-cac8-4798-96f9-0ef9a9394f15" class="">Abych se vr√°til zpƒõt k TEMPESTU - v√°≈° poƒç√≠taƒç je v podstatƒõ za≈ô√≠zen√≠, kter√© velice rychle p≈ôep√≠n√° elekt≈ôinu v mnoha r≈Øzn√Ωch vodiƒç√≠ch, a≈• u≈æ se jedn√° o kabely p≈ôipojuj√≠c√≠ periferie, nebo o vnit≈ôn√≠ sbƒõrnice zaji≈°≈•uj√≠c√≠ p≈ôenos informac√≠ mezi vnit≈ôn√≠mi komponentami. D√≠ky tomu se jedn√° o vys√≠laƒç na v≈°ech mo≈æn√Ωch vlnov√Ωch d√©lk√°ch, kter√© jsou tlumeny kovovou krabic√≠ poƒç√≠taƒçe.</p>
      <p id="247225be-aa55-45d9-b882-dc308fcc3cf4" class="">Extern√≠ komponenty, jako jsou monitor, kl√°vesnice a my≈° v≈°ak niƒç√≠m tlumen√© nejsou a d√≠ky tomu vys√≠laj√≠ s velkou radost√≠ do okol√≠ v≈°e, co se p≈ôes nƒõ p≈ôen√°≈°√≠. Sign√°ly nejsou ƒçist√©, jeliko≈æ p≈Øvodnƒõ samoz≈ôejmƒõ nikdo nepl√°noval, ≈æe maj√≠ vys√≠lat. R≈Øznƒõ se do sebe m√≠s√≠, p≈ôiƒçem≈æ nƒõkter√© vys√≠laj√≠ na tak n√≠zk√Ωch frekvenc√≠ch, ≈æe o kus d√°l u≈æ jsou utlumeny k nerozezn√°n√≠.</p>
      <p id="98198614-eefa-4f55-8469-459e427a9fb7" class="">P≈ôes to v≈°echno je mo≈æn√© pr≈Øbƒõhy napƒõt√≠, kter√© na v√°≈° monitor doruƒçuj√≠ sign√°l pro zobrazen√≠ odposlouch√°vat i na des√≠tky metr≈Ø. Nez√°le≈æ√≠ p≈ôitom na typu pou≈æit√©ho monitoru, funguje to jak pro <a href="http://www.hack247.co.uk/hack247/wp-content/uploads/pet2004-fpd.pdf">LCD</a>, tak pro <a href="http://www.hack247.co.uk/hack247/wp-content/uploads/emr.pdf">CRT</a> na jednotky, max. des√≠tky metr≈Ø.</p>
      <p id="ee6c648b-cd7e-438b-bb58-d2dfe04ee0b6" class="">Kl√°vesnice na tom nejsou o nic l√©pe - ba naopak, d√≠ky dlouh√Ωm nest√≠nƒõn√Ωm dr√°t≈Øm, po kter√Ωch si svi≈°t√≠ povely jen ve chv√≠li kdy maƒçk√°te tlaƒç√≠tka je to <a href="http://lasecwww.epfl.ch/keyboard/">je≈°tƒõ jednodu≈°≈°√≠</a>. √ötoƒçn√≠k tak v≈Øbec nemus√≠ kompromitovat v√°≈° syst√©m, prostƒõ si heslo p≈ôeƒçte tak jak ho p√≠≈°ete.</p>
      <h3 id="df582ef2-3243-43ec-8208-a1946119fbf4" class="">Obrana</h3>
      <p id="e4bf4091-a337-4a47-a405-520eedc9aecc" class="">Existuj√≠ dvƒõ mo≈æn√© techniky obrany, obƒõ zalo≈æen√© na principu <a href="http://cs.wikipedia.org/wiki/Faradayova_klec">faradayovi klece</a>:</p>
      <p id="b99263ad-157c-4fce-949a-68f8eece3972" class="">1. V≈°echny souƒç√°stky a kabely mus√≠ b√Ωt <a href="http://www.youtube.com/watch?v=55z_0BYb5is">n√°le≈æitƒõ odst√≠nƒõny</a>. Touto cestou se vydaly vojensk√© organizace po cel√©m svƒõte. Je to dra≈æ≈°√≠ a komplikovanƒõj≈°√≠, ale jistƒõj≈°√≠, jako bonus to nejsp√≠≈° p≈ôid√°v√° jistou odolnost v≈Øƒçi elektrick√© slo≈æce <a href="http://cs.wikipedia.org/wiki/Elektromagnetick%C3%BD_impuls">EMP</a>.</p>
      <p id="12969be1-6d60-4e08-93ae-62cc701a2582" class="">2. M√≠sto kde poƒç√≠taƒç pou≈æ√≠v√°te mus√≠ b√Ωt odst√≠nƒõn√©. Ide√°ln√≠ jsou klece z uzemnƒõn√©ho pletiva, alobal na zdech tak√© nen√≠ marn√Ω. Inspiraci je mo≈æn√© ƒçerpat t≈ôeba z filmu <a href="http://www.csfd.cz/film/8280-nepritel-statu/">Nep≈ô√≠tel st√°tu</a>.</p>
      <h3 id="c955e08b-ac34-4b90-bd44-0e85798b15e0" class="">Mo≈æn√© vyu≈æit√≠</h3>
      <p id="da46ccd1-7fd4-479b-9c5c-2df31b16590e" class="">TEMPEST pro V√°s nemus√≠ b√Ωt nutnƒõ ≈°kodliv√Ω - ve chv√≠li kdy v√≠te, ≈æe monitor vlastnƒõ funguje jako vys√≠laƒç, m≈Ø≈æete ho pou≈æ√≠t jako jednoduchou zvukovou kartu, kterou je mo≈æn√© naladit na FM r√°dio. Pokud v√°s to zaj√≠m√°, hledejte v√Ωraz "<a href="http://www.youtube.com/watch?v=Th6rVsLGMjE">tempest for eliza</a>".</p>
      <p id="bb943230-827c-4165-bab5-df9801f5fefc" class="">Dal≈°√≠ mo≈æn√© vyu≈æit√≠ je transport citliv√Ωch informac√≠, kdy≈æ nedostanete mo≈ænost zapojen√≠ extern√≠ch m√©di√≠ a p≈ô√≠stupu na internet: Na vysok√Ωch ≈°kol√°ch jsou uzamƒçen√© uƒçebny, ve kter√Ωch se nach√°zej√≠ poƒç√≠taƒçe se zdrojov√Ωmi k√≥dy Windows. Studenti, kte≈ô√≠ se up√≠≈°√≠ ke vstupu nesm√≠, ba ani nemohou p≈ôipojit ≈æ√°dn√© za≈ô√≠zen√≠, proto≈æe poƒç√≠taƒç na nƒõ nereaguje, porty jsou zaslepeny, bedna zamknut√° a internetov√° konektivita nen√≠ dostupn√°. Na druhou stranu, nic jim nebr√°n√≠ studovat zdrojov√© k√≥dy a spou≈°tƒõt programy - od toho tam zdrojov√© k√≥dy Windows jsou, aby bylo mo≈æn√© prostudovat syst√©m a prov√°dƒõt r≈Øzn√© testy.</p>
      <p id="9a67995a-d0ed-4b41-9fb3-492fbae6bdc1" class="">Teoreticky je tedy mo≈æn√© za pomoc√≠ p≈ô√≠tomn√©ho IDE napsat program, kter√Ω pomoc√≠ TEMPESTU zaƒçne vys√≠lat ≈ô√°dku po ≈ô√°dce zdrojov√© k√≥dy do svƒõta. Za p≈ôedpokladu, ≈æe nƒõkdo naslouch√° (i kdyby ≈°lo jen o pasivn√≠ z√°znamov√© za≈ô√≠zen√≠ na z√°chodov√© kabince o patro n√≠≈æe), m≈Ø≈æe tak doj√≠t k √∫niku dat.</p>
      <h2 id="949bcd9f-8f8d-4cd3-b148-b215f25595bb" class="">Odbƒõrov√© √∫toky</h2>
      <p id="2a1073dc-2114-4948-a65b-0fdf12c8a8e5" class="">Aƒç se to nezd√°, d≈Øle≈æit√© informace o syst√©mu je mo≈æn√© zjistit i studiem <a href="http://en.wikipedia.org/wiki/Power_analysis">odbƒõru elekt≈ôiny</a>.</p>
      <p id="5117b346-2d99-4d6e-a47f-f29490f1fc80" class="">Kdy≈æ vynech√°m, ≈æe policie takto zamƒõ≈ôuje <a href="http://www.pre.cz/velkoodberatele/pre-aktualne-prehled-2011/zlodeji-elektriny-aneb-odhalene-cerne-odbery.html">neleg√°ln√≠ pƒõst√≠rny marihuany</a>, tak ka≈æd√Ω poƒç√≠taƒçov√Ω ƒçip spot≈ôebov√°v√° v pr≈Øbƒõhu ƒçasu nekonstantn√≠ mno≈æstv√≠ elekt≈ôiny a odbƒõr tedy neust√°le lehce kol√≠s√° podle toho, jak√© jsou zrovna vodivƒõ propojeny obvody na ƒçipu a co prov√°d√≠ za operaci. Nejedn√° se samoz≈ôejmƒõ o nijak velk√© hodnoty, kol√≠s√°n√≠ se pohybuje v mez√≠ch, na kter√© pot≈ôebujete laboratorn√≠ p≈ô√≠stroje.</p>
      <p id="aafb452f-22ee-4db9-a944-766b8f8381cb" class="">U norm√°ln√≠ch poƒç√≠taƒç≈Ø by tento typ √∫toku nejsp√≠≈° zklamal - jednak je zdroj s vyhlazovac√≠mi kondenz√°tory um√≠stƒõn√Ω uvnit≈ô poƒç√≠taƒçe, druhak jsou na desce des√≠tky a stovky ƒçip≈Ø, kter√© syst√©m ovliv≈àuj√≠. Pot≈ôebujete nƒõco trivi√°lnƒõj≈°√≠ho, tak primitivn√≠ho, ≈æe to nem√° ani vlastn√≠ nap√°jec√≠ zdroj.</p>
      <p id="9c9cf9ee-4565-47f2-b99c-2d743da185cb" class="">Takov√Ωm syst√©mem jsou smartcard a RFID ƒçipy. Prvn√≠ jmenovan√© naleznete v podobƒõ telefonn√≠ch, nebo bankomatn√≠ch ƒçip≈Ø, druh√© v≈°ude tam, kde se pou≈æ√≠vaj√≠ ƒçipy bezkontaktn√≠ - vstupn√≠ karty, pasy, opencard, ƒçipy v autobusech, ps√≠ zn√°mky.</p>
      <p id="cc330e1a-a8ba-4f52-9943-5c687c2383cb" class="">Tyto ƒçipy nejsou tvo≈ôeny stovkami mili√≥n≈Ø a≈æ miliardami tranzistor≈Ø, naopak, jedn√° se o vcelku primitivn√≠ obvody, kter√© se skoro v≈ædy vejdou pod 10 000 tranzistor≈Ø. Jedn√≠m d≈Øvodem je cena, druh√Ωm hlavnƒõ spot≈ôeba elekt≈ôiny, co≈æ je v√Ωznamn√Ω faktor hlavnƒõ u bezkontaktn√≠ch (RFID) ƒçip≈Ø, kter√© se mus√≠ nap√°jet z nosn√© vlny vys√≠laƒçe.</p>
      <p id="68e5a116-0195-40f3-b706-a15e21c38067" class="">U takto velk√Ωch obvod≈Ø se ji≈æ daj√≠ mƒõ≈ôit odbƒõrov√© charakteristiky, proto≈æe nad m√°te stoprocentn√≠ kontrolu nad jejich vstupy a v√Ωstupy, tak≈æe v√≠te p≈ôesnƒõ co dan√Ω obvod dƒõl√°. M≈Ø≈æete tak doslova mƒõ≈ôit odbƒõr v ka≈æd√©m taktu, co≈æ v√°m d√° p≈ôedstavu o typech pr√°vƒõ pou≈æ√≠van√Ωch obvod≈Ø, d√≠ky ƒçemu≈æ m≈Ø≈æete odhalit algortmus, kter√Ω karta pou≈æ√≠v√°.</p>
      <p id="901330ec-0c63-4536-8531-a4bdd7a02c74" class="">Detail≈Øm se zde nebudu vƒõnovat, proto≈æe bez znalost√≠ architektury ƒçip≈Ø na √∫rovni vysok√© ≈°koly se nejsp√≠≈° moc chytat nebudete, nav√≠c nejsem odborn√≠k a ani jsem v tomhle ohledu nedƒõlal ≈æ√°dn√© pokusy, proto≈æe to chce docela drah√© elektronick√© vybaven√≠.</p>
      <h3 id="96bce428-326f-4305-8154-18579d61fb1e" class="">Shrnut√≠</h3>
      <p id="e20ee6f3-065d-4f27-ba37-9db2d374b5b8" class="">Odbƒõrov√© √∫toky mohou pomoci podstatnƒõ zredukovat poƒçet mo≈æn√Ωch hesel, proto≈æe v√°m prozrad√≠ informace o algoritmu. Vy≈æaduj√≠ siln√© znalosti o architektu≈ôe poƒç√≠taƒçov√Ωch ƒçip≈Ø a solidn√≠ technick√© vybaven√≠. Pokud nepochop√≠te do posledn√≠ho detailu jednoduch√© poƒç√≠taƒçe, jako je t≈ôeba <a href="http://kitakitsune.org/raw/RelayTalk.pdf">tohle</a>, nem√° smysl se v tom d√°l pitvat, proto≈æe v√°m to stejnƒõ nic ne≈ôekne.</p>
      <h2 id="78f678f7-37af-4c16-b7d7-be9b838444f9" class="">Timing attack</h2>
      <p id="9e6517fa-30e6-49be-9bf4-78b6312af746" class="">Aƒç se to nezd√°, dost informac√≠ se d√° o syst√©mu zjistit i podle rychlosti reakc√≠.</p>
      <p id="b2b60947-fe32-4275-878a-3ec5c34b22db" class="">Osobnƒõ jsem tomuto typu √∫toku nevƒõnoval pozornost, dokud mi nevyrazila dech p≈ôedn√°≈°ka <a href="http://www.youtube.com/watch?v=OsbQhr9ZmPY">Time is on my side</a> z <a href="http://events.ccc.de/congress/2011/Fahrplan/events/4640.en.html">28c3</a>, kde <a href="http://sebastian-schinzel.de/">Sebastian Schinzel</a> p≈ôedvedl origin√°ln√≠ √∫tok na syst√©m po s√≠ti, kter√Ω v√°m umo≈æ≈àuje zredukovat poƒçet pokus≈Ø k uhodnut√≠ hesla na pouh√© stovky tis√≠c, pokud program√°tor udƒõl√° tu chybu a pou≈æije standardn√≠ funkce pro porovn√°v√°n√≠ ≈ôetƒõzc≈Ø na plaintextov√© heslo.</p>
      <h3 id="2a1909e8-cacd-44dc-84bf-96095d63ca75" class="">strcmp()</h3>
      <p id="2a6393ba-09f1-4722-9437-0c27a0b4ba6d" class="">Jak douf√°m v≈°ichni v√≠te, pokud chcete v jazyce C porovnat dva ≈ôetƒõzce, pou≈æijete funkci <code>strcmp()</code>. Jeliko≈æ je vƒõt≈°ina syst√©m≈Ø je postaven√° na C, plat√≠ zde uveden√© informace prakticky pro libovoln√Ω syst√©m, nebo interpretovan√Ω programovac√≠ jazyk.</p>
      <p id="99b9ab3c-cdfd-4337-82be-88742a714a87" class=""><code>strcmp()</code> funguje velice jednodu≈°e - p≈ôij√≠m√° dva textov√© ≈ôetƒõzce, kter√© proch√°z√≠ a znak po znaku porovn√°v√°. Pokud se znaky v pol√≠ch na stejn√©m indexu nerovnaj√≠, vr√°t√≠ ƒç√≠slo vƒõt≈°√≠, nebo men≈°√≠ nule, dle toho jak se li≈°√≠. Jestli≈æe jsou oba ≈ôetƒõzce stejn√©, vr√°t√≠ nulu.</p>
      <p id="991fd73e-b010-433a-a58a-191089737c21" class="">Pod√≠vejme se nyn√≠ na <code>strcmp()</code>, tak jak j√≠ <a href="http://sourceware.org/git/?p=glibc.git;a=blob_plain;f=string/strcmp.c;h=8229d7c773b361a1587cac2cfc5d9b12ba29255a;hb=1f529f7d8456f09109a8e942581f89f10a901ed0">implementuje linuxov√° glibc</a>:</p>
      <pre class="code"><code><span class="cp">#include</span> <span class="cpf">&lt;string.h&gt;</span>
<span class="cp">#include</span> <span class="cpf">&lt;memcopy.h&gt;</span>
 
<span class="cp">#undef strcmp</span>
 
<span class="cm">/* Compare S1 and S2, returning less than, equal to or</span>
<span class="cm">   greater than zero if S1 is lexicographically less than,</span>
<span class="cm">   equal to or greater than S2.  */</span>
<span class="kt">int</span>
<span class="nf">strcmp</span> <span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">)</span>
     <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">p1</span><span class="p">;</span>
     <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">p2</span><span class="p">;</span>
<span class="p">{</span>
  <span class="k">register</span> <span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">*</span><span class="p">)</span> <span class="n">p1</span><span class="p">;</span>
  <span class="k">register</span> <span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">*</span><span class="p">)</span> <span class="n">p2</span><span class="p">;</span>
  <span class="kt">unsigned</span> <span class="n">reg_char</span> <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">;</span>
 
  <span class="k">do</span>
    <span class="p">{</span>
      <span class="n">c1</span> <span class="o">=</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">char</span><span class="p">)</span> <span class="o">*</span><span class="n">s1</span><span class="o">++</span><span class="p">;</span>
      <span class="n">c2</span> <span class="o">=</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">char</span><span class="p">)</span> <span class="o">*</span><span class="n">s2</span><span class="o">++</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">c1</span> <span class="o">==</span> <span class="sc">'\0'</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">c1</span> <span class="o">-</span> <span class="n">c2</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="k">while</span> <span class="p">(</span><span class="n">c1</span> <span class="o">==</span> <span class="n">c2</span><span class="p">);</span>
 
  <span class="k">return</span> <span class="n">c1</span> <span class="o">-</span> <span class="n">c2</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">libc_hidden_builtin_def</span> <span class="p">(</span><span class="n">strcmp</span><span class="p">)</span>
</code></pre>
      <p id="36dfc05d-a305-42ef-9220-121b5d15688c" class="">Jeliko≈æ se jedn√° sice o re√°lnou, ale p≈ôeci jen ponƒõkud zbyteƒçnƒõ komplikovanou uk√°zku, p≈ôid√°m je≈°tƒõ zjednodu≈°enou implementaci, kter√° funguje t√©mƒõ≈ô ekvivalentnƒõ:</p>
      <pre class="code"><code><span class="kt">int</span> <span class="nf">strcmp</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">s1</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s2</span><span class="p">){</span>
    <span class="k">for</span><span class="p">(;</span> <span class="o">*</span><span class="n">s1</span> <span class="o">==</span> <span class="o">*</span><span class="n">s2</span><span class="p">;</span> <span class="n">s1</span><span class="o">++</span><span class="p">,</span> <span class="n">s2</span><span class="o">++</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="n">s1</span> <span class="o">==</span> <span class="sc">'\0'</span><span class="p">)</span>
            <span class="k">break</span><span class="p">;</span>
   
    <span class="k">return</span> <span class="o">*</span><span class="n">s1</span> <span class="o">-</span> <span class="o">*</span><span class="n">s2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
      <p id="2f30b3c5-3ea3-455a-a134-ab8866753420" class="">Funkce proch√°z√≠ p≈ôes ukazatele <code>s1</code> a <code>s2</code>, kter√© dostala jako argumenty, a porovn√°v√°, jestli jsou hodnoty na kter√© ukazuj√≠ stejn√©. Pokud ano, pokraƒçuje se d√°l. Jakmile se li≈°√≠, nebo nastane konec ≈ôetƒõzce, funkce se ukonƒç√≠ a vr√°t√≠ v√Ωsledek.</p>
      <p id="299e1d40-6571-4cf7-912c-bf432d5f691f" class="">Abych se nemusel uchylovat k C, p≈ôep√≠≈°i danou uk√°zku 1:1 do pythonu. P≈Øsob√≠ to trochu k≈ôeƒçovitƒõ, ale funguje stejnƒõ:</p>
      <pre class="code"><code><span class="k">def</span> <span class="nf">strcmp</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">):</span>
    <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">min_len</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">s2</span><span class="p">))</span>
   
    <span class="k">while</span> <span class="n">s1</span><span class="p">[</span><span class="n">cnt</span><span class="p">]</span> <span class="o">==</span> <span class="n">s2</span><span class="p">[</span><span class="n">cnt</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">cnt</span> <span class="o">&lt;</span> <span class="n">min_len</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>
   
        <span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span>
   
    <span class="k">return</span> <span class="nb">ord</span><span class="p">(</span><span class="n">s1</span><span class="p">[</span><span class="n">cnt</span><span class="p">])</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="n">s2</span><span class="p">[</span><span class="n">cnt</span><span class="p">])</span>
</code></pre>
      <p id="04b94797-fe20-4e31-bc8e-42cde1c3d53e" class="">D≈Økladnƒõ si pros√≠m uveden√© zdrojov√© k√≥dy prostudujte, dokud nebudete m√≠t jistotu, ≈æe jim rozum√≠te.</p>
      <h3 id="f1be8b31-20f2-4011-a60c-ee2813b99ece" class="">V√Ωkonnostn√≠ optimalizace</h3>
      <p id="3ea2ce36-87be-4b90-a004-98a4a813601a" class="">Za p≈ôedpokladu, ≈æe jste skuteƒçnƒõ pochopili uveden√© zdrojov√© k√≥dy, tak by v√°m mƒõlo b√Ωt jasn√©, ≈æe funkce trv√° pro r≈Øzn√© ≈ôetƒõzce <strong>stejn√© d√©lky</strong> r≈Øznou dobu. Je to tak z d≈Øvodu v√Ωkonnostn√≠ optimalizace, kdy je zbyteƒçn√© nad√°le porovn√°vat dva ≈ôetƒõzce, kdy≈æ u≈æ jsme narazili na prvn√≠ odli≈°nost, tud√≠≈æ v√≠me ≈æe nem≈Ø≈æou b√Ωt stejn√©.</p>
      <h3 id="e13c7a06-1158-4702-b68c-ec8dc497ae88" class="">Nepraktick√° uk√°zka</h3>
      <p id="41de8d03-66ad-4256-9130-8b66826c7c62" class="">Aby se ne≈ôeklo, ≈æe je kapitola o side-channel √∫toc√≠ch sam√° nuda a ≈æ√°dn√° akce, p≈ôipravil jsem nepraktickou uk√°zku, kter√° √∫toƒç√≠ na <code>strcmp()</code> v pythonu, tak≈æe si m≈Ø≈æete vyzkou≈°et, ≈æe √∫tok na <code>strcmp()</code> je skuteƒçnƒõ mo≈æn√Ω. Ve skuteƒçn√©m svƒõtƒõ by v√°m uk√°zka byla k niƒçemu, proto≈æe √∫toƒçit na lok√°ln√≠ poƒç√≠taƒç nem√° vƒõt≈°inou smysl a m≈Ø≈æete mi vƒõ≈ôit, ≈æe raw p≈ô√≠stup k IP vrstvƒõ, routov√°n√≠ packet≈Ø dle vyt√≠≈æen√≠ a multitaskingovost na stranƒõ serveru v≈°e PODSTATNƒö komplikuje.</p>
      <p id="12ac83b7-69eb-44d9-b6a6-26923ce87de1" class="">V p≈ô√≠loze najdete slo≈æku <code>timing_attack/</code>, ve kter√© se nach√°z√≠ nƒõkolik soubor≈Ø, jedn√≠m z nich je <code>cmptest.py</code>. Obsahuje v√Ω≈°e uvednou implementaci funkce <code>strcmp()</code> a nƒõkolik mƒõ≈ô√≠c√≠ch funkc√≠, kter√© nejsou tak podstatn√©. D≈Øle≈æit√© je, ≈æe kdy≈æ mu p≈ôed√°te jako prvn√≠ parametr ƒç√≠slo, provede tolikr√°t funkci <code>strcmp("h", "heslo")</code> a <code>strcmp("x", "heslo")</code>, v√Ωsledek v√°m potom vyp√≠≈°e na termin√°l.</p>
      <pre id="c76c0657-a749-418f-8cee-0b476c3acbbd" class="code code-wrap"><code>./cmptest.py 10000000</code></pre>
      <pre id="d3473dad-2117-4745-ad18-f24fd55d00fb" class="code code-wrap"><code>10000000:
    strcmp('x', 'heslo') &gt; strcmp('h', 'heslo')  (12.5968060493 &gt; 11.8393321037)</code></pre>
      <p id="01fe6439-596f-4c39-a1cf-fe84c80dc43f" class="">Zde jasnƒõ vid√≠me, ≈æe p≈ôi deseti milionech pokus≈Ø trv√° proveden√≠ testu s <code>"x"</code> 12,59 sekundy, zat√≠mco s <code>"h"</code> jen 11.83. To je docela pƒõkn√Ω a jasnƒõ mƒõ≈ôiteln√Ω rozd√≠l.</p>
      <p id="50a1ce8f-f773-4947-8fa6-0df117449ee0" class="">Jeliko≈æ jsem mƒõl st√°le je≈°tƒõ nƒõjak√© pochyby, rozhodl jsem se napsat dal≈°√≠ script, kter√Ω zkus√≠ pomƒõ≈ôit celou abecedu a vyp√≠≈°e, jak dlouho trvalo jednotliv√© mƒõ≈ôen√≠, nav√≠c vybere nejkrat≈°√≠ a nejdel≈°√≠ p√≠smeno. Script se jmenuje <code>cmprate.py</code> a zkou≈°√≠ porovn√°vat jak na≈°√≠ starou zn√°mou funkce <code>strcmp()</code>, tak funkci <code>dcmp()</code>, kter√° je jen jednoduch√Ω obal v podobƒõ <code>"return s1 == s2"</code> nad pythonovsk√Ωm <code>==</code> oper√°torem. Zde je vidƒõt v√Ωsledek p≈ôi milionu porovn√°n√≠:</p>
      <pre id="6e4d40c2-ca7f-4fe0-9673-9e91ed0fa3a5" class="code code-wrap"><code>./cmprate.py  1000000</code></pre>
      <pre id="09370461-20f4-4df9-a37c-802d678efbaa" class="code code-wrap"><code>Function; dcmp
Password; heslo
 
    a : 0.293820858002      b : 0.310147047043  
    c : 0.300177097321      d : 0.302853107452  
    e : 0.304003000259      f : 0.298863172531  
    g : 0.301759958267      h : 0.299163818359  
    i : 0.30108499527       j : 0.302097082138  
    k : 0.303493976593      l : 0.298543930054  
    m : 0.294486999512      n : 0.305546998978  
    o : 0.301103830338      p : 0.294248819351  
    q : 0.293974876404      r : 0.294204950333  
    s : 0.296105861664      t : 0.294260978699  
    u : 0.301180839539      v : 0.295403003693  
    w : 0.296595096588      x : 0.295566082001  
    y : 0.296170949936      z : 0.299213171005  
 
Min; a : 0.293820858002
Max; b : 0.310147047043
 
Press return key to continue..
 
Function; strcmp
Password; heslo
 
    a : 1.29385995865       b : 1.29009699821  
    c : 1.28069210052       d : 1.28151607513  
    e : 1.2850959301        f : 1.2793431282    
    g : 1.27082300186       h : 1.19221711159  
    i : 1.32058596611       j : 1.30693387985  
    k : 1.293653965         l : 1.30821704865  
    m : 1.28762984276       n : 1.29457807541  
    o : 1.290391922         p : 1.3181951046    
    q : 1.31833600998       r : 1.29655194283  
    s : 1.31078600883       t : 1.29456710815  
    u : 1.31070494652       v : 1.29148507118  
    w : 1.3075799942        x : 1.31262302399  
    y : 1.30018806458       z : 1.30558419228  
 
Min; h : 1.19221711159
Max; i : 1.32058596611
 
Press return key to continue..</code></pre>
      <p id="2f4cf9c5-35de-4f2f-a5e7-3f60917b5c06" class="">Jak je vidƒõt, funkce <code>strcmp()</code> je skuteƒçnƒõ p≈ôedvidateln√°, a skonƒç√≠ pro spr√°vn√© hodnoty rychleji, ne≈æ pro nespr√°vn√©. <code>dcmp()</code> v≈°ak vypad√° kompletnƒõ n√°hodnƒõ, tomu se je≈°tƒõ budu trochu vƒõnovat d√°le.</p>
      <p id="04da752e-bdcb-45ce-9a2d-7427b6eadd0e" class=""><code>cmprate.py</code> mi ka≈ædop√°dnƒõ potvrdil, ≈æe se nesna≈æ√≠m implementovat nedosa≈æitelnou ideu, tak≈æe jsem rovnou napsal script <code>cmpcrack.py</code>, kter√Ω postupnƒõ testuje abecedu a zkou≈°√≠ heslo.</p>
      <pre id="d423aac9-e563-41dc-b07b-5a6bd9638e8f" class="code code-wrap"><code>./cmpcrack.py 1000000</code></pre>
      <pre id="feae0433-228c-4365-8744-4666667633dc" class="code code-wrap"><code>h [1.1929199695587158, 'h']
he [1.5170519351959229, 'e']
hes [1.8253459930419922, 's']
hesl [2.1278860569000244, 'l']
Got it: heslo</code></pre>
      <p id="b9672f6c-23e2-495a-8b07-89c0cb6f401b" class="">Jak m√°te mo≈ænost vidƒõt, script pot≈ôebuje cca milion pokus≈Ø na ohodnocen√≠ ka≈æd√©ho p√≠smena. To je nejmen≈°√≠ poƒçet test≈Ø, kter√©ho se mi poda≈ôilo dos√°hnout na m√©m poƒç√≠taƒçi s linuxem mint 13 a nƒõkolika bƒõ≈æ√≠c√≠mi aplikacemi, jako je prohl√≠≈æeƒç, IRC klient, SSH klient, jabber a p≈ôehr√°vaƒç hudby. Jsem p≈ôesvƒõdƒçen√Ω, ≈æe na realtime syst√©mu (viz d√°le) by mƒõl staƒçit i podstatnƒõ men≈°√≠ poƒçet pokus≈Ø.</p>
      <h3 id="b96243f9-67a6-4d8e-8de9-8c4291a02977" class="">Realtime OS</h3>
      <p id="18fa67fc-94f5-40cd-a04e-7792533aec71" class="">Uk√°zka sice fungovala s ponƒõkud absurdn√≠ (v pythonu se to d√° vy≈ôe≈°it mnohem elegantnƒõji, ale pak by to nebylo ekvivalentn√≠ k C k√≥du) implementac√≠ <code>strcmp()</code>, ale naprosto selhala v p≈ô√≠padƒõ oper√°toru porovn√°n√≠.</p>
      <p id="75c38d58-9f39-435e-9e80-e5ef1634fa70" class="">Napadlo mƒõ, ≈æe jeden z mo≈æn√Ωch d≈Øvod≈Ø, proƒç tomu tak bylo je jist√© rozost≈ôen√≠, kdy se sna≈æ√≠me z relativnƒõ pomal√©ho pythonu mƒõ≈ôit nativn√≠ operaci, kter√° bƒõ≈æ√≠ tak rychle, ≈æe mƒõ≈ôen√≠ v podstatƒõ vrac√≠ jen ƒças nutn√Ω k zavol√°n√≠ funkce, kter√Ω je ovlivnƒõn spoustou dal≈°√≠ch vƒõc√≠, jako t≈ôeba fragmentace pamƒõti a poƒçtem bƒõ≈æ√≠c√≠ch proces≈Ø.</p>
      <p id="e985a624-ccdb-45d7-ac52-ab39445949cf" class="">Dal≈°√≠ co mƒõ napadlo je, ≈æe na v≈°ech modern√≠ch desktopov√Ωch syst√©mech nikdy nebƒõ≈æ√≠ jen jedna vƒõc. I kdybyste povyp√≠nali v≈°echny mo≈æn√© ostatn√≠ procesy, st√°le se toho dƒõje na pozad√≠ mnoho, co v≈Øbec nem≈Ø≈æete ovlivnit. Je tu str√°nkov√°n√≠, je tu slo≈æit√Ω proces p≈ôep√≠n√°n√≠ proces≈Ø podle vyt√≠≈æen√≠ poƒç√≠taƒçe a priorit, jsou tu r≈Øzn√© cache, je tu z≈ôetƒõzov√°n√≠ a predikce instrukc√≠ v procesoru.</p>
      <p id="655311cf-cca7-464a-a722-438bf257dd7e" class="">D√≠ky tomu v≈°emu je tƒõ≈æk√© nƒõco opravdu p≈ôesnƒõ mƒõ≈ôit ve chv√≠li kdy se bav√≠me o nanosekund√°ch, co≈æ m≈Ø≈æe implementace <code>==</code> pro ≈ôetƒõzec spl≈àovat, jeliko≈æ implementace Pythonu kter√Ω pou≈æ√≠v√°m je napsan√° v C.</p>
      <p id="ad876879-a2b1-48cc-a521-3c790e00fbdf" class="">Sebastian Shinzel na podobn√Ω probl√©m tak√© narazil a rozhodl se to vy≈ôe≈°it silnou √∫pravou Windows. Osobnƒõ jsem se v pokusech vydal jednodu≈°≈°√≠ cestou - modern√≠ operaƒçn√≠ syst√©m jsem v≈Øbec nepou≈æil, proto≈æe proƒç pou≈æ√≠vat multitaskingov√Ω OS na nƒõco, na co se zcela oƒçividnƒõ nehod√≠. Nam√≠sto toho jsem si vybral ≈°iroce dostupn√Ω realtime OS; <a href="http://cs.wikipedia.org/wiki/DOS">DOS</a>, konkr√©tnƒõ verzi <a href="http://cs.wikipedia.org/wiki/FreeDOS">FreeDOS</a>.</p>
      <h3 id="41c57672-14ed-48e3-b086-737509fab515" class="">DOS</h3>
      <p id="17652a16-f598-4d15-8926-543b884da58b" class="">DOS je z dne≈°n√≠ho pohledu silnƒõ trivi√°ln√≠ syst√©m, u kter√©ho mi trvalo velice dlouho, ne≈æ jsem pochopil v ƒçem spoƒç√≠v√° jeho v√Ωhoda. Na prvn√≠ pohled se to m≈Ø≈æe zd√°t ponƒõkud p≈ôekvapiv√©, ale nejvƒõt≈°√≠ v√Ωhoda je v tom, ≈æe nedƒõl√° nic. Zat√≠mco dne≈°n√≠ operaƒçn√≠ syst√©my se staraj√≠ o v≈°echno mo≈æn√©, DOS prostƒõ naƒçte v√°≈° program do pamƒõti, p≈ôed√° mu velen√≠ a to je v≈°e, od t√©to doby m√° v√°≈° program na starost v≈°e, co m√° poƒç√≠taƒç nyn√≠ dƒõlat. Jakmile skonƒç√≠, p≈ôed√° velen√≠ s trochou ≈°tƒõst√≠ zpƒõt DOSu a ten umo≈æn√≠ spou≈°tƒõn√≠ dal≈°√≠ch program≈Ø.</p>
      <p id="82bde059-3326-4ad9-a201-0d9de61a8f25" class="">Ve skuteƒçnosti to tak jednoduch√© nen√≠, proto≈æe je zde je≈°tƒõ DOS API ovl√°dan√© pomoc√≠ r≈Øzn√Ωch p≈ôeru≈°en√≠ a rezidentn√≠ programy, kter√© mohou za urƒçit√Ωch podm√≠nek bƒõ≈æet kdesi na pozad√≠, ale neka≈æme si pohled na svƒõt slo≈æitostmi, kter√© se daj√≠ jednodu≈°e povyp√≠nat.</p>
      <h3 id="0fb08dcb-df93-4a9e-b885-ad744a09d6fe" class="">PythonD</h3>
      <p id="5c9f794d-5c17-41f1-b198-ca9235b7ae05" class="">Jeliko≈æ se mi v z√°vƒõru ƒçl√°nku nechtƒõlo mƒõnit jazyk, hledal jsem python pro DOS. Na internetu se na≈°tƒõst√≠ na≈°el nad≈°enec, kter√Ω p≈ôed p√°r lety p≈ôelo≈æil python 2.4. Jedn√° se sice o star≈°√≠, ale st√°le pou≈æitelnou verzi. Pokud m√°te z√°jem, najdete ho zde: <a href="http://www.progecam.com/download/opensource/python/pyd24210.zip">http://www.progecam.com/download/opensource/python/pyd24210.zip</a></p>
      <h3 id="fce1e7f5-deb7-45b1-8505-8707d52b74d5" class="">√öprava live cd</h3>
      <p id="a3f247ba-eb47-4245-beec-eada638ec68b" class="">DOS v tomto p≈ô√≠padƒõ nem≈Ø≈æete spustit ve virtualizaƒçn√≠ch n√°stroj√≠ch, proto≈æe jen b≈Øh v√≠, co by se v√°m vracelo jako ƒças. Proto jsem si upravil star≈°√≠ <a href="http://ftp//osdos:osdos@ftp.osdos.net/freedos1/fdfullcd.iso">live CD</a>, abych FreeDOS nemusel instalovat. Pou≈æil jsem k tomu program <a href="http://www.littlesvr.ca/isomaster/">isomaster</a>.</p>
      <p id="78a46c01-d6d0-4b6a-8750-23335fa1ac18" class="">Python jsem si rozbalil do slo≈æky <code>LIVE/python</code>, a k tomu jsem si vyrobil soubor <code>python.bat</code>, kter√Ω najdete v p≈ô√≠loze a samoz≈ôejmƒõ jsem si do <code>LIVE/src</code> nakop√≠roval i zdroj√°ky p≈ôede≈°l√Ωch uk√°zek.</p>
      <p id="99a71500-5565-4346-85b2-a5ff12210304" class="">Po spu≈°tƒõn√≠ live CD jsem vybral v √∫vodn√≠m menu 1 a v druh√©m menu 3, tedy ≈æe chci podporu roz≈°√≠≈ôen√© pamƒõti. Po bootu jsem se ocitl na disku A: a chv√≠li jsem t√°pal, ne≈æ mi do≈°lo, ≈æe Live CD je p≈ôipojeno na disku X:. V urƒçitou chv√≠li mƒõ napadlo scripty trochu poladit a skuteƒçnƒõ jsem ocenil, ≈æe na disku Z: je mountl√Ω ramdisk, tak≈æe tam pomoc√≠ programu <code>edit</code> m≈Ø≈æu zkop√≠rovan√© scripty upravovat.</p>
      <p id="239467c2-c797-4b2f-8e19-16148c47473f" class="">P≈ôesto≈æe jsem v≈°ak vyzkou≈°el lecos, √∫tok na <code>==</code> se mi nepoda≈ôilo prov√©st a hodnoty kter√© vrac√≠ jsou i p≈ôi stovk√°ch milion≈Ø pokus≈Ø neodli≈°iteln√© od ≈°umu i p≈ôes pou≈æit√≠ DOSu. Hypot√©za s realtime OS tedy padla.</p>
      <h3 id="b63d56ab-19ea-475b-b1d4-028cac49a61a" class="">_PyString_Eq</h3>
      <p id="4f196a99-7ee7-410a-82e4-691ad3756913" class="">N√°hodnost <code>==</code> mi nedala sp√°t, proto jsem se nakonec rozhodl prozkoumat implementaci oper√°toru porovn√°n√≠ pro stringy, kterou najdete ve <a href="http://www.python.org/ftp/python/2.7.3/Python-2.7.3.tar.bz2">zdroj√°c√≠ch pythonu</a>, konkr√©tnƒõ v souboru <code>Python-2.7.3/Objects/stringobject.c</code> na ≈ô√°dce 1249:</p>
      <pre class="code"><code><span class="kt">int</span>
<span class="nf">_PyString_Eq</span><span class="p">(</span><span class="n">PyObject</span> <span class="o">*</span><span class="n">o1</span><span class="p">,</span> <span class="n">PyObject</span> <span class="o">*</span><span class="n">o2</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">PyStringObject</span> <span class="o">*</span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">PyStringObject</span><span class="o">*</span><span class="p">)</span> <span class="n">o1</span><span class="p">;</span>
    <span class="n">PyStringObject</span> <span class="o">*</span><span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">PyStringObject</span><span class="o">*</span><span class="p">)</span> <span class="n">o2</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">Py_SIZE</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">==</span> <span class="n">Py_SIZE</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
      <span class="o">&amp;&</span> <span class="o">*</span><span class="n">a</span><span class="o">-&gt;</span><span class="n">ob_sval</span> <span class="o">==</span> <span class="o">*</span><span class="n">b</span><span class="o">-&gt;</span><span class="n">ob_sval</span>
      <span class="o">&amp;&</span> <span class="n">memcmp</span><span class="p">(</span><span class="n">a</span><span class="o">-&gt;</span><span class="n">ob_sval</span><span class="p">,</span> <span class="n">b</span><span class="o">-&gt;</span><span class="n">ob_sval</span><span class="p">,</span> <span class="n">Py_SIZE</span><span class="p">(</span><span class="n">a</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
      <p id="7310632f-c553-49f7-84a8-b3897a3955d8" class="">Jak je vidƒõt, implementace porovn√°v√°n√≠ je trochu jin√° ne≈æ <code>strcmp()</code> v C, proto≈æe prvnƒõ porovn√° d√©lku ≈ôetƒõzce. To by se v C nevyplatilo, proto≈æe stringy nemaj√≠ samostatnƒõ ulo≈æenou d√©lku a jej√≠ zji≈°≈•ov√°n√≠ pomoc√≠ <code>strlen()</code> by bylo zbyteƒçnƒõ n√°roƒçn√©.</p>
      <p id="9e0562df-d52b-46b3-96a2-80f94a123da5" class="">Z v√Ω≈°e uveden√©ho zdrojov√©ho k√≥du tedy plyne, ≈æe pythonn√≠ oper√°tor porovn√°n√≠ je v≈Øƒçi naivn√≠ implementaci timing attack≈Ø odoln√Ω.</p>
      <h3 id="d0b44c23-a8b2-4eca-b880-48d9ff3f4a11" class="">N√°vrhy</h3>
      <p id="6ca4fcd6-ed35-48de-bf86-d973ae65c9a6" class="">Script <code>cmpcrack.py</code> nen√≠ √∫plnƒõ nejvhodnƒõji napsan√Ω a jednodu≈°e se m≈Ø≈æe zatoulat kam by nemƒõl. Napi≈°te funkci, kter√° v dan√©m kroku ohodnot√≠ v≈°echna p√≠smena v poli <code>tests</code> a kdy≈æ zjist√≠ ≈æe mezi nimi nen√≠ skoro ≈æ√°dn√Ω rozd√≠l, vr√°t√≠ promƒõnnou <code>guess</code> o p√≠smeno zpƒõt, proto≈æe nejsp√≠≈° do≈°lo k ≈°patn√©mu pokusu. D√≠ky tomu nebudete muset ƒçekat, a≈æ ≈°patn√Ω pokus dos√°hne 10 znak≈Ø a hled√°n√≠ bude resetov√°no.</p>
      <p id="9208fef8-d39d-4bd1-a676-9f0c942e8881" class="">Zkuste navrhnout zp≈Øsob √∫toku na python√≠ oper√°tor porovn√°v√°n√≠. Dok√°≈æete navrhnout metodiku z√≠sk√°n√≠ oƒçek√°van√© d√©lky? Je v≈Øbec mo≈æn√© na <code>_PyString_Eq()</code> za√∫toƒçit?</p>
      <p id="b11c1e85-a674-488f-a517-0c1db9d41744" class="">Pokud budete √∫toƒçit p≈ôes s√≠≈•, nemƒõ≈ôte prvnƒõ milion pokus≈Ø pro jedno p√≠smeno, milion pro druh√© atd, ale pos√≠lejte serveru v≈°echna na st≈ô√≠daƒçku. To v√°m umo≈æn√≠ do jist√© m√≠ry eliminovat fluktuace v zat√≠≈æen√≠ serveru a rozlo≈æit je do v√≠ce znak≈Ø, tak≈æe tolik neovlivn√≠ v√Ωsledky mƒõ≈ôen√≠. Za upozornƒõn√≠ dƒõkuji <a href="http://www.abclinuxu.cz/lide/hrachj">Jendovi</a>.</p>
      <h3 id="b096dae0-68df-43c0-bda9-0f51988506cf" class="">Obrana</h3>
      <p id="5e615a70-a5c4-4f9b-9a0f-6234bdb4a2f5" class="">Pokud nƒõkdy budete ps√°t aplikaci, ve kter√© porovn√°v√°te plaintextov√© heslo, nepou≈æ√≠vejte trivi√°ln√≠ operace pro porovn√°v√°n√≠ ≈ôetƒõzc≈Ø, ale API kter√© v√°m nab√≠z√≠ kryptografick√© knihovny.</p>
      <p id="66608633-d697-4c81-ad8a-3fb1d3757616" class="">Pokud nem√°te dostupn√© podobn√© API, nevytv√°≈ôejte <code>strcmp()</code>, ale <code>strncmp()</code>, kter√° v≈ædy projde cel√Ω string. Dal≈°√≠ mo≈ænost je vlo≈æen√≠ n√°hodn√© umƒõl√© pauzy.</p>
      <p id="e054688d-17dc-471f-846e-67bd33c023f8" class="">√öplnƒõ nejlep≈°√≠m ≈ôe≈°en√≠m je v≈°ak hesla v plaintextu neukl√°dat a pou≈æ√≠vat osolen√© hashe, na kter√© timing attacky nefunguj√≠.</p>
      <h3 id="321703bf-c71e-4990-93da-b772c8aba0f0" class="">Pouƒçen√≠</h3>
      <p id="74859466-67f0-4fc3-9966-8d7862a11bd5" class="">Timing attack je ƒçasto opom√≠jenou chybou, kter√° je ov≈°em docela tƒõ≈æk√° na exploitaci v p≈ô√≠padƒõ, ≈æe se sna≈æ√≠te √∫toƒçit po internetu - vzpome≈àte si na trable s <code>==</code> a vyn√°sobte to poƒçtem nezn√°m√Ωch za≈ô√≠zen√≠ nach√°zej√≠c√≠mi se mezi v√°mi a obƒõt√≠, kter√° se budou sna≈æit co nejoptim√°lnƒõji dynamicky smƒõ≈ôovat traffic, navrch p≈ôidejte i nemo≈ænost pou≈æ√≠t proxy, proto≈æe by vn√°≈°ela do syst√©mu dal≈°√≠ rozost≈ôen√≠.</p>
      <p id="b761f441-a57e-40a6-ba75-94372e3189a7" class="">Velk√Ω u≈æitek tento typ √∫toku najde ve chv√≠l√≠ch, kdy nec√≠l√≠te na slo≈æit√Ω hardware, ale na nƒõco relativnƒõ jednoduch√©ho, jako je jednoƒçip, nebo t≈ôeba DVD p≈ôehr√°vaƒç, ƒçi satelit na orbitƒõ (kde v√°m to ov≈°em zkaz√≠ odezva radiov√© s√≠tƒõ a n√≠zk√° rychlost).</p>
      <p id="2cbfa513-54fc-44de-8542-812183398e89" class="">Co se t√Ωƒçe side channel √∫tok≈Ø, d√°le ji≈æ je pitvat nebudu, pevnƒõ vƒõ≈ô√≠m, ≈æe ka≈æd√Ω kdo chtƒõl pochopil a kdo nepochopil, tomu stejnƒõ dal≈°√≠ informace nepomohou.</p>
      <h2 id="b5242070-8c63-42c2-be45-21a8fc56a36a" class="">Fail2ban</h2>
      <p id="d1fefd54-237a-471f-9777-618a63e2d7d4" class="">Jedn√≠m z nejvƒõt≈°√≠ch nep≈ô√°tel h√°dac√≠ch √∫tok≈Ø je po n√≠zk√© p≈ôenosov√© rychlosti a dlouh√© odezvƒõ tak√© omezen√≠ poƒçtu pokus≈Ø. To se d√° v z√°sadƒõ rozdƒõlit na tyto typy:</p>
      <ol type="1" id="c71c1d40-f812-4ebf-8d39-0169ded92716" class="numbered-list" start="1">
        <li>Omezen√≠ na u≈æivatele</li>
      </ol>
      <ol type="1" id="728d2b9b-d579-4402-94e3-47612b716c3e" class="numbered-list" start="2">
        <li>Omezen√≠ na IP</li>
      </ol>
      <ol type="1" id="37fb035c-5b37-4dfd-bc86-441abe2af3bf" class="numbered-list" start="3">
        <li>Omezen√≠ podle lokace IP</li>
      </ol>
      <h2 id="fed95ba8-5c47-43bc-815a-5aab24f6bed5" class="">Omezen√≠ na u≈æivatele</h2>
      <p id="becf981c-7380-4f92-8d14-3aa9ada89529" class="">Pokud se setk√°te s prvn√≠m typem, jste vy≈ô√≠zen√≠ a nenapad√° mƒõ nic, co by v√°m mohlo pomoct. Po vyzkou≈°en√≠ nƒõkolika pokus≈Ø je u≈æivatel zablokov√°n a vy konƒç√≠te, d√°l m√°te prostƒõ sm≈Ølu a neexistuje zp≈Øsob, jak to obej√≠t.</p>
      <p id="77461bd5-87f0-41bc-8ce2-08ccbbcbf65f" class="">S t√≠mto typem ochrany se na≈°tƒõst√≠ setk√°te jen velmi z≈ô√≠dka u vyj√≠meƒçnƒõ d≈Øle≈æit√Ωch vƒõc√≠, proto≈æe umo≈æ≈àuj√≠ jednoduch√Ω DDOS, kdy zabr√°n√≠te p≈ôihla≈°ov√°n√≠ i legitimn√≠ch u≈æivatel≈Ø, kter√© t√≠m moc nepotƒõ≈°√≠te, tud√≠≈æ vytvo≈ô√≠ tlak na admina, aby syst√©m odstranil.</p>
      <p id="9d8592d6-97c2-4f58-b955-7d325a951409" class="">Tento syst√©m se d√° oƒçek√°vat u banky, nebo zbra≈àov√Ωch syst√©m≈Ø a v≈Øbec celkovƒõ v≈°ude tam, kde je kritick√©, aby se nikdo nedostal dovnit≈ô a pohodl√≠ u≈æivatel≈Ø nen√≠ takovou prioritou.</p>
      <h2 id="50d6fcea-3c02-457d-a594-84c926e1acea" class="">Omezen√≠ na IP</h2>
      <p id="3b982f67-8775-4380-a164-40b67c464f23" class="">Mnohem ƒçastƒõj≈°√≠m, i kdy≈æ st√°le zdaleka ne samoz≈ôejm√Ωm, je syst√©m omezen√≠ poƒçtu pokus≈Ø z jedn√© IP adresy. D√≠ky tomu s velkou ≈°anc√≠ nezablokujete legitimn√≠ u≈æivatele a pokud ano, m≈Ø≈æou prostƒõ p≈ôij√≠t k jin√©mu poƒç√≠taƒçi a zkusit to tam.</p>
      <p id="421af5e5-285c-4a9d-8f32-cb02f47aa7dd" class="">Stejn√Ωm zp≈Øsobem m≈Ø≈æete postupovat i vy - rozprost≈ô√≠t h√°d√°n√≠ mezi poƒç√≠taƒçe botnetu (prvnƒõ to tedy chce nƒõjak√Ω m√≠t ^-^), pou≈æ√≠t proxy servery, zkou≈°et h√°dat jen jeden po≈æadavek za hodinu atp..</p>
      <h2 id="3d6f6adb-a179-4377-a293-f43689e8c105" class="">Omezen√≠ podle lokace IP</h2>
      <p id="ca1d1d06-00b9-4ca4-b93c-3cf383b96672" class="">Tento typ ochrany implementuje t≈ôeba gmail, kdy v√°m nedovol√≠ se jen tak p≈ôihl√°sit z jin√© zemƒõ a vy≈æaduje ovƒõ≈ôen√≠ pomoc√≠ SMS.</p>
      <p id="38e51d19-3ac1-47ad-981b-26e740c19b09" class="">My≈°lenka je prost√° - spousta √∫tok≈Ø na u≈æivatelsk√© √∫ƒçty jde z ciziny, proto blokac√≠ cizinc≈Ø eliminujete vƒõt≈°inu pokus≈Ø.</p>
      <p id="5656f787-a6a7-4309-aedf-704fb9175d56" class="">≈òe≈°en√≠ je je≈°tƒõ prostƒõj≈°√≠ - proxy v zemi u≈æivatele.</p>
      <h2 id="00bc8b70-9962-4864-8af5-d71c68bb4f33" class="">Parametry banu</h2>
      <p id="c4e4629b-81ee-42cb-bdb7-96b5958b21e4" class="">Je d≈Øle≈æit√© si uvƒõdomit, ≈æe ka≈æd√Ω ban m√° jasnƒõ dan√© parametry, kter√© pot≈ôebujete zjistit, abyste mohli syst√©m banov√°n√≠ obej√≠t.</p>
      <h3 id="17f69c5f-e4ef-4db1-a870-54e2bd89d6a9" class="">Poƒçet pokus≈Ø</h3>
      <p id="d91b8ce1-0a17-4aac-b28d-7cfa55d60ad8" class="">Jedn√≠m z nejd≈Øle≈æitƒõj≈°√≠ch parametr≈Ø je samoz≈ôejmƒõ poƒçet pokus≈Ø, kter√© m≈Ø≈æete vyzkou≈°et ne≈æ chytnete ban. Typicky to b√Ωv√° nƒõkde mezi 5 a≈æ 10.</p>
      <h3 id="c9d867c1-7a9a-4249-9d17-1657013013ad" class="">ƒåasov√° jednotka</h3>
      <p id="2447e963-2086-4a63-95e8-e65b2dfaad77" class="">Dal≈°√≠m d≈Øle≈æit√Ωm parametrem je samoz≈ôejmƒõ doba, kterou na pokusy m√°te. M≈Ø≈æe se jednat o vte≈ôiny a≈æ minuty, jen z≈ô√≠dka jde o hodiny, ƒçi dny.</p>
      <h3 id="81b37b58-e88c-4cfb-ba3e-0c59ddf84d82" class="">Na jak dlouho</h3>
      <p id="6a59ed92-bdfa-414c-a2dc-5e19a10ac6c4" class="">Jakmile ban dostanete, d≈Øle≈æit√° informace je za jak dlouho p≈ôestane platit a zda se to nƒõjak stup≈àuje, tedy ≈æe poprv√© dostanete na hodinu, podruh√© na dvƒõ a pot≈ôet√≠ na cel√Ω den.</p>
      <h2 id="c27de8b0-f123-46c9-8084-de2f23deb000" class="">Z√°vƒõr</h2>
      <p id="12409564-60fe-4465-bab1-b33b955d9612" class="">Zat√≠mco bruteforce se d√° p≈ôirovnat k oslovov√°n√≠ v≈°ech ≈æen, kter√© jdou po ulici n√°hodn√Ωmi vƒõtami, dictionary je podstatnƒõ √∫ƒçinnƒõj≈°√≠, proto≈æe zkou≈°√≠te na konkr√©tn√≠ ≈æenu vƒõci, o kter√Ωch se obecnƒõ v√≠, ≈æe na ≈æensk√© zab√≠raj√≠, tedy r≈Øzn√© lichotky a vtip.</p>
      <p id="72cbcdf6-6844-4d7a-a30d-be47cc92c6fc" class="">Dictionary s vlastn√≠m, na m√≠ru dƒõlan√Ωm slovn√≠kem je jako kdy≈æ si prvnƒõ o dann√© ≈æenƒõ zjist√≠te v≈°echny dostupn√© informace a nastudujete si jednotliv√© detaily o obl√≠ben√Ωch filmech a knih√°ch, tak≈æe ≈æenu m≈Ø≈æete bavit vƒõcmi, kter√© m√° r√°da a kter√© se j√≠ l√≠b√≠, st√°le v≈°ak nem√°te jistotu, ≈æe v√°s nebude br√°t jen jako kamar√°da.</p>
      <p id="1d1f9510-9f5c-4e2d-8bda-e010b23a0820" class="">Side-channel √∫toky jsou techniky, kter√© dok√°≈æe pou≈æ√≠t jen zku≈°en√Ω sv≈Ødn√≠k, jen≈æ um√≠ vyhodnotit ka≈æd√Ω podvƒõdom√Ω pohled ≈æeny, to jak se j√≠ zachvƒõje sval nad √∫sty, jak pohne nosem, jak jej√≠ ≈æ√≠la na krku zaƒçne viditelnƒõ rychleji pulzovat, jak√Ω zaujme postoj a jak se zasmƒõje. S√°m p≈ôitom neust√°le zkou≈°√≠ mƒõnit vlastn√≠ postoje tak, aby je zkorigoval s co nejpozitivnƒõj≈°√≠ reakc√≠ a po chvilce doslova krm√≠ ≈æenu zpƒõtnou vazbou tak, aby vyvolal co nejlep≈°√≠ dojem. K tomu aby mohl nƒõco takov√©ho prov√©st v≈°ak pot≈ôebuje kromƒõ talentu tak√© mnoho zku≈°enost√≠ a detailn√≠ povƒõdom√≠ o tom, jak ≈æeny funguj√≠, proto to zvl√°d√° jen pomƒõrnƒõ m√°lo lid√≠.</p>
      <h2 id="e3c35e48-08ac-4ea9-9c87-c15b98d3aca4" class="">Kontakt</h2>
      <p id="61c8a8bd-4029-403a-875e-dc0cd07b882b" class="">ƒål√°nek jsem napsal, proto≈æe chci a m≈Ø≈æu. Pokud se to nƒõkomu nel√≠b√≠, m≈Ø≈æete si stƒõ≈æovat na <a href="http://necyklopedie.wikia.com/wiki/Lamp%C3%A1rna">lamp√°rnƒõ</a>, nebo do zdi.</p>
      <p id="461a6fcf-1ecd-4ae5-8075-2835cbcde403" class="">Pokud m√°te nƒõjak√© konstruktivn√≠ p≈ôipom√≠nky, nebo si chcete o ƒçl√°nku pokecat, m≈Ø≈æete mi napsat na:</p>
      <ul id="2b9ce547-e8fd-4614-a728-14526fdbb282" class="bulleted-list">
        <li style="list-style-type:disc">bystrousak@kitakitsune.org</li>
      </ul>
      <p id="d137d681-c84e-4658-90c6-b19dc0d0aaea" class="">Hackovat nikoho uƒçit nebudu, tak to ani nezkou≈°ejte, podobn√© maily ma≈æu bez odpovƒõd√≠, obzvl√°≈°≈• blb√Ωm ≈æ√°dostem se ve≈ôejnƒõ vysm√≠v√°m na IRC.</p>
      <h2 id="61c95fd5-e665-46db-a873-632fb11ab6b7" class="">Licence</h2>
      <p id="5bfb9a65-1bfe-4c03-839f-6abde59acb0b" class="">Tento ƒçl√°nek chce b√Ωt svobodn√Ω, proto ho ≈°i≈ôte jak se v√°m zl√≠b√≠, ov≈°em v nezmƒõnƒõn√© podobƒõ. Byl bych v≈°ak r√°d, kdybych na to byl ≈°i≈ôitelem upozornƒõn, ƒçistƒõ proto, ≈æe tak naraz√≠m na zaj√≠mav√° m√≠sta.</p>
      <h2 id="541a3b2a-047f-4347-ae6b-7dfabee97998" class="">P≈ô√≠loha</h2>
      <pre class="code"><code><span class="ch">#!/usr/bin/env python</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1">#</span>
<span class="c1"># czcube_server.py v1.0.0 (09.10.2012) by Bystroushaak (bystrousak@kitakitsune.org)</span>
<span class="c1">#</span>
<span class="c1">#= Imports =====================================================================</span>
<span class="kn">import</span> <span class="nn">sha</span>
<span class="kn">import</span> <span class="nn">md5</span>
<span class="kn">import</span> <span class="nn">zlib</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">socket</span>
<span class="kn">from</span> <span class="nn">Crypto.Cipher</span> <span class="kn">import</span> <span class="n">AES</span>



<span class="c1">#= Variables ===================================================================</span>
<span class="n">HOST</span> <span class="o">=</span> <span class="s1">''</span>
<span class="n">PORT</span> <span class="o">=</span> <span class="mi">2222</span>


<span class="c1"># data v AES, jediny zpusob jak se k nim dostat je mit spravne heslo..</span>
<span class="n">PASSH</span>  <span class="o">=</span> <span class="s2">"17a3e23201798c2f72e1bdb1537e7721"</span>
<span class="n">MSG</span>    <span class="o">=</span> <span class="s2">"""</span>
<span class="s2">mJqBQVYOewOT0b6wOCcaQd+MfW/PSz76qyquyNE8P9CXWUEAvJwsUSZU5gBA9YEttoZy2Jsf8pJ63d0u</span>
<span class="s2">xiIM3OUufPGapMYM27aPgTpTHB+IGFfLJ5LEwRIdPaEx5pyxVDkpr+VA2qYGCMU+aZv6T9FgHLELO6JA</span>
<span class="s2">nV6Qo76wYp2SxcRItw/QBTTl2+DSRDKBxchIgK9UA7v2B6Lh1+CBWh16AdpUx8+Ge93fzfdYIxp/p/rW</span>
<span class="s2">SFDKMP+BiwTCCgRzdIJz1tfXbqb4mlO81aIdP+b3xo0qJs4IKZu2PQ0G5tiBj2TcWS9M6/4/7V7bfBPJ</span>
<span class="s2">4bmpM9UBHFugm/cEkh7DW3B1lD7EaVUWU/cl/ZFvq0fnPEhgDLDfqfZKrB4WS9bwKVG0dOvW8XfwDQT4</span>
<span class="s2">MDhThzlqvk7O8Jxnvj2t0r9vTKssHFp+Y76HYAKYj/r2LDzvgZm1UJEAGhWZ+YX/F1jy+vGzMuZ4Cnqr</span>
<span class="s2">H0p4J+RhAylZPlgMjISzk10XDwrSqb3pcgg+ncGhN7MbFwjP5gc2/VSuKsm0fkAAkHa1pJCyq3PSjm36</span>
<span class="s2">GMvMvoQoUCszQAl1eiq2oOLagCm2SskMICOTFPfefYSRt7y0QSTEo8/Q6mELogo/0faS9nWasEdWKpYF</span>
<span class="s2">gWTlj/3JomqnBx2+kBeh+kNSOcJMfirrVBFv0Ma9s7aZ2lvuObcvsAeZnb65gev5E1QO1Vul/rVIyw6T</span>
<span class="s2">lxwlEFRlJC95rxigdg5LPKYi35LdNPW1jRxAqW7xWIE5OlFVFdvHi8aMpm13dN7pxF1gF662Cfs5K5K/</span>
<span class="s2">Yascxt3NvCw5KqCJAAE9ANzBA9Oo0U8R7Uw7TrPg5ynSkgGEQ1oCPfVkAWVlxWkv5LAMyhJZKMD4DEgC</span>
<span class="s2">YCtEsImiwzCANvMkiSEii6SCp5XuP10oTEmL8DM7LwdffyLX5CahjEw1VkEsAyWVxnEy7YYUQS+wMcR0</span>
<span class="s2">SYEE6HFEQxuancZBSmARCM+oLYMNs2TtHcsdd7uVT4ilkkEmqrJ1JtN5ZFzUO7SOehy41LMe6bWUxKcz</span>
<span class="s2">E+UqubcC6vB+bc2V2zKdXsIiJ6SaD18qwtGFSstcoIF+dYLeRbE4/3twpjovNmfwS8hh0QrnMNmb52DE</span>
<span class="s2">YcPePAL/6X0Sg11y323NP8JYat8jdERNaRArAfz3yQUKAZq0h66Zi67CpJyqhvmM0TlV33hl8ThOBCeb</span>
<span class="s2">R/+ytHexwrHWInD1dns2HMftJCZN3GCsEJjD5qfePS4xisARGVs28Lm/y2/8TVDnYxrUln3GUQf/C3xa</span>
<span class="s2">LHUCxMwdT9gLfBrceNQrJ3oBXQNIMKXyrthV44xlwVgJ+Ri96OinyHjGxKv3/R6myzkddcgW/9RFLSOK</span>
<span class="s2">A9YxQ5GXscebfd3bEj4F7ErkuLwgCFg0013IGAHRoOMnuZQebfzdqPt1K+xUx+XvZbqBQlNXrVA83w7k</span>
<span class="s2">aehkanLClBtPsw/frGMepkQdpMAhgMgeN3YDfC+cdbWeVliY+wNqFaANK+LmflZOw9JM6W0ymigvWxK7</span>
<span class="s2">SqpOBXFOKJ+d6WS/Dw3ScBuja4uUFv4KEDuQfu+BLyznRILMKTwscO5ImHObgj9fVX+I+1KIG3m4le/t</span>
<span class="s2">UUZxiEgxz4I0feNsbHWnNdjhwU0x5K/u8L5FGuZWarAJIPSwB0CyPt9/FPpdI4yRpMJ7ZfxDTmN4f++0</span>
<span class="s2">3DS16bD+ozFgl5CwIzl9j8viCm+CyCs6IWZdIoBurBuK90fXIinhnYrvRudzPN0vdMtwn1rz82BUdkAc</span>
<span class="s2">lKJWh/IM3FqBoJ5WXV1BOt7Ivm9bvKt0PJDkyWT3BkviT2XayW+7CFIfYmPxhiFqPzq59WmNib4raYo3</span>
<span class="s2">XfJiKdMrS1WVJZnk1ORNONJ4SAcFYqPnDyKS68cs5y3Vn0FmFUPsSkOQFnQi4gSaAMUVHHHemhgbNP7H</span>
<span class="s2">r0LJLifQNbSMjaCP9eeiGueatOQCf/7y0Fx25WhSJFAM/Goo57cvj24BrsqKPvKn0nDPzYpGduDuT4ZR</span>
<span class="s2">9fCcTVHEASrttIkvJqiq/LScM81CZ6g2z05z24MFI6GWRu93Dqwu2iCrixoClnp7Sq0lE02kpvB2meLz</span>
<span class="s2">PbkJrGR388IWpXYzWr8L9jCulJjH1YHBwcj8UpVqxR+zGu4PDdzhFZlbbeSx/8ZIw+9xlxIgbiaUti4x</span>
<span class="s2">EgzIvoW90EYYgfObPYS7GJgIvll6JUPbDXHeRJxkzIb3tkeZY/w/MgXqUEoJiSuj6CkqrQB84wcb2ntC</span>
<span class="s2">IddhC3FzzTXjTOijOVi+3c3d66ZdJCin2wvUgyHzj+DyAtwTrD2btIwamkO0XoDbvayGycqE6ttA+Tg3</span>
<span class="s2">mPaiOtbI3yk7pVhwCPwlM18EVPkQ0e2sFHecHcboF/frJmLHW/t4ras++NymwXHdPjA4KiRxe0G1qz0K</span>
<span class="s2">lBI5xuyAdg+KuxfMOoHnl2/Vn9McxGdbwJwYgElVFKUzccj1KIwDu5Z5TA84DAvVaqHqd7Py+7wVpeKg</span>
<span class="s2">NMUUzj663k1+kOyBoXxWLOeuLMknj6ic73hjnmzEofuJNUt6vTFQGfUL2+/P3+09jsqQzfjQJ9kvkuzc</span>
<span class="s2">gOTuk4HZ7DO6qnsJo0oZPIvbmMFlXi3DLgIsb1HZJHGz4lhv+2m7exY5RXilvp7lJaQXE5Z+wUZU3rJd</span>
<span class="s2">KRf2yhrnAGjbsHsNpEd6JWIGK8Y3Y237EBFUklVYcc6s0a7v/+SR0oeG0Q8KHyYNYZ4Yn7Ss+phA201H</span>
<span class="s2">V0CXbElbdPbUV3voH4nyXU2hlmdAqW+1alLv5E80QiEwvYVZiLrHBeCg2mTArQWw5eNWs0c51yNXdhuu</span>
<span class="s2">rXsXhikXzLFCKK98WCLi5+2KDOld7i2w/gDJRBCowMGZHVPIaX2bLyz00sqnOjt5XFc6aEQ6Ni5REE3S</span>
<span class="s2">y9PCR0SPE+Tfv/H60/mQQzIPNoSGQfjEBNRelBFQ8rwSgWkeKq14nyn99qaVzeC7Fo36WfHeLWXASbwN</span>
<span class="s2">GvEwBoTda46BaNWoHriIFBL3VJl8TRk2xlvljR4eZs5DYQ7SPYNN1sygf3MLA8VVZ6SPawO9VENvAWlJ</span>
<span class="s2">0ivMQKNuZHufhohiEuk3aif10eVFclYdX02Pl6r90WKpar+3z7ukr+lkjTTRFuNAAlEjnMBC/aqJIRby</span>
<span class="s2">JdgSGyo3QaRADPF7Ytp89qwDpPHmWsTI/WrumF3yRmLtX3/38RqiTlEpVAeMrxoz+u20Qp56lMHiKG6B</span>
<span class="s2">Vzl04jdVRpAF8pt/PA+6QJwW1drszr8ruK7vVKSoMeAS2xR8kd9/l6diwxWxf9eJ4na3cKiw3KamtfsK</span>
<span class="s2">ZjbixKTUfkrQViz3AEXqTTP9y/QCrqQ40vbW4ndvC7WwZX/x/E95YRhsNu9G4OpjYcNmtSma6YV8pM3D</span>
<span class="s2">YToAL3ackqqXnSigM1BeDgBAbsADztg6tFTlhNIddfBo+IGyD4GO+65RzLdg7QwJ+3utBZzpNJ289vjT</span>
<span class="s2">nJCMiGHxjyg8IZO4nY6LoiHM7obimEGeb1RocdJGHB4/UpEutsG2qHk0NjQzU0kTtbjHupx8Ki9Izhpn</span>
<span class="s2">jQuIxZpOSeEy7jbLDu50ZaFFwtHI7cNEReH2d8QTQx5LrT/KnGOiGr5Wr660KcP0SvTzwoyrSXkbvJ+2</span>
<span class="s2">m1ni3H6M2YIIGgtwptiyfQbFi2oZ8bDuBWMALCWpSBt3BvCkXJ/xqC5xporC3reBfMAv4SXKgKY+F5DL</span>
<span class="s2">u90spkqVOWMWQYs+jkDyUlfcMgmK97CTI1nfD6b4ZcTNiAD3zwh+WcU2TRfNGRsWSotqT/DkZfiw5eQ9</span>
<span class="s2">AYMV8QGyFEZi/LqyLLCkuycdDLAJQjfEmngA3UWdWsXn8ljBg5nGMNw6PN70KXP090166T9zYXFeYVEV</span>
<span class="s2">k9d2LAFRjOIknFvo8eilzH/mfEy+xC106DDpG0XPMkKzGJYqAx3+PtCdaDjUidVZqE+GuH4AG+X37Xub</span>
<span class="s2">LJIJpyhbnkdHAtLSizw5zd3Rj2fxnLFxD00wwJ7MuiY0d5WOulY0NWNjQMz5WhX3QmVCRJbFUh6To+8o</span>
<span class="s2">PCaWkvXOxGtzC8yEbgubFxI+9qCSss/DgWMC68Mf/F3SUJiXirn5EwtkRlg3L9pt5r2Aa94cZ4HmOC3T</span>
<span class="s2">CX7FFZ6P7AOkpv7JAHRWy+Yf1BwCsf2TBu4Hbixg+f/8Wm43tnxhUDqvQrXhMkfMKM6BwGgZY4s5+sLG</span>
<span class="s2">38Y1lVAF5hBQr/Sp7Nts4Hna+vuxorlJINbxcT2ZxHiZ37Pc+tnDyv86ABOKcpiVNQlAmFJVUE6M/j1c</span>
<span class="s2">GtpgTbB+FDavl3rpuD+O01mQg9nVl6MmiKdCw6ZTQUY9KGzVeWhzsahi3A1FTqPVLfHiUq6pcETuf1ek</span>
<span class="s2">dgHbxogGhTAJhL0yJZA9ZMX+d0Snt1188CvnWZ88IFrkiR+7jiUKTT2JfpxFWaF3o9FJdbu+3Y4GyRE/</span>
<span class="s2">gEQ5QrfgBPmAARNDKDKWlxr9+AFh5TIVunESa2JLbl8iR5EkiA0eEtUsyJzmyPD2I8/C8AD91FHMFYEE</span>
<span class="s2">fjjOwOxB6jSWbq5cygPg5cNL3GeQ6Fn8V2raxKs9xKkck8v0+KhcdM70RQtHG8oYwOR3IuUuilsJsw96</span>
<span class="s2">DcNeIpY1hU2pVwZ641Dufbe30eE6gnTI</span>
<span class="s2">"""</span>



<span class="c1">#= Functions & objects =========================================================</span>
<span class="k">def</span> <span class="nf">decdata</span><span class="p">(</span><span class="n">passwd</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
    <span class="n">aes</span> <span class="o">=</span> <span class="n">AES</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">passwd</span><span class="p">,</span> <span class="n">AES</span><span class="o">.</span><span class="n">MODE_CFB</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">aes</span><span class="o">.</span><span class="n">decrypt</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">MSG</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">getHash</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">salt</span><span class="p">):</span>
    <span class="n">passwd</span>  <span class="o">=</span> <span class="n">sha</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
    <span class="n">passwd2</span> <span class="o">=</span> <span class="n">passwd</span><span class="p">[:</span><span class="mi">20</span><span class="p">]</span> <span class="o">+</span> <span class="n">salt</span>
    <span class="n">passwd</span>  <span class="o">=</span> <span class="n">salt</span> <span class="o">+</span> <span class="n">passwd</span><span class="p">[</span><span class="mi">20</span><span class="p">:]</span> <span class="o">+</span> <span class="n">salt</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="n">passwd</span> <span class="o">+=</span> <span class="n">sha</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">passwd</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">4</span><span class="p">)))</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
        <span class="n">passwd2</span> <span class="o">+=</span> <span class="n">md5</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">passwd</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">7</span><span class="p">)))</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">md5</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">passwd</span> <span class="o">+</span> <span class="n">passwd2</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>



<span class="c1">#= Main program ================================================================</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">setsockopt</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">SOL_SOCKET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SO_REUSEADDR</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">bind</span><span class="p">((</span><span class="n">HOST</span><span class="p">,</span> <span class="n">PORT</span><span class="p">))</span>
<span class="n">s</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>


<span class="k">while</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">conn</span><span class="p">,</span> <span class="n">addr</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
        <span class="nb">print</span> <span class="s2">"Client"</span><span class="p">,</span> <span class="n">addr</span><span class="p">,</span> <span class="s2">"connected."</span>

        <span class="k">try</span><span class="p">:</span>
                <span class="k">while</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">conn</span><span class="o">.</span><span class="n">sendall</span><span class="p">(</span><span class="s2">"czCube password: "</span><span class="p">)</span>

                        <span class="n">password</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">recv</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="n">password</span><span class="p">:</span>
                                <span class="k">break</span>

                        <span class="n">password</span> <span class="o">=</span> <span class="n">password</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">password</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
                                <span class="n">password</span> <span class="o">=</span> <span class="n">password</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>

                        <span class="k">if</span> <span class="n">getHash</span><span class="p">(</span><span class="n">password</span><span class="p">,</span> <span class="mi">124</span><span class="p">,</span> <span class="s2">"password_hash"</span><span class="p">)</span> <span class="o">==</span> <span class="n">PASSH</span><span class="p">:</span>
                                <span class="nb">print</span> <span class="s2">"Client authenticated."</span>
                                <span class="n">conn</span><span class="o">.</span><span class="n">sendall</span><span class="p">(</span>
                                        <span class="s2">"</span><span class="se">\n\n</span><span class="s2">"</span> <span class="o">+</span>
                                        <span class="n">zlib</span><span class="o">.</span><span class="n">decompress</span><span class="p">(</span><span class="n">decdata</span><span class="p">(</span><span class="n">getHash</span><span class="p">(</span><span class="n">password</span><span class="p">,</span> <span class="mi">124</span><span class="p">,</span> <span class="s2">"data_hash"</span><span class="p">),</span> <span class="n">MSG</span><span class="p">))</span> <span class="o">+</span> 
                                        <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span>
                                <span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                                <span class="nb">print</span> <span class="s2">"Authentication failed (password '"</span> <span class="o">+</span> <span class="n">password</span> <span class="o">+</span> <span class="s2">"')"</span>
                                <span class="n">conn</span><span class="o">.</span><span class="n">sendall</span><span class="p">(</span><span class="s2">"Wrong password "</span> <span class="o">+</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">password</span><span class="p">)</span> <span class="o">*</span> <span class="s2">"*"</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"!</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">socket</span><span class="o">.</span><span class="n">error</span><span class="p">:</span>
                <span class="k">pass</span>
        
        <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="nb">print</span> <span class="s2">"Client"</span><span class="p">,</span> <span class="n">addr</span><span class="p">,</span> <span class="s2">"disconnected."</span>
</code></pre>
      <p id="3e430c1f-e827-4ca9-9d1b-2d3d76da2650" class=""></p>
    </div>
  </article>
  <div class="corner-ribbon top-right red">
    <a href="https://www.patreon.com/bePatron?u=2618881">Become a Patron</a>
  </div><a class="twitter-share-button" id="twitter_button" href="#"><img src="../../tweet_button.svg"></a>
  <div id="sidebar_bottom">
    <span><a href="https://blog.rfox.eu/atom_cz.xml"><img style="width: 3em;" src="../../rss_icon.png"></a> &nbsp; &nbsp; <a href="https://twitter.com/Bystroushaak"><img style="width: 3em;" src="../../twitter_icon.png"></a></span>
    <div id="last_five_bottom">
      <h3>New posts</h3>
      <ul>
        <li>
          <a href="../Povidky/Software.html" title="Software">Software</a>
        </li>
        <li>
          <a href="../Ostatni/Paromobilita_je_budoucnost.html" title="Paromobilita je budoucnost">Paromobilita je budoucnost</a>
        </li>
        <li>
          <a href="../Ostatni/Algoritmus_hledani_programatorske_prace_2021-4.html" title="Algoritmus hled√°n√≠ program√°torsk√© pr√°ce 2021/4">Algoritmus hled√°n√≠ program√°torsk√© pr√°ce 2021/4</a>
        </li>
        <li>
          <a href="../3D_tisk/Nastaveni_Blenderu_pro_3D_tisk.html" title="Nastaven√≠ Blenderu pro 3D tisk">Nastaven√≠ Blenderu pro 3D tisk</a>
        </li>
        <li>
          <a href="../3D_modelovani/Geometricky_stred_Prahy.html" title="Geometrick√Ω st≈ôed Prahy">Geometrick√Ω st≈ôed Prahy</a>
        </li>
        <li>
          <a href="../../Utrzky/Posta_poezie.html" title="Po≈°ta (poezie)"><span class="icon">üóíÔ∏è</span>Po≈°ta (poezie)</a>
        </li>
        <li>
          <a href="../Ostatni/Statni_zklamani.html" title="St√°tn√≠ zklam√°n√≠">St√°tn√≠ zklam√°n√≠</a>
        </li>
        <li>
          <a href="../3D_tisk/3D_TODO_list_1_Drzak_na_sluchatka.html" title="3D TODO list 1; Dr≈æ√°k na sluch√°tka">3D TODO list 1; Dr≈æ√°k na sluch√°tka</a>
        </li>
        <li>
          <a href="../Ostatni/Dva_podvodnici.html" title="Dva podvodn√≠ci">Dva podvodn√≠ci</a>
        </li>
        <li>
          <a href="../3D_tisk/3D_tiskarna_Prusa_MK3S_sestaveni_a_prvni_tisk.html" title="3D tisk√°rna Pr≈Ø≈°a MK3S+; sestaven√≠ a prvn√≠ tisk">3D tisk√°rna Pr≈Ø≈°a MK3S+; sestaven√≠ a prvn√≠ tisk</a>
        </li>
      </ul>& <a href="../../Zmeny.html" title="Zmƒõny">more</a>
    </div>
    <div>
      <h3>Tagy</h3>
      <p><a href="../../Tagy/cracking.html" title="cracking">cracking</a>, <a href="../../Tagy/programovani.html" title="programovani">programovani</a>, <a href="../../Tagy/python.html" title="python">python</a></p>
    </div>
    <div>
      <h3>Blog categories</h3>
      <ul class="no_icon">
        <li>
          <a href="../Povidky.html" title="Pov√≠dky">üìÇ Pov√≠dky</a>
        </li>
        <li>
          <a href="../3D_modelovani.html" title="3D modelov√°n√≠">üìÇ 3D modelov√°n√≠</a>
        </li>
        <li>
          <a href="../3D_tisk.html" title="3D tisk">üìÇ 3D tisk</a>
        </li>
        <li>
          <a href="../Programovani.html" title="Programov√°n√≠">üìÇ Programov√°n√≠</a>
        </li>
        <li>
          <a href="../Crypto.html" title="Crypto">üìÇ Crypto</a>
        </li>
        <li>
          <a href="../Ostatni.html" title="Ostatn√≠">üìÇ Ostatn√≠</a>
        </li>
        <li>
          <a href="../Knihy.html" title="Knihy">üìÇ Knihy</a>
        </li>
        <li>
          <a href="../Predstaveni.html" title="P≈ôedstaven√≠">üìÇ P≈ôedstaven√≠</a>
        </li>
        <li>
          <a href="../Abclinuxu.html" title="Abclinuxu">üìÇ Abclinuxu</a>
        </li>
        <li>
          <a href="../Hardware.html" title="Hardware">üìÇ Hardware</a>
        </li>
        <li>
          <a href="../Hrbitov.html" title="H≈ôbitov">üìÇ H≈ôbitov</a>
        </li>
        <li>
          <a href="../index.html" title="Czech section">üìÇ Czech section</a>
        </li>
      </ul>
    </div>
  </div>
</body>
</html>
