<!DOCTYPE html>
<html>
<head>
  <meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.2.0">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Jak se pÃ­Å¡e programovacÃ­ jazyk 2: Lexer</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css">
  <link rel="alternate" type="application/atom+xml" href="https://blog.rfox.eu/atom_cz.xml">
  <link rel="shortcut icon" href="/favicon.ico">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@Bystroushaak">
  <meta name="twitter:creator" content="@Bystroushaak">
  <meta name="twitter:title" content="Jak se pÃ­Å¡e programovacÃ­ jazyk 2: Lexer">
  <meta name="twitter:description" content="V pÅ™edchozÃ­ ÄÃ¡sti (Jak se pÃ­Å¡e programovacÃ­ jazyk 1: Motivace) jsem popsal motivaci, jenÅ¾ mÄ› zavedla na trnitou cestu vÃ½vojÃ¡Å™Å¯ vlastnÃ­ho jazyka. V dneÅ¡nÃ­ ÄÃ¡sti se podÃ­vÃ¡me na to jak vlastnÄ› mÃ¡ mÅ¯j jazyk vypadat a taky se na prvnÃ­ a pravdÄ›podobnÄ› nejjednoduÅ¡Å¡Ã­ komponentu: lexer.">
  <meta name="twitter:image" content="https://blog.rfox.eu/cz/Programovani/Jak_se_pise_programovaci_jazyk/Jak_se_pise_programovaci_jazyk_2_Lexer/self_syntax_overview_thumb.jpg">
  <script src="../../../scripts.js">
  </script>
  <meta name="description" content="V pÅ™edchozÃ­ ÄÃ¡sti (Jak se pÃ­Å¡e programovacÃ­ jazyk 1: Motivace) jsem popsal motivaci, jenÅ¾ mÄ› zavedla na trnitou cestu vÃ½vojÃ¡Å™Å¯ vlastnÃ­ho jazyka. V dneÅ¡nÃ­ ÄÃ¡sti se podÃ­vÃ¡me na to jak vlastnÄ› mÃ¡ mÅ¯j jazyk vypadat a taky se na prvnÃ­ a pravdÄ›podobnÄ› nejjednoduÅ¡Å¡Ã­ komponentu: lexer."><!-- Global site tag (gtag.js) - Google Analytics -->

  <script src="https://www.googletagmanager.com/gtag/js?id=UA-142545439-1">
  </script>
  <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'UA-142545439-1');
  </script>
</head>
<body onload="on_body_load();">
  <div id="sidebar_top">
    <span><a href="https://blog.rfox.eu/atom_cz.xml"><img style="width: 3em;" src="../../../rss_icon.png"></a> &nbsp; &nbsp; <a href="https://twitter.com/Bystroushaak"><img style="width: 3em;" src="../../../twitter_icon.png"></a></span>
    <div id="last_five_top">
      <h3>New posts</h3>
      <ul>
        <li>
          <a href="../../Predstaveni/GPT-3.html" title="GPT-3">GPT-3</a>
        </li>
        <li>
          <a href="https://blog.rfox.eu/atom_cz.xml">VytvoÅ™en novÃ½ Atom (RSS) feed pro Äeskou sekci</a>
        </li>
      </ul>
    </div>
    <div id="links_from_other_pages">
      <h3>Links to this page:</h3>
      <ul>
        <li>
          <a href="Jak_se_pise_programovaci_jazyk_1_Motivace.html" title="Jak se pÃ­Å¡e programovacÃ­ jazyk 1: Motivace">Jak se pÃ­Å¡e programovacÃ­ jazyk 1: Motivace</a>
        </li>
      </ul>
    </div>
    <div>
      <h3>Blog categories</h3>
      <ul class="no_icon">
        <li>
          <a href="../../Programovani.html" title="ProgramovÃ¡nÃ­">ğŸ“‚ ProgramovÃ¡nÃ­</a>
        </li>
        <li>
          <a href="../../Povidky.html" title="PovÃ­dky">ğŸ“‚ PovÃ­dky</a>
        </li>
        <li>
          <a href="../../Knihy.html" title="Knihy">ğŸ“‚ Knihy</a>
        </li>
        <li>
          <a href="../../Predstaveni.html" title="PÅ™edstavenÃ­">ğŸ“‚ PÅ™edstavenÃ­</a>
        </li>
        <li>
          <a href="../../Ostatni.html" title="OstatnÃ­">ğŸ“‚ OstatnÃ­</a>
        </li>
        <li>
          <a href="../../Abclinuxu.html" title="Abclinuxu">ğŸ“‚ Abclinuxu</a>
        </li>
        <li>
          <a href="../../Hrbitov.html" title="HÅ™bitov">ğŸ“‚ HÅ™bitov</a>
        </li>
        <li>
          <a href="../../index.html" title="Czech section">ğŸ“‚ Czech section</a>
        </li>
      </ul>
    </div>
  </div><a class="breadcrumb" href="../../../index.html" title="Bystroushaak's blog">Bystroushaak's blog</a> / <a class="breadcrumb" href="../../index.html" title="Czech section">Czech section</a> / <a class="breadcrumb" href="../index.html" title="ProgramovÃ¡nÃ­">ProgramovÃ¡nÃ­</a> / <a class="breadcrumb" href="index.html" title="Jak se pÃ­Å¡e programovacÃ­ jazyk">Jak se pÃ­Å¡e programovacÃ­ jazyk</a> / Jak se pÃ­Å¡e programovacÃ­ jazyk 2: Lexer
  <article id="9524512c-8edc-4049-b39e-5b512821d5ee" class="page sans">
    <header>
      <h1 class="page-title">Jak se pÃ­Å¡e programovacÃ­ jazyk 2: Lexer</h1>
    </header>
    <div class="page-body">
      <p id="c864860e-9b70-46e5-b852-41fd1131b488" class=""><time>@2019/02/09</time></p>
      <p id="5f2c0a54-ca38-440b-a5d9-69db0750c99a" class="">V pÅ™edchozÃ­ ÄÃ¡sti (<a href="Jak_se_pise_programovaci_jazyk_1_Motivace.html" title="Jak se pÃ­Å¡e programovacÃ­ jazyk 1: Motivace">Jak se pÃ­Å¡e programovacÃ­ jazyk 1: Motivace</a>) jsem popsal motivaci, jenÅ¾ mÄ› zavedla na trnitou cestu vÃ½vojÃ¡Å™Å¯ vlastnÃ­ho jazyka. V dneÅ¡nÃ­ ÄÃ¡sti se podÃ­vÃ¡me na to jak vlastnÄ› mÃ¡ mÅ¯j jazyk vypadat a taky se na prvnÃ­ a pravdÄ›podobnÄ› nejjednoduÅ¡Å¡Ã­ komponentu: <em>lexer</em>.</p>
      <h1 id="8b20632d-d3a1-4428-9fba-071aee8b6a86" class="">Self</h1>
      <p id="35bfa657-671b-4658-b31f-e45f2fbdfe8c" class="">ZÃ¡kladnÃ­ syntaxi Selfu dobÅ™e popisuje nÃ¡sledujÃ­cÃ­ obrÃ¡zek:</p>
      <figure id="8772dd13-3403-4daa-bfde-5edbd6d41144" class="image">
        <a href="Jak_se_pise_programovaci_jazyk_2_Lexer/self_syntax_overview.png" title="self_syntax_overview.png"><img style="width:1640px" src="Jak_se_pise_programovaci_jazyk_2_Lexer/self_syntax_overview_thumb.jpg"></a>
      </figure>
      <p id="53b667d9-a548-42fd-a028-cef2344665c1" class="">Pokud by vÃ¡s zajÃ­maly podrobnosti, doporuÄuji <a href="https://en.wikipedia.org/wiki/Self_(programming_language)#Description">anglickou wikipedii</a>, <a href="http://handbook.selflanguage.org/">Self handbook</a>, Äi mÅ¯j paralelnÄ› vychÃ¡zejÃ­cÃ­ <a href="../Serial_o_Selfu.html" title="SeriÃ¡l o Selfu"><span class="icon">ğŸ“‚</span>SeriÃ¡l o Selfu</a>.</p>
      <h1 id="0a6fd39f-fc58-4c70-9004-c0f8b81b7385" class="">tinySelf</h1>
      <p id="85b76b84-dddf-405a-9136-ff09dc65637e" class="">tinySelf, jak jsem se kdysi nerozvÃ¡Å¾nÄ› (ukÃ¡zalo se, Å¾e stejnÄ› pojmenovanÃ½ projekt uÅ¾ kdysi existoval) rozhodl mÅ¯j jazyk nazvat, je v podstatÄ› Self, i kdyÅ¾ trochu â€vylepÅ¡enÃ½â€œ po strÃ¡nce syntaxe.</p>
      <p id="23ea7e83-9ed6-4c1f-997a-2bae013e0097" class="">NapÅ™Ã­klad jsem pÅ™idal podporu pro kaskÃ¡dy, jak je pouÅ¾Ã­vÃ¡ Smalltalk. Nikdy jsem nechÃ¡pal, proÄ v pÅ¯vodnÃ­m Selfu nejsou, kdyÅ¾ tam dokonale sednou. Taky jsem zmÄ›nil <code>"komentÃ¡Å™"</code> na <code># komentÃ¡Å™</code>, protoÅ¾e uvozovky se podle mÃ©ho nÃ¡zoru vÃ­c hodÃ­ na stringy, neÅ¾ na komentÃ¡Å™e a takÃ© se lÃ©pe pÃ­Å¡ou na ÄeskÃ© klÃ¡vesnici, neÅ¾ standardnÃ­ SelfovskÃ© <code>'stringy'</code> psanÃ© jednoduchÃ½mi uvozovkami. Pro stringy je nynÃ­ moÅ¾nÃ© pouÅ¾Ã­vat obojÃ­, coÅ¾ ÄlovÄ›ku Å¡etÅ™Ã­ escapovÃ¡nÃ­, pokud zrovna potÅ™ebuje napsat string s uvozovkami.</p>
      <p id="d530fb48-2a2b-49fe-81c1-3b509a152291" class="">KromÄ› toho jsem zmÄ›nil i syntaxi objektÅ¯ a blokÅ¯, kde jsem umoÅ¾nil vynechÃ¡nÃ­ otevÃ­racÃ­ho <code>|</code>, takÅ¾e je moÅ¾nÃ© psÃ¡t <code>(slot |)</code> mÃ­sto <code>(| slot |)</code>. K parsovÃ¡nÃ­ to stejnÄ› nenÃ­ zapotÅ™ebÃ­ a vÅ¾dycky mi to pÅ™iÅ¡lo jako zbyteÄnÃ½ opruz. ChtÄ›l jsem pÅ™idat i <code>(| code)</code>, ale ukÃ¡zalo se, Å¾e to uÅ¾ parseru vadÃ­ hodnÄ›, takÅ¾e je nutnÃ© zapisovat objekty bez slotÅ¯ jako <code>(|| code)</code>.</p>
      <p id="a70d23a9-f928-4c45-bb4b-7c44100ac5cf" class="">Oproti Selfu takÃ© nenÃ­ podtrÅ¾Ã­tko na zaÄÃ¡tku zprÃ¡vy rezervovanÃ© pro volÃ¡nÃ­ primitivnÃ­ch zprÃ¡v. <code>_s</code> je normÃ¡lnÄ› pouÅ¾itelnÃ¡ unÃ¡rnÃ­ zprÃ¡va. PrimitivnÃ­ zprÃ¡vy (volÃ¡nÃ­ kÃ³du interpretru) jsou implementovanÃ© jako zprÃ¡vy poslanÃ© objektu <code>primitive</code>. PrimitivnÃ­ch zprÃ¡v je stejnÄ› v bÄ›Å¾nÃ©m kÃ³du minimum, tak mi nikdy nebylo jasnÃ©, proÄ by pro nÄ› mÄ›la bÃ½t vyhrazenÃ¡ syntaxe.</p>
      <h1 id="b5088aa4-3756-46a4-a4fe-dba95d964e61" class="">Lexer</h1>
      <p id="b967d2f3-3fc8-491b-ba3a-c8198a728852" class="">PsanÃ­ jazyka zaÄÃ­nÃ¡ lexerem. Ten definuje, z jakÃ½ch komponent se jazyk sklÃ¡dÃ¡ rozÅ™ezÃ¡nÃ­m zdrojovÃ©ho kÃ³du na <em>tokeny</em>. Ve standardnÃ­m imperativnÃ­m jazyce to mÅ¯Å¾ou bÃ½t rÅ¯znÃ© pÅ™Ã­kazy, definice funkce, if podmÃ­nky, klÃ­ÄovÃ¡ slova a tak podobnÄ›. V tinySelfu je to vesmÄ›s definice objektÅ¯, slotÅ¯, blokÅ¯, nebo posÃ­lÃ¡nÃ­ zprÃ¡v mezi nimi.</p>
      <p id="c591eed2-1cfb-4674-bbe9-e535edef102e" class="">Lexer vÃ¡m kÃ³d rozÅ™eÅ¾e na pole jednotlivÃ½ch elementÅ¯. Z kÃ³du jako:</p>
      <pre id="f556fa7d-7fd3-40cb-b4e6-9504fd4cddbf" class="code"><code>(| asd = 1 | ^asd.)</code></pre>
      <p id="eed70684-d623-4ab4-82f0-415229e1cabc" class="">vÃ¡m udÄ›lÃ¡ pole ve stylu:</p>
      <pre id="a0491164-811b-49ff-9b15-30ae5f383f1d" class="code"><code>[
  Token("OBJ_START", "("),
  Token("SEPARATOR", "|"),
  Token("IDENTIFIER", "asd"),
  Token("ASSIGNMENT", "="),
  Token("NUMBER", "1"),
  Token("SEPARATOR", "|"),
  Token("RETURN", "^"),
  Token("IDENTIFIER", "asd"),
  Token("OBJ_END", ")")
]</code></pre>
      <p id="6988b7fd-2227-4e54-b0b6-d1f3bc32bb66" class="">VÃ½stupem je plochÃ¡ struktura, do kterÃ© byl jen rozÅ™ezÃ¡n vstupnÃ­ Å™etÄ›zec a kde byly ke kaÅ¾dÃ© ÄÃ¡sti pÅ™iÅ™azeny typy tokenu.</p>
      <p id="07be088b-1e29-45c9-939e-e38dbe0a1a2a" class="">Lexer je moÅ¾nÃ© si napsat ruÄnÄ›, formou stavovÃ©ho automatu, kterÃ½ v cyklu prochÃ¡zÃ­ kÃ³d znak po znaku a postupnÄ› ho rozÅ™ezÃ¡vÃ¡ a analyzuje rozÅ™ezanÃ© kousky (<em>tokeny</em>), aby jim pÅ™isoudil typ. Kdysi jsem nÄ›co podobnÃ©ho z neznalosti a z nutnosti <a href="https://github.com/Bystroushaak/pyDHTMLParser/blob/master/src/dhtmlparser/__init__.py#L43">udÄ›lal</a> (tenkrÃ¡t v D nebyl Å¾Ã¡dnÃ½ lexer), kdyÅ¾ jsem si psal <a href="https://github.com/Bystroushaak/pyDHTMLParser">HTML parser</a>, proto mi vÄ›Å™te, kdyÅ¾ vÃ¡m tento pÅ™Ã­stup <strong>DÃšRAZNÄš NEDOPORUÄŒÃM</strong>.</p>
      <p id="96dce62b-2407-4d7b-96d3-2ec58ffb46dd" class="">JednÃ¡ o nepruÅ¾nÃ½, k chybÃ¡m nÃ¡chylnÃ½, na pochopenÃ­ sloÅ¾itÃ½ a tÄ›Å¾ce udrÅ¾itelnÃ½ pÅ™Ã­stup. AÅ¾ na nÄ›kterÃ© velmi speciÃ¡lnÃ­ pÅ™Ã­pady, kdy pÅ™esnÄ› vÃ­te co dÄ›lÃ¡te a proÄ, se vÃ¡m vÅ¾dy vyplatÃ­ pouÅ¾Ã­t nÄ›jakou knihovnu, kterou nakrmÃ­te popisy tokenÅ¯ a ona vÃ¡m stavovÃ½ automat na zÃ¡kladÄ› popisu vygeneruje.</p>
      <p id="205b13b8-66bb-4fc4-aa0d-d8db05e899b6" class="">V mÃ©m pÅ™Ã­padÄ› se jednÃ¡ o knihovnu <a href="https://rply.readthedocs.io/">rply</a> (podrobnosti pÅ™inese pÅ™Ã­Å¡tÃ­ dÃ­l), konkrÃ©tnÄ› ÄÃ¡st <a href="https://rply.readthedocs.io/en/latest/users-guide/lexers.html">rply.LexerGenerator</a>.</p>
      <h2 id="7a092455-a136-4588-b1bc-a710628ebeeb" class="">tinySelfovÃ© tokeny</h2>
      <p id="be067035-9c53-4d35-918c-929c2c214ad8" class="">tinySelf je tvoÅ™en nÃ¡sledujÃ­cÃ­mi tokeny:</p>
      <h2 id="753ec819-5d46-4d5f-9826-cb51795b679e" class="">SELF</h2>
      <p id="95bf47e9-46db-4f62-8dbf-0f6129aa5e80" class="">KlÃ­ÄovÃ© slovo <code>self</code> tvoÅ™Ã­ token Self. PouÅ¾itÃ­ je podobnÃ© jako tÅ™eba v pythonu, Äi <code>this</code> v javÄ›.</p>
      <h2 id="6da31ed7-77cc-4825-a6a4-7f633529b25a" class="">NUMBER</h2>
      <p id="e712e7b6-a317-499b-9bd7-bd5244b77956" class="">ÄŒÃ­sla. <code>5</code> je ÄÃ­slo. <code>-5</code> je ÄÃ­slo. <code>4.32</code> je taky ÄÃ­slo, stejnÄ› jako <code>\xFF</code>.</p>
      <h2 id="9c4ae08a-e2ab-49c4-a874-81427d1d398f" class="">OBJ_START</h2>
      <p id="f7519207-a16c-4a33-8597-f2654a468bca" class="">ZaÄÃ¡tek definice objektu. JednÃ¡ se jednoduÅ¡e o zÃ¡vorku <code>(</code> za nÃ­Å¾ nÃ¡sleduje zbytek objektu.</p>
      <h2 id="0d973a4b-623f-4228-8d84-8c636e52f04b" class="">OBJ_END</h2>
      <p id="09b83185-30d7-4478-b7d5-67c5dfaf09a7" class="">UkonÄovacÃ­ zÃ¡vorka <code>)</code> znaÄÃ­cÃ­ konec objektu. NejkratÅ¡Ã­ (prÃ¡zdnÃ½) objekt v Selfu je <code>()</code>.</p>
      <h2 id="5d3b1b67-1097-4ec5-8f4d-33c3e9a0d1ba" class="">BLOCK_START</h2>
      <p id="293fdb5d-e7b4-40a5-a179-afbf36468b63" class="">ZaÄÃ¡tek bloku <code>[</code>. Bloky jsou objekty, kterÃ© majÃ­ <em>parenta</em> nadefinovanÃ©ho na <em>lokÃ¡lnÃ­ scope</em>, takÅ¾e se chovajÃ­ podobnÄ› jako lambda funkce.</p>
      <h2 id="bbcac4bb-6d47-469e-8c34-65ffeb33bb53" class="">BLOCK_END</h2>
      <p id="79712cf1-cf03-4d20-a316-35d1dc96d500" class="">Konec bloku <code>]</code>. NejkratÅ¡Ã­ blok vypadÃ¡ takhle; <code>[]</code>.</p>
      <h2 id="798e3a20-2ac9-4d61-b78c-e8389ba78cce" class="">SINGLE_Q_STRING a DOUBLE_Q_STRING</h2>
      <p id="22934ff7-b6b2-47f3-9648-399ec4069c1a" class="">Definice stringÅ¯. Jak jsem zmiÅˆoval, bere se â€˜stringâ€™ a â€œstringâ€ se standardnÃ­ma escape sekvencema.</p>
      <h2 id="037650cd-5a6b-4006-bf34-25b1ea6de368" class="">FIRST_KW</h2>
      <p id="956ffdc7-49a4-4107-907a-4745f844cf41" class="">V Selfu existujÃ­ tÅ™i druhy zprÃ¡v objektÅ¯m; unÃ¡rnÃ­, binÃ¡rnÃ­ a <em>keyword</em>. UnÃ¡rnÃ­ nepÅ™ijÃ­mÃ¡ Å¾Ã¡dnÃ½ parametr. BinÃ¡rnÃ­ jeden, <em>keyword</em> pak libovolnÃ½ poÄet.</p>
      <p id="2be4ac3c-b7b5-4a2a-9987-48a7074d9dd6" class="">Self pÅ™inesl oproti Smalltalku drobnÃ© vylepÅ¡enÃ­, kde <em>keyword</em> zprÃ¡vy jsou jednoznaÄnÄ› parsovatelnÃ© prostÃ½m okem tÃ­m, Å¾e vynucuje kaÅ¾dÃ© nÃ¡sledujÃ­cÃ­ klÃ­ÄovÃ© slovo zprÃ¡vy zaÄÃ­nat velkÃ½m pÃ­smenem.</p>
      <p id="8db8ad88-5df2-4337-a78c-609b3da1b28c" class="">Ve Smalltalku mÅ¯Å¾e zprÃ¡va <code>at: 1 put: 2</code> znamenat buÄ <code>(at: 1) put: 2</code>, tedy poslÃ¡nÃ­ zprÃ¡vy <code>at:</code> a nÃ¡slednÃ© poslÃ¡nÃ­ zprÃ¡vy <code>put:</code> vÃ½sledku z prvnÃ­ho volÃ¡nÃ­, nebo poslÃ¡nÃ­ zprÃ¡vy <code>at:put:</code> se dvÄ›ma parametry <code>1</code> a <code>2</code>. V Selfu je nutnÃ© druhÃ½ popsanÃ½ pÅ™Ã­pad zapsat jako <code>at: 1 Put: 2</code>, coÅ¾ jednoznaÄnÄ› identifikuje kde <em>keyword</em> zprÃ¡va zaÄÃ­nÃ¡ a konÄÃ­. Proto taky lexer rozliÅ¡uje zaÄÃ¡tek <em>keyword</em> zprÃ¡vy (string zaÄÃ­najÃ­cÃ­ malÃ½m pÃ­smenem s dvojteÄkou na konci) a pokraÄovÃ¡nÃ­.</p>
      <h2 id="47b4fb3b-7701-46f4-9cf6-8ac15bd3e90f" class="">KEYWORD</h2>
      <p id="4afa751c-fc37-49fa-b2fb-645baf5381d4" class="">ZmiÅˆovanÃ© pokraÄovÃ¡nÃ­ zprÃ¡vy. String zaÄÃ­najÃ­cÃ­ velkÃ½m pÃ­smenem, s dvojteÄkou na konci.</p>
      <h2 id="52d75364-61cf-4bde-8dee-50775b16516e" class="">IDENTIFIER</h2>
      <p id="619b51c3-dd6e-4e89-acae-64dd5edb2cd1" class="">String zaÄÃ­najÃ­cÃ­ malÃ½m Äi velkÃ½m pÃ­smenem, Äi podtrÅ¾Ã­tkem nÃ¡sledujÃ­cÃ­ tÃ­m samÃ½m, Äi ÄÃ­slicÃ­. <code>asd</code>, <code>BSD</code>, <code>_A</code> Äi <code>_35</code> jsou validnÃ­ identifikÃ¡tory, respektive unÃ¡rnÃ­ zprÃ¡vy.</p>
      <h2 id="16353b7e-bb0a-4845-a314-c6d7c81b78cc" class="">OPERATOR</h2>
      <p id="944f2249-c94b-424b-ae5c-6a7b0267378e" class="">Jako operÃ¡tor (binÃ¡rnÃ­ zprÃ¡vu) je moÅ¾nÃ© pouÅ¾Ã­t znaky z mnoÅ¾iny: <code>!@$%&amp;*-+~/?&lt;&gt;,</code> v libovolnÃ©m poÄtu opakovÃ¡nÃ­. <code>@</code> je operÃ¡tor, stejnÄ› jako <code>@@</code>.</p>
      <p id="4a7f7a05-ec7c-4d41-9163-3314650a815d" class="">OperÃ¡tory vÅ¾dy oÄekÃ¡vajÃ­ jeden parametr. <code>a + b</code> je binÃ¡rnÃ­ zprÃ¡va oprerÃ¡toru <code>+</code> s parametrem <code>b</code> zaslanÃ¡ objektu <code>a</code>.</p>
      <h2 id="83da27ec-5146-4ae7-b966-7a5f058d56d2" class="">ARGUMENT</h2>
      <p id="af5e9b81-888b-4968-9726-11e51edd655f" class="">HlavnÄ› u blokÅ¯ je potÅ™eba napsat co za argumenty pÅ™ijÃ­majÃ­. Argumenty se zapisujÃ­ jako identifikÃ¡tory zaÄÃ­najÃ­cÃ­ dvojteÄkou.</p>
      <p id="cd7690aa-b983-42e2-b580-a09333e94018" class="">UkÃ¡zky:</p>
      <p id="cce17b42-6bd2-401b-8f38-2a2fd9ecc5e8" class=""><code>:a</code></p>
      <p id="2031c169-76a8-4870-9c91-bd2b10b8ad01" class=""><code>:parameter</code></p>
      <p id="0426728d-0e56-43fe-a07b-5ccf6c6f8531" class=""><code>:_</code></p>
      <p id="dee373ce-6fdf-440f-b6dc-af457a9b457d" class=""><code>:_5OK</code></p>
      <h2 id="230107dd-1f0c-42d8-9619-de7d4f3d426a" class="">ASSIGNMENT</h2>
      <p id="714a6f95-b883-4470-927b-5b28d387b80c" class="">SpeciÃ¡lnÃ­ operÃ¡tor pÅ™iÅ™azenÃ­. MÃ¡ vÃ½znam v definici slotÅ¯, kde definuje sloty pouze ke ÄtenÃ­. TakÃ© je ho moÅ¾nÃ© pouÅ¾Ã­t jako bÄ›Å¾nÃ½ operÃ¡tor (binÃ¡rnÃ­ zprÃ¡vu). Zapisuje se jako znak pro rovnÃ¡ se (<code>=</code>).</p>
      <h2 id="a391da66-4ccf-417d-a1b9-ab4a28815dfb" class="">RW_ASSIGNMENT</h2>
      <p id="b6874338-b77d-45fd-8843-9d399c3ba91b" class="">PÅ™iÅ™azenÃ­ do slotu ke ÄtenÃ­ i zÃ¡pisu. Takto jde pÅ™iÅ™azovat pouze konstanty, nebo reference na jinÃ© objekty, nikoliv metody.</p>
      <p id="d6c99af6-1725-49a5-b148-f3fea8dd7b1c" class="">Zapisuje se jako Å¡ipka do leva (<code>&lt;-</code>).</p>
      <h2 id="078a79d8-8ac5-4b80-b775-eba8a111d1c8" class="">RETURN</h2>
      <p id="c8cdc9dc-6a85-482b-a70b-03954b4ff9be" class="">VrÃ¡cenÃ­ hodnoty z objektu / bloku. Zapisuje se jako stÅ™Ã­Å¡ka (<code>^</code>).</p>
      <h2 id="0b8a4c07-48a4-489e-973e-d303d0e43288" class="">END_OF_EXPR</h2>
      <p id="fba1e9ba-e31b-407f-9082-8b922d444534" class="">Konec vÃ½razu. OddÄ›luje Å™etÄ›zce zprÃ¡v. Zapisuje se stejnÄ› jako ve Smalltalku teÄkou (<code>.</code>).</p>
      <h2 id="d77d9cfc-80f0-495f-a861-fd2c4eaeae8f" class="">SEPARATOR</h2>
      <p id="f2074862-865a-4470-953e-0bdd7810ad80" class="">OddÄ›lovaÄ slotÅ¯ od kÃ³du. Zapisuje se jako svislÃ¡ ÄÃ¡rka (<code>|</code>).</p>
      <h2 id="b616fedf-4097-4b20-9c07-d26fcacd17de" class="">CASCADE</h2>
      <p id="d67732f0-d366-4dec-a741-e363fc388d4b" class="">VyhrazenÃ½ operÃ¡tor kaskÃ¡dy. Zapisuje se jako stÅ™ednÃ­k (<code>;</code>). SdÄ›luje interpretru, Å¾e nÃ¡sledujÃ­cÃ­ zprÃ¡va se posÃ­lÃ¡ stejnÃ©mu objektu jako pÅ™edchozÃ­.</p>
      <h2 id="451df77c-70c1-457d-af0d-856221443d37" class="">COMMENT</h2>
      <p id="ca8fb076-fc00-42d4-a340-2886f55334c6" class="">KomentÃ¡Å™ zaÄÃ­najÃ­cÃ­ <code>#</code>, konÄÃ­cÃ­ koncem Å™Ã¡dku.</p>
      <h2 id="043f5e92-cbb7-4fa1-9e88-c1140e50ee46" class="">JeÅ¡tÄ› k lexeru</h2>
      <p id="c6cf9848-af5d-440a-8396-0269c5afd865" class="">MÅ¯Å¾e se zdÃ¡t, Å¾e v lexeru je toho spousta, ale ve skuteÄnosti je celÃ½ jazyk dost jednoduchÃ½ a ukÃ¡zka vÅ¡eho co je v nÄ›m moÅ¾nÃ© se vejde tak nÄ›jak na pohlednici:</p>
      <pre id="bc1599af-2247-4fa3-87cb-5073515d9ba8" class="code"><code>()  # PrÃ¡zdnÃ½ objekt.
(| |)  # Taky prÃ¡zdnÃ½ objekt, ale s definicÃ­ (prÃ¡zdnÃ½ch) slotÅ¯.
(| slot |)  # Objekt obsahujÃ­cÃ­ jeden slot (key/val storage, kde slot = nil.).

# Objekt obsahujÃ­cÃ­ definice dvou slotÅ¯; read only â€šsâ€˜ a zapisovatelnÃ©ho slotu â€šs2â€˜.
# EkvivalentnÃ­ slovnÃ­ku {"s": None, "s2": 1}, kdyÅ¾ pominu zapisovatelnost slotÅ¯.
(| s = nil. s2 &lt;- 1 |)

# Objekt obsahujÃ­cÃ­ slot â€šsâ€˜, a taky kÃ³d, kterÃ½ tomuto slotu poÅ¡le unÃ¡rnÃ­ zprÃ¡vu â€šprintLineâ€˜. PoslednÃ­ vÃ½raz je vÅ¾dy vrÃ¡cen, takÅ¾e bude vrÃ¡cena hodnota slotu â€šsâ€˜.
(s = 1 | s printLine. s)
(| s = 1. | s printLine. ^s. )  # TotoÅ¾nÃ½ kÃ³d jako v pÅ™edchozÃ­m pÅ™Ã­padÄ› s alternativnÃ­ syntaxÃ­ slotÅ¯ a explicitnÃ­ return.

[ ]  # prÃ¡zdnÃ½ blok
[:a | a printLine. a]  # blok pÅ™ijÃ­majÃ­cÃ­ parametr â€šaâ€˜, kterÃ½ vypÃ­Å¡e poslÃ¡nÃ­m zprÃ¡vy â€šprintLineâ€˜ a vrÃ¡tÃ­.
[| :a | a printLine. exit: a.]  # totoÅ¾nÃ½ kÃ³d - return v bloku vracÃ­ z nadÅ™azenÃ©ho scope, nikoliv jen z bloku samotnÃ©ho!.

# KomplexnÄ›jÅ¡Ã­ objekt obsahujÃ­cÃ­ asi vÅ¡echny elementy jazyka.
( a = 1. b &lt;- 2. c |
  (a + b) &gt; 0
    ifTrue: [c: a+b. ^c]
    False: [self logger log: a; log b.].

  logger log: 'Vsechny zpravy se prvne resolvuji na Self'.
  self logger log: "Toto je tedy totozna zprava".

  ^ (| output = "vysledek". line &lt;- "metody" |)
)</code></pre>
      <p id="544b8f83-4919-4bff-90f9-ac89f91115d2" class="">CelÃ½ kÃ³d lexeru se vejde na 40 Å™Ã¡dek a jde jen o definici jednotlivÃ½ch elementÅ¯ jazyka pomocÃ­ regexpÅ¯:</p>
      <pre id="ab9a968b-b114-4473-bb13-8025370d6874" class="code"><code># -*- coding: utf-8 -*-
from rply import LexerGenerator


lg = LexerGenerator()
lg.ignore(r'\s+')

lg.add('SELF', r'self')

lg.add('NUMBER', r'(0x[0-9a-fA-F]+)|((\-)?\d+(\.\d)?)')

lg.add('OBJ_START', r'\(')
lg.add('OBJ_END', r'\)')

lg.add('BLOCK_START', r'\[')
lg.add('BLOCK_END', r'\]')

lg.add('SINGLE_Q_STRING', r"'(?:\\.|[^'\\])*'")
lg.add('DOUBLE_Q_STRING', r'"(?:\\.|[^"\\])*"')

lg.add('FIRST_KW', r'([a-z_][a-zA-Z0-9_]*\.)*[a-z_]+[a-zA-Z0-9_]*:')
lg.add('KEYWORD', r'[A-Z]+[a-zA-Z0-9_]*:')
lg.add('ARGUMENT', r':[a-zA-Z_]*[a-zA-Z0-9_]+')

lg.add('RW_ASSIGNMENT', r'\&lt;-')

lg.add('OPERATOR', r'[!@\$%&amp;\*\-\+~/?&lt;&gt;,]+|==+')
lg.add('RETURN', r'\^')
lg.add('END_OF_EXPR', r'\.')
lg.add('SEPARATOR', r'\|')
lg.add('CASCADE', r'\;')

lg.add('IDENTIFIER', r'([a-zA-Z_][a-zA-Z0-9_]*\.)*[a-zA-Z_]*[a-zA-Z0-9_\*]+')

lg.add('ASSIGNMENT', r'=')

lg.add('COMMENT', r'#.*[\n|$]?')


lexer = lg.build()</code></pre>
      <h1 id="1583ad73-574e-45ec-abb1-961d09c57101" class="">PokraÄovÃ¡nÃ­</h1>
      <p id="68d98e0a-9d17-47fc-8427-86b8e9a270d7" class="">V pÅ™Ã­Å¡tÃ­m dÃ­le se podÃ­vÃ¡me na parser, kterÃ½ tokeny bere a sestavuje z nich AST - <a href="https://cs.wikipedia.org/wiki/Syntaktick%C3%BD_strom">abstraktnÃ­ syntaktickÃ½ strom</a>.</p>
      <h1 id="18653535-6f1e-4db5-924a-13246757a5a2" class="">RelevantnÃ­ diskuze</h1>
      <ul id="8e9b3cbf-e1b8-4784-a1d8-c42b17cd866c" class="bulleted-list">
        <li>
          <a href="http://www.abclinuxu.cz/blog/bystroushaak/2019/2/jak-se-pise-programovaci-jazyk-2-lexer">Jak se pÃ­Å¡e programovacÃ­ jazyk 2: Lexer</a> (abclinuxu)
        </li>
      </ul>
      <p id="e830f99a-ad2b-4be8-af9a-4f96fee5965b" class=""></p>
    </div>
  </article>
  <div class="corner-ribbon top-right red">
    <a href="https://www.patreon.com/bePatron?u=2618881">Become a Patron</a>
  </div><a class="twitter-share-button" id="twitter_button" href="#"><img src="../../../tweet_button.svg"></a>
  <div id="sidebar_bottom">
    <span><a href="https://blog.rfox.eu/atom_cz.xml"><img style="width: 3em;" src="../../../rss_icon.png"></a> &nbsp; &nbsp; <a href="https://twitter.com/Bystroushaak"><img style="width: 3em;" src="../../../twitter_icon.png"></a></span>
    <div id="last_five_bottom">
      <h3>New posts</h3>
      <ul>
        <li>
          <a href="../../Predstaveni/GPT-3.html" title="GPT-3">GPT-3</a>
        </li>
        <li>
          <a href="https://blog.rfox.eu/atom_cz.xml">VytvoÅ™en novÃ½ Atom (RSS) feed pro Äeskou sekci</a>
        </li>
      </ul>
    </div>
    <div id="links_from_other_pages">
      <h3>Links to this page:</h3>
      <ul>
        <li>
          <a href="Jak_se_pise_programovaci_jazyk_1_Motivace.html" title="Jak se pÃ­Å¡e programovacÃ­ jazyk 1: Motivace">Jak se pÃ­Å¡e programovacÃ­ jazyk 1: Motivace</a>
        </li>
      </ul>
    </div>
    <div>
      <h3>Blog categories</h3>
      <ul class="no_icon">
        <li>
          <a href="../../Programovani.html" title="ProgramovÃ¡nÃ­">ğŸ“‚ ProgramovÃ¡nÃ­</a>
        </li>
        <li>
          <a href="../../Povidky.html" title="PovÃ­dky">ğŸ“‚ PovÃ­dky</a>
        </li>
        <li>
          <a href="../../Knihy.html" title="Knihy">ğŸ“‚ Knihy</a>
        </li>
        <li>
          <a href="../../Predstaveni.html" title="PÅ™edstavenÃ­">ğŸ“‚ PÅ™edstavenÃ­</a>
        </li>
        <li>
          <a href="../../Ostatni.html" title="OstatnÃ­">ğŸ“‚ OstatnÃ­</a>
        </li>
        <li>
          <a href="../../Abclinuxu.html" title="Abclinuxu">ğŸ“‚ Abclinuxu</a>
        </li>
        <li>
          <a href="../../Hrbitov.html" title="HÅ™bitov">ğŸ“‚ HÅ™bitov</a>
        </li>
        <li>
          <a href="../../index.html" title="Czech section">ğŸ“‚ Czech section</a>
        </li>
      </ul>
    </div>
  </div>
</body>
</html>
