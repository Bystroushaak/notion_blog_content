<!DOCTYPE html>
<html>
<head>
  <meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.6.0">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Bolest proxy</title>
  <link rel="stylesheet" type="text/css" href="../../style.css">
  <link rel="alternate" type="application/atom+xml" href="https://blog.rfox.eu/atom_cz.xml">
  <link rel="shortcut icon" href="/favicon.ico">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@Bystroushaak">
  <meta name="twitter:creator" content="@Bystroushaak">
  <meta name="twitter:title" content="Bolest proxy">
  <meta name="twitter:description" content="ObÄas se stane, Å¾e potÅ™ebujete pÅ™istupovat k nÄ›jakÃ©mu zdroji na internetu nepÅ™Ã­mo. Pokud se jednÃ¡ o desÃ­tky aÅ¾ stovky requestÅ¯, a neplÃ¡nujete dÄ›lat nic oÅ¡klivÃ©ho, dÃ¡ se pouÅ¾Ã­t tÅ™eba VPS, nebo VPN. Pokud vÅ¡ak potÅ™ebujete napÅ™Ã­klad postahovat nÄ›jakou vÄ›tÅ¡Ã­ databÃ¡zi, kterÃ¡ vÃ¡m zabere tisÃ­ce a statisÃ­ce requestÅ¯, je vÄ›tÅ¡inou dobrÃ©, Äi pÅ™Ã­mo nutnÃ©, pouÅ¾Ã­t proxy.">
  <meta name="twitter:image" content="https://blog.rfox.eu/cz/Programovani/Bolest_proxy/Untitled.png">
  <script src="../../scripts.js"></script>
  <meta name="description" content="ObÄas se stane, Å¾e potÅ™ebujete pÅ™istupovat k nÄ›jakÃ©mu zdroji na internetu nepÅ™Ã­mo. Pokud se jednÃ¡ o desÃ­tky aÅ¾ stovky requestÅ¯, a neplÃ¡nujete dÄ›lat nic oÅ¡klivÃ©ho, dÃ¡ se pouÅ¾Ã­t tÅ™eba VPS, nebo VPN. Pokud vÅ¡ak potÅ™ebujete napÅ™Ã­klad postahovat nÄ›jakou vÄ›tÅ¡Ã­ databÃ¡zi, kterÃ¡ vÃ¡m zabere tisÃ­ce a statisÃ­ce requestÅ¯, je vÄ›tÅ¡inou dobrÃ©, Äi pÅ™Ã­mo nutnÃ©, pouÅ¾Ã­t proxy.">
  <meta name="keywords" content="programovani,hacking,proxy,m0wFG3PRCoJVTs7JcgBwsOXb3U7yPxBB"><!-- Global site tag (gtag.js) - Google Analytics -->

  <script src="https://www.googletagmanager.com/gtag/js?id=UA-142545439-1"></script>
  <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'UA-142545439-1');
  </script>
</head>
<body onload="on_body_load();">
  <div id="sidebar_top">
    <span><a href="https://blog.rfox.eu/atom_cz.xml"><img style="width: 3em;" src="../../rss_icon.png"></a> &nbsp; &nbsp; <a href="https://twitter.com/Bystroushaak"><img style="width: 3em;" src="../../twitter_icon.png"></a></span>
    <div id="last_five_top">
      <h3>New posts</h3>
      <ul>
        <li>
          <a href="../Povidky/Software.html" title="Software">Software</a>
        </li>
        <li>
          <a href="../Ostatni/Paromobilita_je_budoucnost.html" title="Paromobilita je budoucnost">Paromobilita je budoucnost</a>
        </li>
        <li>
          <a href="../Ostatni/Algoritmus_hledani_programatorske_prace_2021-4.html" title="Algoritmus hledÃ¡nÃ­ programÃ¡torskÃ© prÃ¡ce 2021/4">Algoritmus hledÃ¡nÃ­ programÃ¡torskÃ© prÃ¡ce 2021/4</a>
        </li>
        <li>
          <a href="../3D_tisk/Nastaveni_Blenderu_pro_3D_tisk.html" title="NastavenÃ­ Blenderu pro 3D tisk">NastavenÃ­ Blenderu pro 3D tisk</a>
        </li>
        <li>
          <a href="../3D_modelovani/Geometricky_stred_Prahy.html" title="GeometrickÃ½ stÅ™ed Prahy">GeometrickÃ½ stÅ™ed Prahy</a>
        </li>
        <li>
          <a href="../../Utrzky/Posta_poezie.html" title="PoÅ¡ta (poezie)"><span class="icon">ğŸ—’ï¸</span>PoÅ¡ta (poezie)</a>
        </li>
        <li>
          <a href="../Ostatni/Statni_zklamani.html" title="StÃ¡tnÃ­ zklamÃ¡nÃ­">StÃ¡tnÃ­ zklamÃ¡nÃ­</a>
        </li>
        <li>
          <a href="../3D_tisk/3D_TODO_list_1_Drzak_na_sluchatka.html" title="3D TODO list 1; DrÅ¾Ã¡k na sluchÃ¡tka">3D TODO list 1; DrÅ¾Ã¡k na sluchÃ¡tka</a>
        </li>
        <li>
          <a href="../Ostatni/Dva_podvodnici.html" title="Dva podvodnÃ­ci">Dva podvodnÃ­ci</a>
        </li>
        <li>
          <a href="../3D_tisk/3D_tiskarna_Prusa_MK3S_sestaveni_a_prvni_tisk.html" title="3D tiskÃ¡rna PrÅ¯Å¡a MK3S+; sestavenÃ­ a prvnÃ­ tisk">3D tiskÃ¡rna PrÅ¯Å¡a MK3S+; sestavenÃ­ a prvnÃ­ tisk</a>
        </li>
      </ul>& <a href="../../Zmeny.html" title="ZmÄ›ny">more</a>
    </div>
    <div>
      <h3>Tagy</h3>
      <p><a href="../../Tagy/hacking.html" title="hacking">hacking</a>, <a href="../../Tagy/programovani.html" title="programovani">programovani</a>, <a href="../../Tagy/proxy.html" title="proxy">proxy</a></p>
    </div>
    <div>
      <h3>Blog categories</h3>
      <ul class="no_icon">
        <li>
          <a href="../Povidky.html" title="PovÃ­dky">ğŸ“‚ PovÃ­dky</a>
        </li>
        <li>
          <a href="../3D_modelovani.html" title="3D modelovÃ¡nÃ­">ğŸ“‚ 3D modelovÃ¡nÃ­</a>
        </li>
        <li>
          <a href="../3D_tisk.html" title="3D tisk">ğŸ“‚ 3D tisk</a>
        </li>
        <li>
          <a href="../Programovani.html" title="ProgramovÃ¡nÃ­">ğŸ“‚ ProgramovÃ¡nÃ­</a>
        </li>
        <li>
          <a href="../Crypto.html" title="Crypto">ğŸ“‚ Crypto</a>
        </li>
        <li>
          <a href="../Ostatni.html" title="OstatnÃ­">ğŸ“‚ OstatnÃ­</a>
        </li>
        <li>
          <a href="../Knihy.html" title="Knihy">ğŸ“‚ Knihy</a>
        </li>
        <li>
          <a href="../Predstaveni.html" title="PÅ™edstavenÃ­">ğŸ“‚ PÅ™edstavenÃ­</a>
        </li>
        <li>
          <a href="../Abclinuxu.html" title="Abclinuxu">ğŸ“‚ Abclinuxu</a>
        </li>
        <li>
          <a href="../Hardware.html" title="Hardware">ğŸ“‚ Hardware</a>
        </li>
        <li>
          <a href="../Hrbitov.html" title="HÅ™bitov">ğŸ“‚ HÅ™bitov</a>
        </li>
        <li>
          <a href="../index.html" title="Czech section">ğŸ“‚ Czech section</a>
        </li>
      </ul>
    </div>
  </div><a class="breadcrumb" href="../../index.html" title="Bystroushaak's blog">Bystroushaak's blog</a> / <a class="breadcrumb" href="../index.html" title="Czech section">Czech section</a> / <a class="breadcrumb" href="index.html" title="ProgramovÃ¡nÃ­">ProgramovÃ¡nÃ­</a> / Bolest proxy
  <article id="f67d2dd5-6196-4845-b2fd-b9b10f640938" class="page sans">
    <header>
      <h1 class="page-title">Bolest proxy</h1>
    </header>
    <div class="page-body">
      <p id="0d00f6a7-41fd-4cf2-ab4f-44d5c7b611da" class=""><time>@2015/02/10</time></p>
      <p id="f5e91a52-2393-4fca-941c-3abcf929c38b" class="">ObÄas se stane, Å¾e potÅ™ebujete pÅ™istupovat k nÄ›jakÃ©mu zdroji na internetu nepÅ™Ã­mo. Pokud se jednÃ¡ o desÃ­tky aÅ¾ stovky requestÅ¯, a neplÃ¡nujete dÄ›lat nic <em>oÅ¡klivÃ©ho</em>, dÃ¡ se pouÅ¾Ã­t tÅ™eba VPS, nebo VPN. Pokud vÅ¡ak potÅ™ebujete napÅ™Ã­klad postahovat nÄ›jakou vÄ›tÅ¡Ã­ databÃ¡zi, kterÃ¡ vÃ¡m zabere tisÃ­ce a statisÃ­ce requestÅ¯, je vÄ›tÅ¡inou dobrÃ©, Äi pÅ™Ã­mo nutnÃ©, pouÅ¾Ã­t proxy.</p>
      <h2 id="c0bfbbb5-d7fd-4813-9d4d-0463d7a6c0ba" class="">Kdy pouÅ¾Ã­t proxy</h2>
      <p id="62ca7a77-846a-461b-b1ff-285e266d2ab4" class="">ObecnÄ› platÃ­, Å¾e proxy server(y) je vhodnÃ© pouÅ¾Ã­t pouze tehdy, pokud chcete <em><strong>zmÃ¡st</strong></em> cÃ­lovÃ½ systÃ©m, aby si myslel, Å¾e jste nÄ›kdo jinÃ½.</p>
      <p id="fae78c7a-4831-4029-a92b-3cefd6c280d5" class="">To mÅ¯Å¾e vypadat jako zcela samozÅ™ejmÃ¡ informace, dÅ¯leÅ¾itÃ½ je ale dÅ¯raz na slovo <em><strong>zmÃ¡st</strong></em>, neboÅ¥ cÃ­lem je zmatenÃ­, nikoliv neprÅ¯stÅ™elnÃ¡ bezpeÄnost.</p>
      <p id="9fa0d22c-18be-4432-bc34-b6f84173a768" class="">Nad pouÅ¾itÃ½mi proxy vÄ›tÅ¡inou nemÃ¡me Å¾Ã¡dnou kontrolu a pÅ™estoÅ¾e se dajÃ­ Å™etÄ›zit, ÄÃ­mÅ¾ se bezpeÄnostnÃ­ hledisko zvÄ›tÅ¡uje, nikdy nevÃ­te, jestli proxy neloguje vÅ¡echny pÅ™Ã­stupy do souboru, kterÃ½ jejÃ­ provozovatelÃ© s radostÃ­ vydajÃ­ kaÅ¾dÃ©mu, kdo si o nÄ›j Å™ekne. Dnes je takÃ© bÄ›Å¾nÃ©, Å¾e povinnost logovat pÅ™Ã­stupy na Ãºrovni "<em>kdy-kdo-kam</em>" majÃ­ vÅ¡ichni poskytovatelÃ©.</p>
      <p id="b0d8e9c3-ea09-4494-aaf5-b83da5407100" class=""><strong>Pokud nad proxy serverem nemÃ¡te kontrolu, nespolÃ©hejte na nÄ›j jako na anonymizaÄnÃ­ prvek!</strong></p>
      <p id="15950758-8b9b-46dc-9c3a-216ebd6fb187" class="">Kdy je tedy vhodnÃ© pouÅ¾Ã­t proxy? VÅ¡ude tam, kde nenÃ­ pÅ™edpoklad, Å¾e se nÄ›kdo bude vaÅ¡Ã­ identitou zabÃ½vat. Z hlavy mÄ› napadÃ¡ napÅ™Ã­klad vytÄ›Å¾ovÃ¡nÃ­ databÃ¡zÃ­, trolling, obchÃ¡zenÃ­ limitÅ¯ na jeden ÃºÄet Äi jednu IP adresu. ObecnÄ› tehdy, kdyÅ¾ chcete zabrÃ¡nit podezÅ™enÃ­, Å¾e mnoho pÅ™Ã­stupÅ¯ ve skuteÄnosti pochÃ¡zÃ­ z jednoho zdroje.</p>
      <p id="5ec1d0c0-1cf7-42ec-b449-3975c9ce20a7" class="">VÃ½jimky z tohoto principu mÅ¯Å¾ete udÄ›lat pouze tehdy, pokud vÃ¡m nezÃ¡leÅ¾Ã­ na zjistitelnosti stroje, ze kterÃ©ho poÅ¾adavky pÅ™ichÃ¡zÃ­, Äi pokud mÃ¡te v cestÄ› zapojeny dalÅ¡Ã­ anonymizaÄnÃ­ prvky (TOR tÅ™eba).</p>
      <p id="361cdc8f-195c-4c3f-b6ad-08f49823f822" class="">PÅ™i pouÅ¾itÃ­ proxy je takÃ© nutno brÃ¡t v Ãºvahu, Å¾e provozovatel mÅ¯Å¾e ÄÃ­st veÅ¡kerÃ¡ pÅ™enÃ¡Å¡enÃ¡ data, pokud pÅ™es to netahÃ¡te jeÅ¡tÄ› nÄ›jakÃ½ vlastnÃ­ Å¡ifrovanÃ½ tunel. NevyplatÃ­ se tedy pÅ™enÃ¡Å¡et loginy k systÃ©mÅ¯m, na kterÃ½ch vÃ¡m zÃ¡leÅ¾Ã­.</p>
      <h2 id="ad6e9d92-707a-4e50-8736-8d47f051b32b" class="">Druhy proxy</h2>
      <p id="c7231c98-ef61-46b8-9f7a-bc959fa57641" class="">Pro ty kdo se s proxy servery nikdy nesetkali zde v krÃ¡tkosti uvedu jednotlivÃ© parametry, kterÃ© bÄ›Å¾nÄ› proxy listy zobrazujÃ­:</p>
      <h3 id="9d512697-f8ec-4f61-8111-d1400764c631" class="">Typ</h3>
      <p id="d9b678c1-6bb4-4c3f-b438-a3d061547e2b" class="">HTTP - proxy pÅ™es kterou je moÅ¾nÃ© smÄ›Å™ovat HTTP poÅ¾adavky. VhodnÃ© k prochÃ¡zenÃ­ webu. Port vÄ›tÅ¡inou 80 Äi 8080, ale mÅ¯Å¾e bÃ½t i jinÃ½.</p>
      <p id="e361351a-8c4c-48f7-90c4-97cf86ffda97" class="">HTTPS - to samÃ© jako pÅ™edchozÃ­, jen fungujÃ­cÃ­ skrz Å¡ifrovanÃ½ tunel na portu 443.</p>
      <p id="a53e1592-7560-4983-bbac-303914bbef3b" class="">SOCKS - Pokud nÄ›kde uvidÃ­te jen <a href="http://en.wikipedia.org/wiki/SOCKS">SOCKS</a>, mÅ¯Å¾e se jednat o SOCKS4 Äi SOCKS5 proxy. SOCKS4 umoÅ¾Åˆuje pÅ™enos libovolnÃ©ho protokolu, neboÅ¥ pracuje pÅ™Ã­mo se socketem a spojenÃ­mi, nikoliv s HTTP requesty.</p>
      <p id="900c45e3-a392-490e-b1ba-2e38de679b0a" class="">SOCKS5 - VÅ¯bec nejlepÅ¡Ã­, neboÅ¥ umoÅ¾Åˆuje jak IPv4, tak i IPv6 requesty, libovolnÃ© protokoly, autentizaci a tak dÃ¡le. NavÃ­c je docela vysokoÃºrovÅˆovÃ¡ co se protokolu tÃ½Äe.</p>
      <p id="7a65a8fe-e091-4763-aaa7-b5ca99a4c321" class="">VÄ›tÅ¡inu Äasu vÃ¡m nejspÃ­Å¡ vystaÄÃ­ HTTP proxy, neboÅ¥ je nejjednoduÅ¡Å¡Ã­ na pouÅ¾itÃ­ a zcela dostateÄnÃ¡ pro spoustu pÅ™Ã­padÅ¯. V pythonu jsem napsal klienta <a href="https://github.com/Bystroushaak/httpkie">httpkie</a>, kterÃ½ umoÅ¾Åˆuje pro kaÅ¾dou instanci pouÅ¾Ã­t jinou proxy. Tohle mÅ¯Å¾e bÃ½t trochu problÃ©m u SOCKS, kde je v pythonu vÄ›tÅ¡inou <a href="https://github.com/Anorov/PySocks">nahrazovÃ¡n celÃ½ socket</a>, coÅ¾ mÅ¯Å¾e znesnadÅˆovat paraelizaci.</p>
      <h3 id="c49731f9-c38f-4908-b6b0-7e3c62e53e41" class="">MÃ­ra anonymity</h3>
      <p id="5c897883-4ed3-4d2b-9017-ac6e5e0cd96e" class=""><em>Transparent</em> - pro bÄ›Å¾nÃ© ÃºÄely k niÄemu, neboÅ¥ tato proxy vyzrazuje vaÅ¡Ã­ IP adresu pÅ™es hlaviÄku <code>HTTP_X_FORWARDED_FOR</code>. ObÄas se dÃ¡ pouÅ¾Ã­t k obejitÃ­ hloupÄ›jÅ¡Ã­ch firewallÅ¯.</p>
      <p id="f61cd3a8-e8b9-4f2e-97e4-c7aafd8ff7f5" class=""><em>Anonymous</em> - proxy kterÃ¡ vaÅ¡Ã­ IP adresu maskuje tou svojÃ­. Z <a href="http://www.freeproxy.ru/en/free_proxy/faq/proxy_anonymity.htm">hlaviÄek</a> se dÃ¡ zjistit samotnÃ½ fakt, Å¾e pouÅ¾Ã­vÃ¡te proxy.</p>
      <p id="c048597c-5391-4090-8f26-5922a20761dd" class=""><em>Elite</em> - proxy kterÃ¡ skrÃ½vÃ¡ vaÅ¡Ã­ IP adresu a nedÃ¡ se jednoduÅ¡e zjistit, Å¾e se jednÃ¡ o proxy server.</p>
      <p id="2ae041c4-78e0-4d8f-9d70-08cf6597d454" class="">Pro vÄ›tÅ¡inu potÅ™eb postaÄuje <em>Anonymous</em> proxy, neboÅ¥ jsou dostateÄnÄ› rychlÃ© a kdyÅ¾ se nikdo nedÃ­vÃ¡, tak ani nezjistÃ­, Å¾e se jednÃ¡ o proxy.</p>
      <h3 id="253955ce-7f91-47ac-a674-a32872b11593" class="">Port</h3>
      <p id="cbfecc36-2345-464c-a071-1d825cd1bb9d" class="">Port, na kterÃ©m proxy naslouchÃ¡. NajÃ­t se dajÃ­ v podstatÄ› vÅ¡echny moÅ¾nÃ©, imho je nejÅ¾Ã¡doucnÄ›jÅ¡Ã­ chtÃ­t co nejvyÅ¡Å¡Ã­, od deseti tisÃ­c zaÄÃ­naje, protoÅ¾e ten vÄ›tÅ¡inou nenajdou ti, kdo se dÃ­vajÃ­ zda se jednÃ¡ o proxy zpÄ›tnÃ½m scannem. Pro vÄ›tÅ¡inu pouÅ¾itÃ­ vÅ¡ak staÄÃ­ ty bÄ›Å¾nÃ© - 80, 443, 8000, 8080 atd..</p>
      <h3 id="829929c9-f36d-4746-a796-17cb3188e32f" class="">Ping</h3>
      <p id="3f2eaf38-b1f3-4cba-8539-73726b8cde2a" class="">DalÅ¡Ã­m Äasto uvÃ¡dÄ›nÃ½m parametrem je <a href="http://cs.wikipedia.org/wiki/Ping">ping</a>. NÄ›kde se jednÃ¡ o pouhÃ© pingnutÃ­ proxy serveru, jinde je mÄ›Å™eno jak dlouho trvÃ¡ jeden request.</p>
      <p id="36eed3b6-630c-485f-a51f-4c3f3b8afe0e" class="">Tahle hodnota se v Äase poÅ™Ã¡d mÄ›nÃ­ podle zÃ¡tÄ›Å¾e, ale vÅ¾dy chcete co nejniÅ¾Å¡Ã­.</p>
      <h3 id="ac2bbc1f-83fc-4d7a-aab8-87c12f181e98" class="">ZemÄ›</h3>
      <p id="5aa3fe47-38ad-4548-acc6-e58b3944e9f8" class="">PoslednÃ­ Äasto uvÃ¡dÄ›nou hodnotou je zemÄ›, kde se proxy server nachÃ¡zÃ­. VÄ›tÅ¡inou je dobrÃ© volit jinou zemi, neÅ¾ kde se zrovna nachÃ¡zÃ­te a vyhnout se zemÃ­m jako ÄŒÃ­na, kde je vÅ¡e monitorovanÃ©. V nÄ›kterÃ½ch pÅ™Ã­padech takÃ© cÃ­lÃ­te na sluÅ¾bu, kterÃ¡ bere pouze pÅ™Ã­stupy z Äech (registrace na wz.cz napÅ™Ã­klad).</p>
      <p id="4561863a-c184-4868-9cf2-2e536e7c77c6" class="">V praxi tohle pole moc neznamenÃ¡, protoÅ¾e je detekovÃ¡no na zÃ¡kladÄ› <a href="http://jecas.cz/geoip">geoip</a> a <a href="http://cs.wikipedia.org/wiki/Whois">whois</a> a vÅ¡e mÅ¯Å¾e bÃ½t ÃºplnÄ› jinak, jen proto Å¾e poskytovatel byl moc lÃ­nÃ½ mÄ›nit zÃ¡znamy.</p>
      <h2 id="3282a4a5-6c32-496e-813c-b789c0d302e9" class="">Kde vzÃ­t proxy</h2>
      <p id="ea3a5e27-e53a-4acd-b0e3-e640ecff4784" class="">MÃ¡te tedy nÄ›kolik moÅ¾nostÃ­ - proxy si zaplatit, coÅ¾ stojÃ­ penÃ­ze a takÃ© to klade vÄ›tÅ¡Ã­ nÃ¡roky na zachovÃ¡nÃ­ alespoÅˆ zdÃ¡nÃ­ anonymity, nebo se nauÄit pracovat s rÅ¯znÃ½mi nestandardnÃ­mi chovÃ¡nÃ­mi, kterÃ© se dajÃ­ nalÃ©zt u proxy zdarma.</p>
      <p id="fbd96003-660a-41ca-add8-80b3556a975b" class="">TÅ™etÃ­ moÅ¾nost, kterÃ¡ vyÅ¾aduje vytvoÅ™enÃ­ vlastnÃ­ho botnetu zde nebudu uvaÅ¾ovat, protoÅ¾e jestli zvlÃ¡dnete tohle, tak tenhle problÃ©m vÅ¯bec nemusÃ­te Å™eÅ¡it a rovnou mÅ¯Å¾ete pouÅ¾Ã­t cÃ­lovÃ© poÄÃ­taÄe pro bÄ›h vaÅ¡eho programu.</p>
      <h3 id="b9e64c80-97f3-44b6-bf8d-31501ff25d3c" class="">PlacenÃ© proxy</h3>
      <p id="d0c7dce1-fba5-45de-8c61-40d48d8b0832" class="">Co se tÃ½Äe placenÃ½ch proxy serverÅ¯, nekupujete si konkrÃ©tnÃ­ Ãºdaje pro proxy, ale v drtivÃ© vÄ›tÅ¡inÄ› pÅ™Ã­padÅ¯ pÅ™Ã­stup k neustÃ¡le updatovanÃ©mu proxy listu, kde by se teoreticky mÄ›ly nachÃ¡zet jen kvalitnÄ›jÅ¡Ã­ servery, kterÃ© alespoÅˆ pÃ¡r hodin budou vykazovat konzistentnÃ­ chovÃ¡nÃ­.</p>
      <p id="e44db671-dcd7-4c06-a4ea-f5daf5c9d1c4" class="">NenÃ­ na tom moc co Å™eÅ¡it - prostÄ› pÅ™evedete penÃ­ze na ÃºÄet poskytovatele a zpÄ›t dostanete login na server, kde mÃ¡te pÅ™Ã­stupnÃ½ seznam nÄ›kolika stovek aÅ¾ tisÃ­c proxy-serverÅ¯, vÄ›tÅ¡inou i s metadaty ohlednÄ› typu (Transparent/Anonymous/High anonymous, Sock/HTTP), odezvy a zemÄ› pÅ¯vodu.</p>
      <p id="28d44fd1-388e-440c-a876-d412333926a3" class="">NÄ›kdy se platÃ­ za Äas (<a href="http://incloak.com/proxy-list/">incloak</a>), jindy je pÅ™Ã­stup doÅ¾ivotnÃ­ (<a href="http://proxylist.hidemyass.com/">hidemyass</a>).</p>
      <h3 id="ad676674-75d7-488a-ac66-0526ca1d096b" class="">NeplacenÃ© proxy</h3>
      <p id="f6798dc1-5bf7-40d4-9697-7db4b9bc09b7" class="">NeplacenÃ½ch proxy listÅ¯ nenÃ­ tak moc - vÄ›tÅ¡inou se jednÃ¡ jen o Å¾ivÃ© ukÃ¡zky pro placenÃ© servery. To nÃ¡m ovÅ¡em nijak nebrÃ¡nÃ­ napsat parser a strojovÄ› je zpracovÃ¡vat.</p>
      <p id="33e627fc-51bd-4670-82d1-a19afa9a46ca" class="">PÅ™Ã­klady:</p>
      <ul id="14fbd3f8-a49f-4a00-9e11-abe9a0eb4f82" class="bulleted-list">
        <li style="list-style-type:disc">
          <a href="http://incloak.com/proxy-list/">http://incloak.com/proxy-list/</a>
        </li>
      </ul>
      <ul id="dfbe3e1a-aca9-49d6-8a51-31ecb4e1578d" class="bulleted-list">
        <li style="list-style-type:disc">
          <a href="http://proxylist.hidemyass.com/">http://proxylist.hidemyass.com/</a>
        </li>
      </ul>
      <ul id="0ddd6196-90bc-4395-9ee6-44be9c6247e4" class="bulleted-list">
        <li style="list-style-type:disc">
          <a href="http://www.ip-adress.com/proxy_list/">http://www.ip-adress.com/proxy_list/</a>
        </li>
      </ul>
      <ul id="ed2923ca-ebfa-4216-96fd-93feffa42f10" class="bulleted-list">
        <li style="list-style-type:disc">
          <a href="http://proxies.org/">http://proxies.org</a>
        </li>
      </ul>
      <p id="251470e4-1570-4531-8bc7-38cd1f9f8081" class="">PsanÃ­ jednotlivÃ½ch parserÅ¯ nechÃ¡m na vÃ¡s - za sebe mÅ¯Å¾u Å™Ã­ct, Å¾e jsem napsal parsery na vÅ¡echny uvedenÃ© a vÄ›tÅ¡ina z nich nezabrala skoro Å¾Ã¡dnou prÃ¡ci, staÄÃ­ k tomu prostÄ› <a href="http://docs.python-requests.org/">stahovÃ¡tko</a>, <a href="https://github.com/Bystroushaak/pyDHTMLParser">HTML parser</a> a trocha pythonu. NejvÃ­c ze vÅ¡ech mi dal zabrat server hidemyass.com, kde rychle zjistÃ­te Å¾e vÅ¡e je obfuscovanÃ© a kompletnÃ­ parser tedy vyÅ¾aduje ÄÃ¡steÄnou implementaci Javascriptu a CSS. Jako bonus dostanete pÅ™i opakovanÃ½ch pÅ™Ã­stupech ban, takÅ¾e potÅ™ebujete proxy, aby jste mohli stÃ¡hnout seznam proxy ;)</p>
      <p id="eaf08fe5-f85c-400d-b6cc-5475a9ac8b7c" class="">Jako pÅ™Ã­klad zde uvÃ¡dÃ­m implementaci HTTP proxy (!) grabberu na prvnÄ› jmenovanÃ½ server:</p>
      <pre id="1c405472-3e71-4335-99a7-e3642690c71f" class="code code-wrap"><code>#! /usr/bin/env python
# -*- coding: utf-8 -*-
#
# Interpreter version: python 2.7
#
# Imports =====================================================================
import httpkie
import dhtmlparser as d
 
 
# Functions & objects =========================================================
def getProxies():
    """
    Return array of dicts following this structure:
    {
        ip: str(ip),
        port: int(port),
        ping: int(ms)
    }
    """
    down = httpkie.Downloader()
 
    dom = d.parseString(
        down.download("http://incloak.com/proxy-list/?type=h&amp;anon=234")
    )
 
    proxies = []
    for tr in dom.find("table")[6].find("tr")[1:]:
        proxy = {
            "ip": tr.find("td")[0].getContent(),
            "port": 8080,
            "ping": int(tr.find("div")[-1].getContent().split()[0])
        }
        proxies.append(proxy)
 
    return proxies
 
 
if __name__ == '__main__':
    import json
    print json.dumps(getProxies())
    print len(getProxies())</code></pre>
      <p id="b1bab2a4-b744-4383-852e-a610ab1471a0" class="">Jak vidÃ­te, nejednÃ¡ se o nic sofistikovanÃ©ho a napsat celÃ½ script mi zabralo tak 30 minut.</p>
      <h2 id="8fd867c7-0166-4fc0-adcb-e12380dce3a8" class="">Bolest</h2>
      <p id="7c38bd03-54be-4e39-8707-033061ebb866" class="">TakÅ¾e co existuje za proxy vÃ­te. Kde je vzÃ­t vÃ­te. Script, kterÃ½ stÃ¡hne Å¡edesÃ¡t ÄtyÅ™i novÄ› publikovanÃ½ch mÃ¡te. TeÄ uÅ¾ vÃ¡m nic nebrÃ¡nÃ­ v jejich pouÅ¾itÃ­. CelÃ© to zakomponujete do existujÃ­cÃ­ho programu a spustÃ­te vÃ¡Å¡ ÄÃ¡belskÃ½ plÃ¡n. TeÄ uÅ¾ jen hromy, blesky a vÃ¡Å¡ Å¡Ã­lenÃ½ chechot, kterÃ½ se line nocÃ­..</p>
      <p id="9b366dfe-c518-4ead-b338-1e23ad87565e" class="">JenÅ¾e ouha, celÃ© to po chvÃ­li vymrzlo. Chechot se mÄ›nÃ­ do bolestnÃ©ho vytÃ­ a vÃ¡s ÄekajÃ­ dlouhÃ© hodiny debugovÃ¡nÃ­ a zjiÅ¡Å¥ovÃ¡nÃ­, co je vlastnÄ› Å¡patnÄ›.</p>
      <h2 id="d7ab4b50-7297-4bd5-b587-f4b31ef6941c" class="">Co je vlastnÄ› Å¡patnÄ›</h2>
      <p id="3cd63740-d318-4114-baad-42898036001f" class="">VÅ¡echno to, co jste si mohli pÅ™eÄÃ­st aÅ¾ sem jsou obecnÄ› znÃ¡mÃ© informace, kterÃ© jde pomÄ›rnÄ› lehce najÃ­t vÅ¡ude moÅ¾nÄ› po internetu. To co bude nÃ¡sledovat dÃ¡l jsou zkuÅ¡enosti, kterÃ© vÄ›tÅ¡inou musÃ­te zÃ­skat tou horÅ¡Ã­, bolestivÄ›jÅ¡Ã­ cestou, protoÅ¾e o nich nikdo moc nepÃ­Å¡e.</p>
      <h3 id="f9030544-3bc5-447e-a911-5f49dba4cead" class="">ÄŒasovÃ¡ osa</h3>
      <p id="e40453a1-5d8c-4b7b-a444-f965ef719469" class="">V ideÃ¡lnÃ­m svÄ›tÄ› by vznikla proxy, nÄ›kdo by jÃ­ zaindexoval do proxy listu a vy by jste jÃ­ mohli pouÅ¾Ã­vat. Proxy by byla neomezenÄ› rychlÃ¡, plnÄ› anonymnÃ­ a hlavnÄ› stÃ¡le stejnÃ¡, tedy konzistentnÃ­, aÅ¾ do konce svÄ›ta.</p>
      <p id="37be0417-25b1-44c9-9d41-3bf00241e04a" class="">Ve skuteÄnÃ©m svÄ›tÄ› vznikne proxy, nÄ›kdo jÃ­ zaindexuje a vy jÃ­ mÅ¯Å¾ete pouÅ¾Ã­vat. Na prvnÃ­ request odpovÃ­ okamÅ¾itÄ›, na druhÃ½ za 10 sekund a na dalÅ¡Ã­ neodpovÃ­ nikdy. Nebo na nÄ›j bude odpovÃ­dat pÅ¯l hodiny, Äi pÅ¯l dne, pÃ­smenko za pÃ­smenkem, kaÅ¾dou minutu jedno.</p>
      <p id="4a34d950-109c-4c40-b7a1-dcee85a2c63a" class="">Proxy list nepouÅ¾Ã­vÃ¡te jen vy, ale zÃ¡roveÅˆ pÃ¡r (desÃ­tek) tisÃ­c uÅ¾ivatelÅ¯, takÅ¾e na kaÅ¾dou proxy, kterÃ¡ se tam vyskytne se automaticky vrhne i spousta dalÅ¡Ã­ch lidÃ­. To Å¾e proxy server minutu funguje, dalÅ¡Ã­ pÅ¯l hodinu je zahlcen a potom znova funguje je zcela bÄ›Å¾nÃ½ stav.</p>
      <p id="88480c5b-0ae7-4f50-87bc-c78d5355317e" class="">DÃ¡l je takÃ© nutnÃ© poznamenat, Å¾e Å¾Ã¡dnÃ¡ proxy nebude fungovat do nekoneÄna. Å½ivot vÄ›tÅ¡iny z nich je docela jepiÄÃ­ a mÄ›Å™Ã­ se na dny, pÅ™iÄemÅ¾ nikdy nevÃ­te, jak dlouho se ta vÃ¡mi pouÅ¾Ã­vanÃ¡ povaluje na proxylistu.</p>
      <h3 id="be733200-6f82-45ab-9ee3-e79ceca648ce" class="">Lidi jsou svinÄ›</h3>
      <p id="0d609381-2118-4977-8333-9c4d4fd88f6e" class="">Najdete servery, kterÃ© vÃ¡m na prvnÃ­ch 5 poÅ¾adavkÅ¯ odpovÃ­ bleskovÄ› a potom zaÄnou odpovÃ­dat uÅ¾ jen reklamnÃ­ strÃ¡nkou.</p>
      <p id="7babb3f8-2226-413f-a889-9c5a6dce7b36" class="">Taky jsem vidÄ›l servery, kterÃ© modifikujÃ­ pÅ™enÃ¡Å¡enÃ¡ data a vklÃ¡dajÃ­ do nich reklamy, Äi <a href="https://blog.haschek.at/post/fd9bc">Å¡kodlivÃ½ kÃ³d</a> pomocÃ­ "on the fly" modifikace binÃ¡rnÃ­ch souborÅ¯.</p>
      <p id="2513c796-9dd9-4e35-afca-b07e33683f5f" class="">Velmi zÅ™Ã­dka narazÃ­te i na servery, kterÃ© jsou nÄ›kolik requestÅ¯ anonymnÃ­ a potom se najednou pÅ™epnou na <em>transparent</em>.</p>
      <p id="0293204e-51e0-42ff-af91-53da94abe161" class="">UÅ¾ jsem psal, Å¾e Å¾ivot proxy je jepiÄÃ­, ale nutno taky zdÅ¯raznit, Å¾e jejich umÃ­rÃ¡nÃ­ je skokovÃ©. Jak je jednou odhalÃ­, tak budou vypnuty z milisekundy na milisekundu, dle zÃ¡kona schvÃ¡lnosti nejÄastÄ›ji prÃ¡vÄ› uprostÅ™ed vaÅ¡eho datovÃ©ho pÅ™enosu.</p>
      <h3 id="dc8f41f4-dd0b-4238-88e4-f2affe171f04" class="">Na seznamy se nedÃ¡ spolehnout</h3>
      <p id="552d6554-b3cc-4e44-ad04-14c2a49ec542" class="">Dostali jste ze seznamu krÃ¡snou Elite proxy s malÃ½m pingem? Jak to vÃ­te?</p>
      <p id="9ad4c669-7b3a-4edd-a9f1-78417082a8f6" class="">NemÃ¡ smysl vÄ›Å™it ÃºdajÅ¯m, kterÃ© si stÃ¡hnete ze seznamu, jsou spÃ­Å¡ jen takovÃ© orientaÄnÃ­, slouÅ¾Ã­cÃ­ k filtrovÃ¡nÃ­ ostatnÃ­ch zÃ¡znamÅ¯ co vÃ¡s nezajÃ­majÃ­.</p>
      <h3 id="ef9c9817-ae6d-4b50-b881-18d84804a29e" class="">Seznamy se mÄ›nÃ­</h3>
      <p id="33406986-8f5e-47a8-bc6f-1ec1ad843de7" class="">PiÅ¡te si unittesty na vaÅ¡e parsery proxy serverÅ¯. Ochrany na jednotlivÃ½ch serverech se Äas od Äasu mÄ›nÃ­, stejnÄ› jako se mÄ›nÃ­ design a layout strÃ¡nky. To Å¾e nÄ›jakÃ½ grabber funguje teÄ neznamenÃ¡, Å¾e bude fungovat i zÃ­tra, proto testujte, co vlastnÄ› vracÃ­ a jestli nÃ¡hodou nepadl na tom, Å¾e server vÃ¡s zabanoval, zmÄ›nil adresu, nebo ÃºplnÄ› pÅ™estal existovat.</p>
      <p id="8ce0acd8-272b-421f-aa87-81eaf987b2d7" class="">NenÃ­ nic vÃ­c otravnÃ©ho, neÅ¾ kdyÅ¾ se po mÄ›sÃ­ci pÅ™ihlÃ¡sÃ­te na VPS, aby jste zkopÃ­rovali vÃ½sledky dlouhÃ© skliznÄ› a zjistÃ­te, Å¾e celÃ½ script stÃ¡l na tom, Å¾e mu vyschl proxy pool, protoÅ¾e nebylo odkud brÃ¡t. Na tohle by vÃ¡s mÄ›l program proaktivnÄ› upozornit mnohem dÅ™Ã­v!</p>
      <h2 id="921758fe-a955-4f35-af0b-d441e519ba32" class="">Jak s tÃ­m bojovat</h2>
      <p id="96353b4a-40fa-4bf9-888f-75fff5829050" class="">Å˜eÅ¡enÃ­ je na dvou ÃºrovnÃ­ch - na Ãºrovni kÃ³du a na Ãºrovni filtrovÃ¡nÃ­ proxy.</p>
      <h3 id="b7caa224-276b-49fb-a18d-38a034b2d5b5" class="">FiltrovÃ¡nÃ­ zÃ­skanÃ½ch proxy</h3>
      <p id="c19bef9d-ec73-4122-8c08-36f11295c9ca" class="">VÅ¡echny proxy servery, kterÃ© ze seznamu zÃ­skÃ¡te si musÃ­te provÄ›Å™it na zde popsanÃ© jevy, pÅ™ed tÃ­m neÅ¾ je mÅ¯Å¾ete pouÅ¾Ã­t. V krÃ¡tkosti:</p>
      <ol type="1" id="692021ac-d1f4-4127-b278-3d9a430d21ae" class="numbered-list" start="1">
        <li>PrvnÃ­ vÄ›c co s novÄ› zÃ­skanou proxy udÄ›lÃ¡te je, Å¾e jÃ­ vyzkouÅ¡Ã­te. ZkusÃ­te pÅ™es nÃ­ stÃ¡hnout nÄ›jakou dÅ¯vÄ›rnÄ› znÃ¡mou strÃ¡nku, kterÃ¡ zÃ¡roveÅˆ ideÃ¡lnÄ› zobrazuje poslanÃ© hlaviÄky a IP adresu. JÃ¡ za tÃ­mhle ÃºÄelem pouÅ¾Ã­vÃ¡m <a href="http://anoncheck.security-portal.cz/">anoncheck od security-portÃ¡lu</a>, protoÅ¾e uÅ¾ na nÄ›j mÃ¡m napsanÃ© parsery. IdeÃ¡lnÄ›jÅ¡Ã­ je vÅ¡ak strÃ¡nka, kterÃ¡ vracÃ­ data nÄ›jak vÃ­c strukturovanÄ›, napÅ™Ã­klad v XML.
        </li>
      </ol>
      <ol type="1" id="eca343d1-c9f3-4a95-b776-36a8cf64a80e" class="numbered-list" start="2">
        <li>PotÃ© co provÄ›Å™Ã­te, Å¾e proxy skuteÄnÄ› funguje (=nedoÅ¡lo k chybÄ› a dostali jste nÄ›jakÃ¡ data) ovÄ›Å™Ã­te co se vÃ¡m vlastnÄ› vrÃ¡tilo. Zde je nutnÃ© provÃ¡dÄ›t kontrolu celÃ©ho obsahu, jestli z nÃ­ nÃ¡hodou proxy nÄ›co nevyhodila, nÄ›co nenahradila Äi mÃ­sto obsahu neposlala nÄ›co ÃºplnÄ› jinÃ©ho. Taky provÄ›Å™te IP adresu, kterou proxy ukazuje a jestli v hlaviÄkÃ¡ch neposÃ­lÃ¡ vaÅ¡Ã­ pÅ¯vodnÃ­.</li>
      </ol>
      <ol type="1" id="282965f2-f3b7-4e8d-b2ae-2387fd8f2ad1" class="numbered-list" start="3">
        <li>ProveÄte 5 requestÅ¯ na nÃ¡hodnÃ© strÃ¡nky, napÅ™Ã­klad novinky, zprÃ¡vy, zkuste rÅ¯znÃ© domÃ©ny v rÅ¯znÃ½ch zemÃ­ch.</li>
      </ol>
      <ol type="1" id="76b993c0-2d2a-459c-8cb3-7e4abcfe746e" class="numbered-list" start="4">
        <li>Zopakujte kroky 1 a 2, ideÃ¡lnÄ› pÅ™es jinÃ½ anoncheck, aby jste nedostali zpÄ›t cacheovanÃ½ vÃ½sledek odminule a tentokrÃ¡t si zapisujte Äas. Pokud je vÅ¡e v poÅ™Ã¡dku a jestliÅ¾e proxy stÃ¡le vyhovuje maximÃ¡lnÃ­mu Äasu, kterÃ½ jste ochotni tolerovat, pÅ™idejte jÃ­ do databÃ¡ze.</li>
      </ol>
      <ol type="1" id="066a3fc4-4faa-4b80-a2f2-1121b1ea7025" class="numbered-list" start="5">
        <li>Krok 1 a 2 opakujte kaÅ¾dÃ½ch N minut (napÅ™Ã­klad 60, 120 atd..), aby jste odhalili proxy, kterÃ© se Äasem mÄ›nÃ­, Äi jsou vypnuty.</li>
      </ol>
      <h3 id="13c3f48c-a4a7-4612-8d75-cfab15210c3f" class="">Na Ãºrovni kÃ³du</h3>
      <p id="1d023e5a-75a9-405a-9637-c8deed591377" class="">Pokud sklÃ­zÃ­te nÄ›jakÃ© vÄ›tÅ¡Ã­ objemy dat a program pobÄ›Å¾Ã­ dÃ©le, neÅ¾ jen pÃ¡r hodin, je nutnÃ© poÄÃ­tat s tÃ­m, Å¾e nebudete zadÃ¡vat jen jednu proxy pÅ™i spuÅ¡tÄ›nÃ­ a musÃ­ bÃ½t pÅ™Ã­tomna nÄ›jakÃ¡ cesta, jak z filtru novÃ½ch proxy serverÅ¯ naÄÃ­tat dalÅ¡Ã­ a pÅ™Ã­padnÄ› dÃ¡t zpÄ›t vÄ›dÄ›t, Å¾e by mÄ›l filtr pÅ™esunout nefunkÄnÃ­ proxy na banlist.</p>
      <p id="1dc2fb73-8ad8-4f6e-92a1-a3e2eea0d27c" class="">DÃ¡l je nutnÃ© poÄÃ­tat s naÄÃ­tÃ¡nÃ­m a uklÃ¡dÃ¡nÃ­m stavu - tohle pÅ™Ã­mo nesouvisÃ­ s proxy, ale je dobrÃ© poÄÃ­tat s tÃ­m, Å¾e program mÅ¯Å¾e zhavarovat a po startu by mÄ›l zaÄÃ­t tam kde pÅ™estal, nikoliv dÄ›lat vÅ¡e ÃºplnÄ› odznova.</p>
      <p id="599f7d10-160b-4622-9fff-fe6fcbf86e75" class="">Na Ãºrovni funkce, kterÃ¡ stahuje data z internetu je nutnÃ© poÄÃ­tat s nÄ›kolika efekty:</p>
      <ol type="1" id="a74dc1c9-4e2c-4d6f-950c-4e42fed2f019" class="numbered-list" start="1">
        <li>Cokoliv co stahujete mÅ¯Å¾e z niÄeho nic zhavarovat. Pokud se to stane, zkuste to znova. Pokud to opÄ›t zhavaruje, potÅ™ebujete novou proxy a starou pÅ™idat na banlist. SkvÄ›le se mi v tomhle ohledu osvÄ›dÄil <code>@retry</code> dekorÃ¡tor z balÃ­ku <a href="https://github.com/rholder/retrying">retrying</a>.
        </li>
      </ol>
      <ol type="1" id="dee3f1c1-9fee-45dc-87e6-b227b6236b21" class="numbered-list" start="2">
        <li>Cokoliv co stahujete mÅ¯Å¾e trvat nehorÃ¡znÄ› dlouho. Pokud se to stane, je nutnÃ© vyvolat timeout, k ÄemuÅ¾ jsem si napsal vlastnÃ­ dekorÃ¡tor <code>@timeout</code>, jenÅ¾ je moÅ¾nÃ© nalÃ©zt v balÃ­ku <a href="https://github.com/Bystroushaak/timeout_wrapper">timeout_wrapper</a>. JestliÅ¾e se situace opakuje, pouÅ¾ijte novou proxy a starou pÅ™idejte na banlist.
        </li>
      </ol>
      <ol type="1" id="6ce64233-4378-4cc0-aec6-2a4ba81a21cf" class="numbered-list" start="3">
        <li>VolitelnÄ› mÅ¯Å¾ete kontrolovat integritu stahovanÃ½ch dat. Pokud napÅ™Ã­klad sklÃ­zÃ­te nÄ›jakÃ½ server, koukejte se po okolÃ­ zaÄÃ¡tku a konci HTML, jestli tam najednou proxy nezaÄala cpÃ¡t reklamy. NÄ›kdy to vadÃ­, nÄ›kdy ne, to zÃ¡leÅ¾Ã­ na vÃ¡s, projekt od projektu.</li>
      </ol>
      <h2 id="4ef9f0a7-b86c-4f52-a123-5c54bb4d8c7d" class="">IdeÃ¡lnÃ­ architektura</h2>
      <p id="b848b0e4-a1ad-4234-8182-e2535ecb9059" class="">IdeÃ¡lnÃ­ architektura by vypadala nÄ›jak takhle:</p>
      <p id="cb45880d-2a90-4dd8-a93e-c6592dabc22f" class="">MÃ¡te samostatnÄ› fungujÃ­cÃ­ stahovaÄe, kterÃ© proÄesÃ¡vajÃ­ proxylisty a stahujÃ­ z nich informace. Tyto informace cpou do fronty pÅ™Ã­chozÃ­ch proxy.</p>
      <p id="ceeb3fe3-74fb-4f36-8562-d04303c90cd6" class="">Frontu sleduje spouÅ¡tÄ›Ä provÄ›Å™ovaÄÅ¯. Pokud se v nÃ­ objevÃ­ novÃ¡ proxy, kterÃ¡ nenÃ­ na banlistu, je spuÅ¡tÄ›n proces provÄ›Å™ovaÄe s timeoutem pÃ¡r minut, kterÃ½ proxy provÄ›Å™Ã­ a pÅ™Ã­padnÄ› jÃ­ schvÃ¡lÃ­, Äi umÃ­stÃ­ na banlist, aby s nÃ­ pÅ™Ã­Å¡tÄ› neztrÃ¡cel Äas.</p>
      <p id="6cb5cdfc-4c4b-4c63-bec0-f39b3f6c46ab" class="">SchvÃ¡lenÃ© proxy jsou pÅ™esunovÃ¡ny do fronty ovÄ›Å™enÃ½ch proxy listÅ¯, odkud si je berou aplikace. Pokud aplikace proxy pouÅ¾ije, resetuje timeout do dalÅ¡Ã­ho provÄ›Å™enÃ­. JestliÅ¾e se proxy bÄ›hem pouÅ¾itÃ­ ukÃ¡Å¾e jako nevhodnÃ¡, je pÅ™idÃ¡na na banlist.</p>
      <p id="913ee4d8-523b-48f9-af56-7f646827c301" class="">Pokud je proxy ve frontÄ› ovÄ›Å™enÃ½ch proxy listÅ¯ dÃ©le jak N minut, je znova pÅ™edÃ¡na na provÄ›Å™enÃ­.</p>
      <figure id="52a20b37-516a-4cea-81f6-03e3205430cb" class="image">
        <a href="Bolest_proxy/Untitled.png" title="Untitled.png"><img style="width:797px" src="Bolest_proxy/Untitled.png"></a>
      </figure>
      <h2 id="8903e552-6936-41ed-961c-dfeb449d75df" class="">NeideÃ¡lnÃ­ architektura</h2>
      <p id="d04bcd28-ac52-43b7-a135-e80d9242925f" class="">Pokud nejste zas tak moc zruÄnÃ­ programÃ¡toÅ™i, nebo prostÄ› a jednoduÅ¡e nemÃ¡te moc Äasu, celÃ© se to dÃ¡ udÄ›lat <em>Å¡pinavÄ›</em> a <em>oÅ¡klivÄ›</em>, podmÃ­nkou vÅ¡ak je, Å¾e vÃ¡Å¡ program umÃ­ pokraÄovat tam, kde pÅ™estal.</p>
      <p id="e75f94b4-f14d-4d6b-a5c0-858fe7240867" class="">K tomu jsou zapotÅ™ebÃ­ dvÄ› vÄ›ci:</p>
      <h3 id="7fd8b1dd-7ddc-4afa-aee7-fc55057672c1" class="">doitfaggot</h3>
      <p id="fe926a16-bb3a-4b35-9c3d-aedab3196988" class="">JiÅ¾ dlouhÃ¡ lÃ©ta pouÅ¾Ã­vÃ¡m tento maximÃ¡lnÄ› triviÃ¡lnÃ­ scriptÃ­k, kterÃ½ jsem nazval <code>doitfaggot</code>:</p>
      <pre id="5a3686f4-3cd3-4ddc-88ed-095dd40eac34" class="code code-wrap"><code>#!/bin/sh
while ! $*; do
    :;
    sleep 2;
done</code></pre>
      <p id="a7ef5a44-47d5-4083-a5cc-a058e32ad967" class="">JedinÃ© co tento script dÄ›lÃ¡ je, Å¾e spouÅ¡tÃ­ parametr do tÃ© doby, dokud se neukonÄÃ­ s nulovÃ½m vÃ½stupnÃ­m kÃ³dem.</p>
      <h3 id="3431c813-cce4-435c-aeb8-a58cac983df9" class="">timeout</h3>
      <p id="5cab2bd9-5235-41ca-8499-4c99c2a74fa3" class=""><a href="http://linux.die.net/man/1/timeout">timeout</a> je linuxovÃ½ program, kterÃ½ spustÃ­ parametr a ÄekÃ¡ na ukonÄenÃ­ maximÃ¡lnÄ› nÄ›jakou stanovenou dobu. Pokud program bÄ›Å¾Ã­ dÃ©le, je nÃ¡silnÄ› ukonÄen.</p>
      <h3 id="19df1c3c-2920-4975-91aa-937c138f4fc8" class="">quick n' dirty</h3>
      <p id="dadfdfa8-0ad3-4794-ad08-b34e6645f8de" class="">Asi uÅ¾ vÃ¡m doÅ¡lo, jak to celÃ© bude fungovat:</p>
      <pre id="ab2fe4d3-1cf5-4b86-82ce-9550a9dcca3b" class="code code-wrap"><code>doitfaggot timeout 10m my_program.py -p `./get_proxy.py | head -n 1`</code></pre>
      <p id="343f36fa-facb-433f-9aba-f3ffcd2d75f0" class="">CelÃ© to funguje tak, Å¾e <code>doitfaggot</code> spouÅ¡tÃ­ vÃ¡Å¡ program dokud timeoutuje (=<code>timeout</code> vracÃ­ kÃ³d &gt;0), coÅ¾ se dÄ›je kaÅ¾dÃ½ch 10 minut. Jakmile se vÃ¡Å¡ program korektnÄ› ukonÄÃ­, <code>timeout</code> vrÃ¡tÃ­ 0, ÄÃ­mÅ¾ se vypne i <code>doitfaggot</code>. Proxy server je pÅ™i kaÅ¾dÃ©m zavolÃ¡nÃ­ naÄten jako parametr vaÅ¡eho programu.</p>
      <p id="4ca44f82-b81b-43a2-b425-17962e727c52" class="">Tento pÅ™Ã­stup je z programÃ¡torskÃ©ho hlediska neskuteÄnÃ¡ praseÄina, ale dÃ¡ se docela ÃºspÄ›Å¡nÄ› pouÅ¾Ã­t na menÅ¡Ã­ vÄ›ci. V podstatÄ› veÅ¡kerÃ© uvedenÃ© dobrÃ© rady a moÅ¾nÃ© chybovÃ© chovÃ¡nÃ­ ignoruje a hrubou silou to zkouÅ¡Ã­ stÃ¡le znova a znova a znova a zase, dokud neuspÄ›je.</p>
      <p id="8c166ca5-c9d2-48b2-b6d5-0bbca79edda2" class=""></p>
    </div>
  </article>
  <div class="corner-ribbon top-right red">
    <a href="https://www.patreon.com/bePatron?u=2618881">Become a Patron</a>
  </div><a class="twitter-share-button" id="twitter_button" href="#"><img src="../../tweet_button.svg"></a>
  <div id="sidebar_bottom">
    <span><a href="https://blog.rfox.eu/atom_cz.xml"><img style="width: 3em;" src="../../rss_icon.png"></a> &nbsp; &nbsp; <a href="https://twitter.com/Bystroushaak"><img style="width: 3em;" src="../../twitter_icon.png"></a></span>
    <div id="last_five_bottom">
      <h3>New posts</h3>
      <ul>
        <li>
          <a href="../Povidky/Software.html" title="Software">Software</a>
        </li>
        <li>
          <a href="../Ostatni/Paromobilita_je_budoucnost.html" title="Paromobilita je budoucnost">Paromobilita je budoucnost</a>
        </li>
        <li>
          <a href="../Ostatni/Algoritmus_hledani_programatorske_prace_2021-4.html" title="Algoritmus hledÃ¡nÃ­ programÃ¡torskÃ© prÃ¡ce 2021/4">Algoritmus hledÃ¡nÃ­ programÃ¡torskÃ© prÃ¡ce 2021/4</a>
        </li>
        <li>
          <a href="../3D_tisk/Nastaveni_Blenderu_pro_3D_tisk.html" title="NastavenÃ­ Blenderu pro 3D tisk">NastavenÃ­ Blenderu pro 3D tisk</a>
        </li>
        <li>
          <a href="../3D_modelovani/Geometricky_stred_Prahy.html" title="GeometrickÃ½ stÅ™ed Prahy">GeometrickÃ½ stÅ™ed Prahy</a>
        </li>
        <li>
          <a href="../../Utrzky/Posta_poezie.html" title="PoÅ¡ta (poezie)"><span class="icon">ğŸ—’ï¸</span>PoÅ¡ta (poezie)</a>
        </li>
        <li>
          <a href="../Ostatni/Statni_zklamani.html" title="StÃ¡tnÃ­ zklamÃ¡nÃ­">StÃ¡tnÃ­ zklamÃ¡nÃ­</a>
        </li>
        <li>
          <a href="../3D_tisk/3D_TODO_list_1_Drzak_na_sluchatka.html" title="3D TODO list 1; DrÅ¾Ã¡k na sluchÃ¡tka">3D TODO list 1; DrÅ¾Ã¡k na sluchÃ¡tka</a>
        </li>
        <li>
          <a href="../Ostatni/Dva_podvodnici.html" title="Dva podvodnÃ­ci">Dva podvodnÃ­ci</a>
        </li>
        <li>
          <a href="../3D_tisk/3D_tiskarna_Prusa_MK3S_sestaveni_a_prvni_tisk.html" title="3D tiskÃ¡rna PrÅ¯Å¡a MK3S+; sestavenÃ­ a prvnÃ­ tisk">3D tiskÃ¡rna PrÅ¯Å¡a MK3S+; sestavenÃ­ a prvnÃ­ tisk</a>
        </li>
      </ul>& <a href="../../Zmeny.html" title="ZmÄ›ny">more</a>
    </div>
    <div>
      <h3>Tagy</h3>
      <p><a href="../../Tagy/hacking.html" title="hacking">hacking</a>, <a href="../../Tagy/programovani.html" title="programovani">programovani</a>, <a href="../../Tagy/proxy.html" title="proxy">proxy</a></p>
    </div>
    <div>
      <h3>Blog categories</h3>
      <ul class="no_icon">
        <li>
          <a href="../Povidky.html" title="PovÃ­dky">ğŸ“‚ PovÃ­dky</a>
        </li>
        <li>
          <a href="../3D_modelovani.html" title="3D modelovÃ¡nÃ­">ğŸ“‚ 3D modelovÃ¡nÃ­</a>
        </li>
        <li>
          <a href="../3D_tisk.html" title="3D tisk">ğŸ“‚ 3D tisk</a>
        </li>
        <li>
          <a href="../Programovani.html" title="ProgramovÃ¡nÃ­">ğŸ“‚ ProgramovÃ¡nÃ­</a>
        </li>
        <li>
          <a href="../Crypto.html" title="Crypto">ğŸ“‚ Crypto</a>
        </li>
        <li>
          <a href="../Ostatni.html" title="OstatnÃ­">ğŸ“‚ OstatnÃ­</a>
        </li>
        <li>
          <a href="../Knihy.html" title="Knihy">ğŸ“‚ Knihy</a>
        </li>
        <li>
          <a href="../Predstaveni.html" title="PÅ™edstavenÃ­">ğŸ“‚ PÅ™edstavenÃ­</a>
        </li>
        <li>
          <a href="../Abclinuxu.html" title="Abclinuxu">ğŸ“‚ Abclinuxu</a>
        </li>
        <li>
          <a href="../Hardware.html" title="Hardware">ğŸ“‚ Hardware</a>
        </li>
        <li>
          <a href="../Hrbitov.html" title="HÅ™bitov">ğŸ“‚ HÅ™bitov</a>
        </li>
        <li>
          <a href="../index.html" title="Czech section">ğŸ“‚ Czech section</a>
        </li>
      </ul>
    </div>
  </div>
</body>
</html>
